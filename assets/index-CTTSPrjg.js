(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function SE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Np={exports:{}},Cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function GC(){if(fx)return Cc;fx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Cc.Fragment=e,Cc.jsx=n,Cc.jsxs=n,Cc}var dx;function KC(){return dx||(dx=1,Np.exports=GC()),Np.exports}var y=KC(),Ip={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function $C(){if(mx)return De;mx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function A(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,I={};function U(w,K,ne){this.props=w,this.context=K,this.refs=I,this.updater=ne||M}U.prototype.isReactComponent={},U.prototype.setState=function(w,K){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,K,"setState")},U.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function F(){}F.prototype=U.prototype;function z(w,K,ne){this.props=w,this.context=K,this.refs=I,this.updater=ne||M}var ie=z.prototype=new F;ie.constructor=z,N(ie,U.prototype),ie.isPureReactComponent=!0;var te=Array.isArray;function le(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function V(w,K,ne){var oe=ne.ref;return{$$typeof:t,type:w,key:K,ref:oe!==void 0?oe:null,props:ne}}function L(w,K){return V(w.type,K,w.props)}function O(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function H(w){var K={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ne){return K[ne]})}var j=/\/+/g;function Le(w,K){return typeof w=="object"&&w!==null&&w.key!=null?H(""+w.key):K.toString(36)}function We(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(le,le):(w.status="pending",w.then(function(K){w.status==="pending"&&(w.status="fulfilled",w.value=K)},function(K){w.status==="pending"&&(w.status="rejected",w.reason=K)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function J(w,K,ne,oe,he){var me=typeof w;(me==="undefined"||me==="boolean")&&(w=null);var de=!1;if(w===null)de=!0;else switch(me){case"bigint":case"string":case"number":de=!0;break;case"object":switch(w.$$typeof){case t:case e:de=!0;break;case v:return de=w._init,J(de(w._payload),K,ne,oe,he)}}if(de)return he=he(w),de=oe===""?"."+Le(w,0):oe,te(he)?(ne="",de!=null&&(ne=de.replace(j,"$&/")+"/"),J(he,K,ne,"",function(et){return et})):he!=null&&(O(he)&&(he=L(he,ne+(he.key==null||w&&w.key===he.key?"":(""+he.key).replace(j,"$&/")+"/")+de)),K.push(he)),1;de=0;var be=oe===""?".":oe+":";if(te(w))for(var Ee=0;Ee<w.length;Ee++)oe=w[Ee],me=be+Le(oe,Ee),de+=J(oe,K,ne,me,he);else if(Ee=A(w),typeof Ee=="function")for(w=Ee.call(w),Ee=0;!(oe=w.next()).done;)oe=oe.value,me=be+Le(oe,Ee++),de+=J(oe,K,ne,me,he);else if(me==="object"){if(typeof w.then=="function")return J(We(w),K,ne,oe,he);throw K=String(w),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return de}function ue(w,K,ne){if(w==null)return w;var oe=[],he=0;return J(w,oe,"","",function(me){return K.call(ne,me,he++)}),oe}function pe(w){if(w._status===-1){var K=w._result;K=K(),K.then(function(ne){(w._status===0||w._status===-1)&&(w._status=1,w._result=ne)},function(ne){(w._status===0||w._status===-1)&&(w._status=2,w._result=ne)}),w._status===-1&&(w._status=0,w._result=K)}if(w._status===1)return w._result.default;throw w._result}var Ce=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},G={map:ue,forEach:function(w,K,ne){ue(w,function(){K.apply(this,arguments)},ne)},count:function(w){var K=0;return ue(w,function(){K++}),K},toArray:function(w){return ue(w,function(K){return K})||[]},only:function(w){if(!O(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return De.Activity=b,De.Children=G,De.Component=U,De.Fragment=n,De.Profiler=a,De.PureComponent=z,De.StrictMode=s,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,De.__COMPILER_RUNTIME={__proto__:null,c:function(w){return D.H.useMemoCache(w)}},De.cache=function(w){return function(){return w.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(w,K,ne){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var oe=N({},w.props),he=w.key;if(K!=null)for(me in K.key!==void 0&&(he=""+K.key),K)!C.call(K,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&K.ref===void 0||(oe[me]=K[me]);var me=arguments.length-2;if(me===1)oe.children=ne;else if(1<me){for(var de=Array(me),be=0;be<me;be++)de[be]=arguments[be+2];oe.children=de}return V(w.type,he,oe)},De.createContext=function(w){return w={$$typeof:u,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:l,_context:w},w},De.createElement=function(w,K,ne){var oe,he={},me=null;if(K!=null)for(oe in K.key!==void 0&&(me=""+K.key),K)C.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(he[oe]=K[oe]);var de=arguments.length-2;if(de===1)he.children=ne;else if(1<de){for(var be=Array(de),Ee=0;Ee<de;Ee++)be[Ee]=arguments[Ee+2];he.children=be}if(w&&w.defaultProps)for(oe in de=w.defaultProps,de)he[oe]===void 0&&(he[oe]=de[oe]);return V(w,me,he)},De.createRef=function(){return{current:null}},De.forwardRef=function(w){return{$$typeof:f,render:w}},De.isValidElement=O,De.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:pe}},De.memo=function(w,K){return{$$typeof:g,type:w,compare:K===void 0?null:K}},De.startTransition=function(w){var K=D.T,ne={};D.T=ne;try{var oe=w(),he=D.S;he!==null&&he(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(le,Ce)}catch(me){Ce(me)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),D.T=K}},De.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},De.use=function(w){return D.H.use(w)},De.useActionState=function(w,K,ne){return D.H.useActionState(w,K,ne)},De.useCallback=function(w,K){return D.H.useCallback(w,K)},De.useContext=function(w){return D.H.useContext(w)},De.useDebugValue=function(){},De.useDeferredValue=function(w,K){return D.H.useDeferredValue(w,K)},De.useEffect=function(w,K){return D.H.useEffect(w,K)},De.useEffectEvent=function(w){return D.H.useEffectEvent(w)},De.useId=function(){return D.H.useId()},De.useImperativeHandle=function(w,K,ne){return D.H.useImperativeHandle(w,K,ne)},De.useInsertionEffect=function(w,K){return D.H.useInsertionEffect(w,K)},De.useLayoutEffect=function(w,K){return D.H.useLayoutEffect(w,K)},De.useMemo=function(w,K){return D.H.useMemo(w,K)},De.useOptimistic=function(w,K){return D.H.useOptimistic(w,K)},De.useReducer=function(w,K,ne){return D.H.useReducer(w,K,ne)},De.useRef=function(w){return D.H.useRef(w)},De.useState=function(w){return D.H.useState(w)},De.useSyncExternalStore=function(w,K,ne){return D.H.useSyncExternalStore(w,K,ne)},De.useTransition=function(){return D.H.useTransition()},De.version="19.2.3",De}var px;function cy(){return px||(px=1,Ip.exports=$C()),Ip.exports}var P=cy();const AE=SE(P);var Dp={exports:{}},Nc={},Mp={exports:{}},Vp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function YC(){return gx||(gx=1,(function(t){function e(J,ue){var pe=J.length;J.push(ue);e:for(;0<pe;){var Ce=pe-1>>>1,G=J[Ce];if(0<a(G,ue))J[Ce]=ue,J[pe]=G,pe=Ce;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ue=J[0],pe=J.pop();if(pe!==ue){J[0]=pe;e:for(var Ce=0,G=J.length,w=G>>>1;Ce<w;){var K=2*(Ce+1)-1,ne=J[K],oe=K+1,he=J[oe];if(0>a(ne,pe))oe<G&&0>a(he,ne)?(J[Ce]=he,J[oe]=pe,Ce=oe):(J[Ce]=ne,J[K]=pe,Ce=K);else if(oe<G&&0>a(he,pe))J[Ce]=he,J[oe]=pe,Ce=oe;else break e}}return ue}function a(J,ue){var pe=J.sortIndex-ue.sortIndex;return pe!==0?pe:J.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],g=[],v=1,b=null,E=3,A=!1,M=!1,N=!1,I=!1,U=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function ie(J){for(var ue=n(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=J)s(g),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=n(g)}}function te(J){if(N=!1,ie(J),!M)if(n(m)!==null)M=!0,le||(le=!0,H());else{var ue=n(g);ue!==null&&We(te,ue.startTime-J)}}var le=!1,D=-1,C=5,V=-1;function L(){return I?!0:!(t.unstable_now()-V<C)}function O(){if(I=!1,le){var J=t.unstable_now();V=J;var ue=!0;try{e:{M=!1,N&&(N=!1,F(D),D=-1),A=!0;var pe=E;try{t:{for(ie(J),b=n(m);b!==null&&!(b.expirationTime>J&&L());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,E=b.priorityLevel;var G=Ce(b.expirationTime<=J);if(J=t.unstable_now(),typeof G=="function"){b.callback=G,ie(J),ue=!0;break t}b===n(m)&&s(m),ie(J)}else s(m);b=n(m)}if(b!==null)ue=!0;else{var w=n(g);w!==null&&We(te,w.startTime-J),ue=!1}}break e}finally{b=null,E=pe,A=!1}ue=void 0}}finally{ue?H():le=!1}}}var H;if(typeof z=="function")H=function(){z(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Le=j.port2;j.port1.onmessage=O,H=function(){Le.postMessage(null)}}else H=function(){U(O,0)};function We(J,ue){D=U(function(){J(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(J){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var pe=E;E=ue;try{return J()}finally{E=pe}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var pe=E;E=J;try{return ue()}finally{E=pe}},t.unstable_scheduleCallback=function(J,ue,pe){var Ce=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ce+pe:Ce):pe=Ce,J){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=pe+G,J={id:v++,callback:ue,priorityLevel:J,startTime:pe,expirationTime:G,sortIndex:-1},pe>Ce?(J.sortIndex=pe,e(g,J),n(m)===null&&J===n(g)&&(N?(F(D),D=-1):N=!0,We(te,pe-Ce))):(J.sortIndex=G,e(m,J),M||A||(M=!0,le||(le=!0,H()))),J},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(J){var ue=E;return function(){var pe=E;E=ue;try{return J.apply(this,arguments)}finally{E=pe}}}})(Vp)),Vp}var yx;function QC(){return yx||(yx=1,Mp.exports=YC()),Mp.exports}var Op={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function XC(){if(vx)return mn;vx=1;var t=cy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},mn.flushSync=function(m){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=v,s.d.f()}},mn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},mn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},mn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:A}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},mn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=f(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},mn.requestFormReset=function(m){s.d.r(m)},mn.unstable_batchedUpdates=function(m,g){return m(g)},mn.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var _x;function WC(){if(_x)return Op.exports;_x=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Op.exports=XC(),Op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function ZC(){if(bx)return Nc;bx=1;var t=QC(),e=cy(),n=WC();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),i;if(p===c)return m(d),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=p;else{for(var x=!1,S=d.child;S;){if(S===o){x=!0,o=d,c=p;break}if(S===c){x=!0,c=d,o=p;break}S=S.sibling}if(!x){for(S=p.child;S;){if(S===o){x=!0,o=p,c=d;break}if(S===c){x=!0,c=p,o=d;break}S=S.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),z=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function Le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case U:return"Profiler";case I:return"StrictMode";case te:return"Suspense";case le:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case z:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case ie:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:Le(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return Le(i(r))}catch{}}return null}var We=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ce=[],G=-1;function w(i){return{current:i}}function K(i){0>G||(i.current=Ce[G],Ce[G]=null,G--)}function ne(i,r){G++,Ce[G]=i.current,i.current=r}var oe=w(null),he=w(null),me=w(null),de=w(null);function be(i,r){switch(ne(me,r),ne(he,i),ne(oe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Pb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Pb(r),i=jb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(oe),ne(oe,i)}function Ee(){K(oe),K(he),K(me)}function et(i){i.memoizedState!==null&&ne(de,i);var r=oe.current,o=jb(r,i.type);r!==o&&(ne(he,i),ne(oe,o))}function Ye(i){he.current===i&&(K(oe),K(he)),de.current===i&&(K(de),wc._currentValue=pe)}var it,vt;function Ie(i){if(it===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);it=r&&r[1]||"",vt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+i+vt}var Vt=!1;function Gt(i,r){if(!i||Vt)return"";Vt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Z){var X=Z}Reflect.construct(i,[],re)}else{try{re.call()}catch(Z){X=Z}i.call(re.prototype)}}else{try{throw Error()}catch(Z){X=Z}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),x=p[0],S=p[1];if(x&&S){var k=x.split(`
`),Q=S.split(`
`);for(d=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(c===k.length||d===Q.length)for(c=k.length-1,d=Q.length-1;1<=c&&0<=d&&k[c]!==Q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(k[c]!==Q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||k[c]!==Q[d]){var ee=`
`+k[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=d);break}}}finally{Vt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ie(o):""}function nn(i,r){switch(i.tag){case 26:case 27:case 5:return Ie(i.type);case 16:return Ie("Lazy");case 13:return i.child!==r&&r!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Gt(i.type,!1);case 11:return Gt(i.type.render,!1);case 1:return Gt(i.type,!0);case 31:return Ie("Activity");default:return""}}function bn(i){try{var r="",o=null;do r+=nn(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ot=Object.prototype.hasOwnProperty,tt=t.unstable_scheduleCallback,Ii=t.unstable_cancelCallback,Cl=t.unstable_shouldYield,Wa=t.unstable_requestPaint,Xt=t.unstable_now,vs=t.unstable_getCurrentPriorityLevel,Ys=t.unstable_ImmediatePriority,Zr=t.unstable_UserBlockingPriority,Di=t.unstable_NormalPriority,Za=t.unstable_LowPriority,Jr=t.unstable_IdlePriority,Qs=t.log,Ja=t.unstable_setDisableYieldValue,On=null,sn=null;function Gn(i){if(typeof Qs=="function"&&Ja(i),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(On,i)}catch{}}var Ct=Math.clz32?Math.clz32:Pu,Ou=Math.log,eo=Math.LN2;function Pu(i){return i>>>=0,i===0?32:31-(Ou(i)/eo|0)|0}var Mi=256,ea=262144,Ot=4194304;function Vi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,p=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~p,c!==0?d=Vi(c):(x&=S,x!==0?d=Vi(x):o||(o=S&~i,o!==0&&(d=Vi(o))))):(S=c&~p,S!==0?d=Vi(S):x!==0?d=Vi(x):o||(o=c&~i,o!==0&&(d=Vi(o)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:d}function ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Vd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var i=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),i}function Pi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ta(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Od(i,r,o,c,d,p){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,k=i.expirationTimes,Q=i.hiddenUpdates;for(o=x&~o;0<o;){var ee=31-Ct(o),re=1<<ee;S[ee]=0,k[ee]=-1;var X=Q[ee];if(X!==null)for(Q[ee]=null,ee=0;ee<X.length;ee++){var Z=X[ee];Z!==null&&(Z.lane&=-536870913)}o&=~re}c!==0&&na(i,c,0),p!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=p&~(x&~r))}function na(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Ct(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Nl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Ct(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function Il(i,r){var o=r&-r;return o=(o&42)!==0?1:ia(o),(o&(i.suspendedLanes|r))!==0?0:o}function ia(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _s(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ku(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:rx(i.type))}function hi(i,r){var o=ue.p;try{return ue.p=i,r()}finally{ue.p=o}}var fi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+fi,Wt="__reactProps$"+fi,ji="__reactContainer$"+fi,to="__reactEvents$"+fi,Pd="__reactListeners$"+fi,Lu="__reactHandles$"+fi,Uu="__reactResources$"+fi,ki="__reactMarker$"+fi;function no(i){delete i[Pt],delete i[Wt],delete i[to],delete i[Pd],delete i[Lu]}function Li(i){var r=i[Pt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ji]||o[Pt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Hb(i);i!==null;){if(o=i[Pt])return o;i=Hb(i)}return r}i=o,o=i.parentNode}return null}function Kn(i){if(i=i[Pt]||i[ji]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Pn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ui(i){var r=i[Uu];return r||(r=i[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function jt(i){i[ki]=!0}var Dl=new Set,Ml={};function Bi(i,r){zi(i,r),zi(i+"Capture",r)}function zi(i,r){for(Ml[i]=r,i=0;i<r.length;i++)Dl.add(r[i])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Pl={};function Bu(i){return ot.call(Pl,i)?!0:ot.call(Ol,i)?!1:Vl.test(i)?Pl[i]=!0:(Ol[i]=!0,!1)}function io(i,r,o){if(Bu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function jn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function kt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Zt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(x){o=""+x,p.call(this,x)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function st(i){if(!i._valueTracker){var r=Xs(i)?"checked":"value";i._valueTracker=jl(i,r,""+i[r])}}function sa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Xs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Fi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ra=/[\n"\\]/g;function Sn(i){return i.replace(ra,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function so(i,r,o,c,d,p,x,S){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Zt(r)):i.value!==""+Zt(r)&&(i.value=""+Zt(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?kl(i,x,Zt(r)):o!=null?kl(i,x,Zt(o)):c!=null&&i.removeAttribute("value"),d==null&&p!=null&&(i.defaultChecked=!!p),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Zt(S):i.removeAttribute("name")}function zu(i,r,o,c,d,p,x,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){st(i);return}o=o!=null?""+Zt(o):"",r=r!=null?""+Zt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),st(i)}function kl(i,r,o){r==="number"&&Fi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ws(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Zt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Fu(i,r,o){if(r!=null&&(r=""+Zt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Zt(o):""}function Zs(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(We(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Zt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),st(i)}function An(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Hu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Ul(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&Ll(i,d,c)}else for(var p in r)r.hasOwnProperty(p)&&Ll(i,p,r[p])}function ro(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(i){return Js.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function di(){}var Bl=null;function $n(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var er=null,Hi=null;function aa(i){var r=Kn(i);if(r&&(i=r.stateNode)){var o=i[Wt]||null;e:switch(i=r.stateNode,r.type){case"input":if(so(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[Wt]||null;if(!d)throw Error(s(90));so(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&sa(c)}break e;case"textarea":Fu(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ws(i,!!o.multiple,r,!1)}}}var oo=!1;function tr(i,r,o){if(oo)return i(r,o);oo=!0;try{var c=i(r);return c}finally{if(oo=!1,(er!==null||Hi!==null)&&(kh(),er&&(r=er,i=Hi,Hi=er=null,aa(r),i)))for(r=0;r<i.length;r++)aa(i[r])}}function mi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Wt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(Yn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){oa=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{oa=!1}var qi=null,zl=null,la=null;function Fl(){if(la)return la;var i,r=zl,o=r.length,c,d="value"in qi?qi.value:qi.textContent,p=d.length;for(i=0;i<o&&r[i]===d[i];i++);var x=o-i;for(c=1;c<=x&&r[o-c]===d[p-c];c++);return la=d.slice(i,1<c?1-c:void 0)}function ca(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function bs(){return!0}function pi(){return!1}function rn(i){function r(o,c,d,p,x){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?bs:pi,this.isPropagationStopped=pi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),r}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=rn(xs),nr=b({},xs,{view:0,detail:0}),Hl=rn(nr),ir,lo,Ki,co=b({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ki&&(Ki&&i.type==="mousemove"?(ir=i.screenX-Ki.screenX,lo=i.screenY-Ki.screenY):lo=ir=0,Ki=i),ir)},movementY:function(i){return"movementY"in i?i.movementY:lo}}),ql=rn(co),ua=b({},co,{dataTransfer:0}),Gu=rn(ua),Ku=b({},nr,{relatedTarget:0}),ha=rn(Ku),Gl=b({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),$u=rn(Gl),uo=b({},xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yu=rn(uo),Qu=b({},xs,{data:0}),$i=rn(Qu),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Zu[i])?!!r[i]:!1}function sr(){return Ju}var xn=b({},nr,{key:function(i){if(i.key){var r=Xu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),eh=rn(xn),th=b({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ts=rn(th),h=b({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),_=rn(h),T=b({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=rn(T),$=b({},co,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=rn($),fe=b({},xs,{newState:0,oldState:0}),Ve=rn(fe),Nt=[9,13,27,32],Ze=Yn&&"CompositionEvent"in window,_t=null;Yn&&"documentMode"in document&&(_t=document.documentMode);var Qn=Yn&&"TextEvent"in window&&!_t,Yi=Yn&&(!Ze||_t&&8<_t&&11>=_t),gi=" ",yi=!1;function fa(i,r){switch(i){case"keyup":return Nt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fo=!1;function pR(i,r){switch(i){case"compositionend":return ho(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return i=r.data,i===gi&&yi?null:i;default:return null}}function gR(i,r){if(fo)return i==="compositionend"||!Ze&&fa(i,r)?(i=Fl(),la=zl=qi=null,fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Yi&&r.locale!=="ko"?null:r.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!yR[i.type]:r==="textarea"}function $v(i,r,o,c){er?Hi?Hi.push(c):Hi=[c]:er=c,r=qh(r,"onChange"),0<r.length&&(o=new Gi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Kl=null,$l=null;function vR(i){Nb(i,0)}function nh(i){var r=Pn(i);if(sa(r))return i}function Yv(i,r){if(i==="change")return r}var Qv=!1;if(Yn){var jd;if(Yn){var kd="oninput"in document;if(!kd){var Xv=document.createElement("div");Xv.setAttribute("oninput","return;"),kd=typeof Xv.oninput=="function"}jd=kd}else jd=!1;Qv=jd&&(!document.documentMode||9<document.documentMode)}function Wv(){Kl&&(Kl.detachEvent("onpropertychange",Zv),$l=Kl=null)}function Zv(i){if(i.propertyName==="value"&&nh($l)){var r=[];$v(r,$l,i,$n(i)),tr(vR,r)}}function _R(i,r,o){i==="focusin"?(Wv(),Kl=r,$l=o,Kl.attachEvent("onpropertychange",Zv)):i==="focusout"&&Wv()}function bR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nh($l)}function xR(i,r){if(i==="click")return nh(r)}function TR(i,r){if(i==="input"||i==="change")return nh(r)}function ER(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var kn=typeof Object.is=="function"?Object.is:ER;function Yl(i,r){if(kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!ot.call(r,d)||!kn(i[d],r[d]))return!1}return!0}function Jv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function e0(i,r){var o=Jv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jv(o)}}function t0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?t0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function n0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Fi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Fi(i.document)}return r}function Ld(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var wR=Yn&&"documentMode"in document&&11>=document.documentMode,mo=null,Ud=null,Ql=null,Bd=!1;function i0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bd||mo==null||mo!==Fi(c)||(c=mo,"selectionStart"in c&&Ld(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ql&&Yl(Ql,c)||(Ql=c,c=qh(Ud,"onSelect"),0<c.length&&(r=new Gi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=mo)))}function da(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var po={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},zd={},s0={};Yn&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function ma(i){if(zd[i])return zd[i];if(!po[i])return i;var r=po[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in s0)return zd[i]=r[o];return i}var r0=ma("animationend"),a0=ma("animationiteration"),o0=ma("animationstart"),SR=ma("transitionrun"),AR=ma("transitionstart"),RR=ma("transitioncancel"),l0=ma("transitionend"),c0=new Map,Fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fd.push("scrollEnd");function vi(i,r){c0.set(i,r),Bi(r,[i])}var ih=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Xn=[],go=0,Hd=0;function sh(){for(var i=go,r=Hd=go=0;r<i;){var o=Xn[r];Xn[r++]=null;var c=Xn[r];Xn[r++]=null;var d=Xn[r];Xn[r++]=null;var p=Xn[r];if(Xn[r++]=null,c!==null&&d!==null){var x=c.pending;x===null?d.next=d:(d.next=x.next,x.next=d),c.pending=d}p!==0&&u0(o,d,p)}}function rh(i,r,o,c){Xn[go++]=i,Xn[go++]=r,Xn[go++]=o,Xn[go++]=c,Hd|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function qd(i,r,o,c){return rh(i,r,o,c),ah(i)}function pa(i,r){return rh(i,null,null,r),ah(i)}function u0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(d=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,d&&r!==null&&(d=31-Ct(o),i=p.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),p):null}function ah(i){if(50<yc)throw yc=0,Jm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var yo={};function CR(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,r,o,c){return new CR(i,r,o,c)}function Gd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Es(i,r){var o=i.alternate;return o===null?(o=Ln(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function h0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function oh(i,r,o,c,d,p){var x=0;if(c=i,typeof i=="function")Gd(i)&&(x=1);else if(typeof i=="string")x=VC(i,o,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=Ln(31,o,r,d),i.elementType=V,i.lanes=p,i;case N:return ga(o.children,d,p,r);case I:x=8,d|=24;break;case U:return i=Ln(12,o,r,d|2),i.elementType=U,i.lanes=p,i;case te:return i=Ln(13,o,r,d),i.elementType=te,i.lanes=p,i;case le:return i=Ln(19,o,r,d),i.elementType=le,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:x=10;break e;case F:x=9;break e;case ie:x=11;break e;case D:x=14;break e;case C:x=16,c=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Ln(x,o,r,d),r.elementType=i,r.type=c,r.lanes=p,r}function ga(i,r,o,c){return i=Ln(7,i,c,r),i.lanes=o,i}function Kd(i,r,o){return i=Ln(6,i,null,r),i.lanes=o,i}function f0(i){var r=Ln(18,null,null,0);return r.stateNode=i,r}function $d(i,r,o){return r=Ln(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var d0=new WeakMap;function Wn(i,r){if(typeof i=="object"&&i!==null){var o=d0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:bn(r)},d0.set(i,r),r)}return{value:i,source:r,stack:bn(r)}}var vo=[],_o=0,lh=null,Xl=0,Zn=[],Jn=0,rr=null,Qi=1,Xi="";function ws(i,r){vo[_o++]=Xl,vo[_o++]=lh,lh=i,Xl=r}function m0(i,r,o){Zn[Jn++]=Qi,Zn[Jn++]=Xi,Zn[Jn++]=rr,rr=i;var c=Qi;i=Xi;var d=32-Ct(c)-1;c&=~(1<<d),o+=1;var p=32-Ct(r)+d;if(30<p){var x=d-d%5;p=(c&(1<<x)-1).toString(32),c>>=x,d-=x,Qi=1<<32-Ct(r)+d|o<<d|c,Xi=p+i}else Qi=1<<p|o<<d|c,Xi=i}function Yd(i){i.return!==null&&(ws(i,1),m0(i,1,0))}function Qd(i){for(;i===lh;)lh=vo[--_o],vo[_o]=null,Xl=vo[--_o],vo[_o]=null;for(;i===rr;)rr=Zn[--Jn],Zn[Jn]=null,Xi=Zn[--Jn],Zn[Jn]=null,Qi=Zn[--Jn],Zn[Jn]=null}function p0(i,r){Zn[Jn++]=Qi,Zn[Jn++]=Xi,Zn[Jn++]=rr,Qi=r.id,Xi=r.overflow,rr=i}var an=null,pt=null,qe=!1,ar=null,ei=!1,Xd=Error(s(519));function or(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Wn(r,i)),Xd}function g0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Pt]=i,r[Wt]=c,o){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<_c.length;o++)ke(_c[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),zu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Zs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Vb(r.textContent,o)?(c.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),c.onScroll!=null&&ke("scroll",r),c.onScrollEnd!=null&&ke("scrollend",r),c.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||or(i,!0)}function y0(i){for(an=i.return;an;)switch(an.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:an=an.return}}function bo(i){if(i!==an)return!1;if(!qe)return y0(i),qe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||mp(i.type,i.memoizedProps)),o=!o),o&&pt&&or(i),y0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));pt=Fb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));pt=Fb(i)}else r===27?(r=pt,xr(i.type)?(i=_p,_p=null,pt=i):pt=r):pt=an?ni(i.stateNode.nextSibling):null;return!0}function ya(){pt=an=null,qe=!1}function Wd(){var i=ar;return i!==null&&(In===null?In=i:In.push.apply(In,i),ar=null),i}function Wl(i){ar===null?ar=[i]:ar.push(i)}var Zd=w(null),va=null,Ss=null;function lr(i,r,o){ne(Zd,r._currentValue),r._currentValue=o}function As(i){i._currentValue=Zd.current,K(Zd)}function Jd(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function em(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var p=d.dependencies;if(p!==null){var x=d.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=d;for(var k=0;k<r.length;k++)if(S.context===r[k]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Jd(p.return,o,i),c||(x=null);break e}p=S.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(s(341));x.lanes|=o,p=x.alternate,p!==null&&(p.lanes|=o),Jd(x,o,i),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===i){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function xo(i,r,o,c){i=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var S=d.type;kn(d.pendingProps.value,x.value)||(i!==null?i.push(S):i=[S])}}else if(d===de.current){if(x=d.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(wc):i=[wc])}d=d.return}i!==null&&em(r,i,o,c),r.flags|=262144}function ch(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _a(i){va=i,Ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function on(i){return v0(va,i)}function uh(i,r){return va===null&&_a(i),v0(i,r)}function v0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ss===null){if(i===null)throw Error(s(308));Ss=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ss=Ss.next=r;return o}var NR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},IR=t.unstable_scheduleCallback,DR=t.unstable_NormalPriority,Lt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new NR,data:new Map,refCount:0}}function Zl(i){i.refCount--,i.refCount===0&&IR(DR,function(){i.controller.abort()})}var Jl=null,nm=0,To=0,Eo=null;function MR(i,r){if(Jl===null){var o=Jl=[];nm=0,To=rp(),Eo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return nm++,r.then(_0,_0),r}function _0(){if(--nm===0&&Jl!==null){Eo!==null&&(Eo.status="fulfilled");var i=Jl;Jl=null,To=0,Eo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function VR(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var b0=J.S;J.S=function(i,r){ib=Xt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&MR(i,r),b0!==null&&b0(i,r)};var ba=w(null);function im(){var i=ba.current;return i!==null?i:ft.pooledCache}function hh(i,r){r===null?ne(ba,ba.current):ne(ba,r.pool)}function x0(){var i=im();return i===null?null:{parent:Lt._currentValue,pool:i}}var wo=Error(s(460)),sm=Error(s(474)),fh=Error(s(542)),dh={then:function(){}};function T0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function E0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(di,di),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,S0(i),i;default:if(typeof r.status=="string")r.then(di,di);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,S0(i),i}throw Ta=r,wo}}function xa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ta=o,wo):o}}var Ta=null;function w0(){if(Ta===null)throw Error(s(459));var i=Ta;return Ta=null,i}function S0(i){if(i===wo||i===fh)throw Error(s(483))}var So=null,ec=0;function mh(i){var r=ec;return ec+=1,So===null&&(So=[]),E0(So,i,r)}function tc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ph(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function A0(i){function r(q,B){if(i){var Y=q.deletions;Y===null?(q.deletions=[B],q.flags|=16):Y.push(B)}}function o(q,B){if(!i)return null;for(;B!==null;)r(q,B),B=B.sibling;return null}function c(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function d(q,B){return q=Es(q,B),q.index=0,q.sibling=null,q}function p(q,B,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<B?(q.flags|=67108866,B):Y):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function x(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function S(q,B,Y,se){return B===null||B.tag!==6?(B=Kd(Y,q.mode,se),B.return=q,B):(B=d(B,Y),B.return=q,B)}function k(q,B,Y,se){var xe=Y.type;return xe===N?ee(q,B,Y.props.children,se,Y.key):B!==null&&(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&xa(xe)===B.type)?(B=d(B,Y.props),tc(B,Y),B.return=q,B):(B=oh(Y.type,Y.key,Y.props,null,q.mode,se),tc(B,Y),B.return=q,B)}function Q(q,B,Y,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=$d(Y,q.mode,se),B.return=q,B):(B=d(B,Y.children||[]),B.return=q,B)}function ee(q,B,Y,se,xe){return B===null||B.tag!==7?(B=ga(Y,q.mode,se,xe),B.return=q,B):(B=d(B,Y),B.return=q,B)}function re(q,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Kd(""+B,q.mode,Y),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return Y=oh(B.type,B.key,B.props,null,q.mode,Y),tc(Y,B),Y.return=q,Y;case M:return B=$d(B,q.mode,Y),B.return=q,B;case C:return B=xa(B),re(q,B,Y)}if(We(B)||H(B))return B=ga(B,q.mode,Y,null),B.return=q,B;if(typeof B.then=="function")return re(q,mh(B),Y);if(B.$$typeof===z)return re(q,uh(q,B),Y);ph(q,B)}return null}function X(q,B,Y,se){var xe=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:S(q,B,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return Y.key===xe?k(q,B,Y,se):null;case M:return Y.key===xe?Q(q,B,Y,se):null;case C:return Y=xa(Y),X(q,B,Y,se)}if(We(Y)||H(Y))return xe!==null?null:ee(q,B,Y,se,null);if(typeof Y.then=="function")return X(q,B,mh(Y),se);if(Y.$$typeof===z)return X(q,B,uh(q,Y),se);ph(q,Y)}return null}function Z(q,B,Y,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(Y)||null,S(B,q,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return q=q.get(se.key===null?Y:se.key)||null,k(B,q,se,xe);case M:return q=q.get(se.key===null?Y:se.key)||null,Q(B,q,se,xe);case C:return se=xa(se),Z(q,B,Y,se,xe)}if(We(se)||H(se))return q=q.get(Y)||null,ee(B,q,se,xe,null);if(typeof se.then=="function")return Z(q,B,Y,mh(se),xe);if(se.$$typeof===z)return Z(q,B,Y,uh(B,se),xe);ph(B,se)}return null}function ye(q,B,Y,se){for(var xe=null,Qe=null,ve=B,Pe=B=0,Be=null;ve!==null&&Pe<Y.length;Pe++){ve.index>Pe?(Be=ve,ve=null):Be=ve.sibling;var Xe=X(q,ve,Y[Pe],se);if(Xe===null){ve===null&&(ve=Be);break}i&&ve&&Xe.alternate===null&&r(q,ve),B=p(Xe,B,Pe),Qe===null?xe=Xe:Qe.sibling=Xe,Qe=Xe,ve=Be}if(Pe===Y.length)return o(q,ve),qe&&ws(q,Pe),xe;if(ve===null){for(;Pe<Y.length;Pe++)ve=re(q,Y[Pe],se),ve!==null&&(B=p(ve,B,Pe),Qe===null?xe=ve:Qe.sibling=ve,Qe=ve);return qe&&ws(q,Pe),xe}for(ve=c(ve);Pe<Y.length;Pe++)Be=Z(ve,q,Pe,Y[Pe],se),Be!==null&&(i&&Be.alternate!==null&&ve.delete(Be.key===null?Pe:Be.key),B=p(Be,B,Pe),Qe===null?xe=Be:Qe.sibling=Be,Qe=Be);return i&&ve.forEach(function(Ar){return r(q,Ar)}),qe&&ws(q,Pe),xe}function we(q,B,Y,se){if(Y==null)throw Error(s(151));for(var xe=null,Qe=null,ve=B,Pe=B=0,Be=null,Xe=Y.next();ve!==null&&!Xe.done;Pe++,Xe=Y.next()){ve.index>Pe?(Be=ve,ve=null):Be=ve.sibling;var Ar=X(q,ve,Xe.value,se);if(Ar===null){ve===null&&(ve=Be);break}i&&ve&&Ar.alternate===null&&r(q,ve),B=p(Ar,B,Pe),Qe===null?xe=Ar:Qe.sibling=Ar,Qe=Ar,ve=Be}if(Xe.done)return o(q,ve),qe&&ws(q,Pe),xe;if(ve===null){for(;!Xe.done;Pe++,Xe=Y.next())Xe=re(q,Xe.value,se),Xe!==null&&(B=p(Xe,B,Pe),Qe===null?xe=Xe:Qe.sibling=Xe,Qe=Xe);return qe&&ws(q,Pe),xe}for(ve=c(ve);!Xe.done;Pe++,Xe=Y.next())Xe=Z(ve,q,Pe,Xe.value,se),Xe!==null&&(i&&Xe.alternate!==null&&ve.delete(Xe.key===null?Pe:Xe.key),B=p(Xe,B,Pe),Qe===null?xe=Xe:Qe.sibling=Xe,Qe=Xe);return i&&ve.forEach(function(qC){return r(q,qC)}),qe&&ws(q,Pe),xe}function ht(q,B,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===N&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:e:{for(var xe=Y.key;B!==null;){if(B.key===xe){if(xe=Y.type,xe===N){if(B.tag===7){o(q,B.sibling),se=d(B,Y.props.children),se.return=q,q=se;break e}}else if(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&xa(xe)===B.type){o(q,B.sibling),se=d(B,Y.props),tc(se,Y),se.return=q,q=se;break e}o(q,B);break}else r(q,B);B=B.sibling}Y.type===N?(se=ga(Y.props.children,q.mode,se,Y.key),se.return=q,q=se):(se=oh(Y.type,Y.key,Y.props,null,q.mode,se),tc(se,Y),se.return=q,q=se)}return x(q);case M:e:{for(xe=Y.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){o(q,B.sibling),se=d(B,Y.children||[]),se.return=q,q=se;break e}else{o(q,B);break}else r(q,B);B=B.sibling}se=$d(Y,q.mode,se),se.return=q,q=se}return x(q);case C:return Y=xa(Y),ht(q,B,Y,se)}if(We(Y))return ye(q,B,Y,se);if(H(Y)){if(xe=H(Y),typeof xe!="function")throw Error(s(150));return Y=xe.call(Y),we(q,B,Y,se)}if(typeof Y.then=="function")return ht(q,B,mh(Y),se);if(Y.$$typeof===z)return ht(q,B,uh(q,Y),se);ph(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(o(q,B.sibling),se=d(B,Y),se.return=q,q=se):(o(q,B),se=Kd(Y,q.mode,se),se.return=q,q=se),x(q)):o(q,B)}return function(q,B,Y,se){try{ec=0;var xe=ht(q,B,Y,se);return So=null,xe}catch(ve){if(ve===wo||ve===fh)throw ve;var Qe=Ln(29,ve,null,q.mode);return Qe.lanes=se,Qe.return=q,Qe}finally{}}}var Ea=A0(!0),R0=A0(!1),cr=!1;function rm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function am(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ur(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=ah(i),u0(i,null,o),r}return rh(i,c,r,o),ah(i)}function nc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Nl(i,o)}}function om(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=x:p=p.next=x,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var lm=!1;function ic(){if(lm){var i=Eo;if(i!==null)throw i}}function sc(i,r,o,c){lm=!1;var d=i.updateQueue;cr=!1;var p=d.firstBaseUpdate,x=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var k=S,Q=k.next;k.next=null,x===null?p=Q:x.next=Q,x=k;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==x&&(S===null?ee.firstBaseUpdate=Q:S.next=Q,ee.lastBaseUpdate=k))}if(p!==null){var re=d.baseState;x=0,ee=Q=k=null,S=p;do{var X=S.lane&-536870913,Z=X!==S.lane;if(Z?(Ue&X)===X:(c&X)===X){X!==0&&X===To&&(lm=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=i,we=S;X=r;var ht=o;switch(we.tag){case 1:if(ye=we.payload,typeof ye=="function"){re=ye.call(ht,re,X);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,X=typeof ye=="function"?ye.call(ht,re,X):ye,X==null)break e;re=b({},re,X);break e;case 2:cr=!0}}X=S.callback,X!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(Q=ee=Z,k=re):ee=ee.next=Z,x|=X;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);ee===null&&(k=re),d.baseState=k,d.firstBaseUpdate=Q,d.lastBaseUpdate=ee,p===null&&(d.shared.lanes=0),gr|=x,i.lanes=x,i.memoizedState=re}}function C0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function N0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)C0(o[i],r)}var Ao=w(null),gh=w(0);function I0(i,r){i=Ps,ne(gh,i),ne(Ao,r),Ps=i|r.baseLanes}function cm(){ne(gh,Ps),ne(Ao,Ao.current)}function um(){Ps=gh.current,K(Ao),K(gh)}var Un=w(null),ti=null;function fr(i){var r=i.alternate;ne(It,It.current&1),ne(Un,i),ti===null&&(r===null||Ao.current!==null||r.memoizedState!==null)&&(ti=i)}function hm(i){ne(It,It.current),ne(Un,i),ti===null&&(ti=i)}function D0(i){i.tag===22?(ne(It,It.current),ne(Un,i),ti===null&&(ti=i)):dr()}function dr(){ne(It,It.current),ne(Un,Un.current)}function Bn(i){K(Un),ti===i&&(ti=null),K(It)}var It=w(0);function yh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||yp(o)||vp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Rs=0,Oe=null,ct=null,Ut=null,vh=!1,Ro=!1,wa=!1,_h=0,rc=0,Co=null,OR=0;function St(){throw Error(s(321))}function fm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!kn(i[o],r[o]))return!1;return!0}function dm(i,r,o,c,d,p){return Rs=p,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?m_:Cm,wa=!1,p=o(c,d),wa=!1,Ro&&(p=V0(r,o,c,d)),M0(i),p}function M0(i){J.H=lc;var r=ct!==null&&ct.next!==null;if(Rs=0,Ut=ct=Oe=null,vh=!1,rc=0,Co=null,r)throw Error(s(300));i===null||Bt||(i=i.dependencies,i!==null&&ch(i)&&(Bt=!0))}function V0(i,r,o,c){Oe=i;var d=0;do{if(Ro&&(Co=null),rc=0,Ro=!1,25<=d)throw Error(s(301));if(d+=1,Ut=ct=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}J.H=p_,p=r(o,c)}while(Ro);return p}function PR(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?ac(r):r,i=i.useState()[0],(ct!==null?ct.memoizedState:null)!==i&&(Oe.flags|=1024),r}function mm(){var i=_h!==0;return _h=0,i}function pm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function gm(i){if(vh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}vh=!1}Rs=0,Ut=ct=Oe=null,Ro=!1,rc=_h=0,Co=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Oe.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Dt(){if(ct===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var r=Ut===null?Oe.memoizedState:Ut.next;if(r!==null)Ut=r,ct=i;else{if(i===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ut===null?Oe.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(i){var r=rc;return rc+=1,Co===null&&(Co=[]),i=E0(Co,i,r),r=Oe,(Ut===null?r.memoizedState:Ut.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?m_:Cm),i}function xh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ac(i);if(i.$$typeof===z)return on(i)}throw Error(s(438,String(i)))}function ym(i){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=bh(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=L;return r.index++,o}function Cs(i,r){return typeof r=="function"?r(i):r}function Th(i){var r=Dt();return vm(r,ct,i)}function vm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,p=c.pending;if(p!==null){if(d!==null){var x=d.next;d.next=p.next,p.next=x}r.baseQueue=d=p,c.pending=null}if(p=i.baseState,d===null)i.memoizedState=p;else{r=d.next;var S=x=null,k=null,Q=r,ee=!1;do{var re=Q.lane&-536870913;if(re!==Q.lane?(Ue&re)===re:(Rs&re)===re){var X=Q.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),re===To&&(ee=!0);else if((Rs&X)===X){Q=Q.next,X===To&&(ee=!0);continue}else re={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(S=k=re,x=p):k=k.next=re,Oe.lanes|=X,gr|=X;re=Q.action,wa&&o(p,re),p=Q.hasEagerState?Q.eagerState:o(p,re)}else X={lane:re,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(S=k=X,x=p):k=k.next=X,Oe.lanes|=re,gr|=re;Q=Q.next}while(Q!==null&&Q!==r);if(k===null?x=p:k.next=S,!kn(p,i.memoizedState)&&(Bt=!0,ee&&(o=Eo,o!==null)))throw o;i.memoizedState=p,i.baseState=x,i.baseQueue=k,c.lastRenderedState=p}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function _m(i){var r=Dt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var x=d=d.next;do p=i(p,x.action),x=x.next;while(x!==d);kn(p,r.memoizedState)||(Bt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function O0(i,r,o){var c=Oe,d=Dt(),p=qe;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!kn((ct||d).memoizedState,o);if(x&&(d.memoizedState=o,Bt=!0),d=d.queue,Tm(k0.bind(null,c,d,i),[i]),d.getSnapshot!==r||x||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,No(9,{destroy:void 0},j0.bind(null,c,d,o,r),null),ft===null)throw Error(s(349));p||(Rs&127)!==0||P0(c,r,o)}return o}function P0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=bh(),Oe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function j0(i,r,o,c){r.value=o,r.getSnapshot=c,L0(r)&&U0(i)}function k0(i,r,o){return o(function(){L0(r)&&U0(i)})}function L0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!kn(i,o)}catch{return!0}}function U0(i){var r=pa(i,2);r!==null&&Dn(r,i,2)}function bm(i){var r=Tn();if(typeof i=="function"){var o=i;if(i=o(),wa){Gn(!0);try{o()}finally{Gn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:i},r}function B0(i,r,o,c){return i.baseState=o,vm(i,ct,typeof c=="function"?c:Cs)}function jR(i,r,o,c,d){if(Sh(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};J.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,z0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function z0(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var p=J.T,x={};J.T=x;try{var S=o(d,c),k=J.S;k!==null&&k(x,S),F0(i,r,S)}catch(Q){xm(i,r,Q)}finally{p!==null&&x.types!==null&&(p.types=x.types),J.T=p}}else try{p=o(d,c),F0(i,r,p)}catch(Q){xm(i,r,Q)}}function F0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){H0(i,r,c)},function(c){return xm(i,r,c)}):H0(i,r,o)}function H0(i,r,o){r.status="fulfilled",r.value=o,q0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,z0(i,o)))}function xm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,q0(r),r=r.next;while(r!==c)}i.action=null}function q0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function G0(i,r){return r}function K0(i,r){if(qe){var o=ft.formState;if(o!==null){e:{var c=Oe;if(qe){if(pt){t:{for(var d=pt,p=ei;d.nodeType!==8;){if(!p){d=null;break t}if(d=ni(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){pt=ni(d.nextSibling),c=d.data==="F!";break e}}or(c)}c=!1}c&&(r=o[0])}}return o=Tn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G0,lastRenderedState:r},o.queue=c,o=h_.bind(null,Oe,c),c.dispatch=o,c=bm(!1),p=Rm.bind(null,Oe,!1,c.queue),c=Tn(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=jR.bind(null,Oe,d,p,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function $0(i){var r=Dt();return Y0(r,ct,i)}function Y0(i,r,o){if(r=vm(i,r,G0)[0],i=Th(Cs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=ac(r)}catch(x){throw x===wo?fh:x}else c=r;r=Dt();var d=r.queue,p=d.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,No(9,{destroy:void 0},kR.bind(null,d,o),null)),[c,p,i]}function kR(i,r){i.action=r}function Q0(i){var r=Dt(),o=ct;if(o!==null)return Y0(r,o,i);Dt(),r=r.memoizedState,o=Dt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function No(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=bh(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function X0(){return Dt().memoizedState}function Eh(i,r,o,c){var d=Tn();Oe.flags|=i,d.memoizedState=No(1|r,{destroy:void 0},o,c===void 0?null:c)}function wh(i,r,o,c){var d=Dt();c=c===void 0?null:c;var p=d.memoizedState.inst;ct!==null&&c!==null&&fm(c,ct.memoizedState.deps)?d.memoizedState=No(r,p,o,c):(Oe.flags|=i,d.memoizedState=No(1|r,p,o,c))}function W0(i,r){Eh(8390656,8,i,r)}function Tm(i,r){wh(2048,8,i,r)}function LR(i){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=bh(),Oe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Z0(i){var r=Dt().memoizedState;return LR({ref:r,nextImpl:i}),function(){if((Je&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function J0(i,r){return wh(4,2,i,r)}function e_(i,r){return wh(4,4,i,r)}function t_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function n_(i,r,o){o=o!=null?o.concat([i]):null,wh(4,4,t_.bind(null,r,i),o)}function Em(){}function i_(i,r){var o=Dt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&fm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function s_(i,r){var o=Dt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&fm(r,c[1]))return c[0];if(c=i(),wa){Gn(!0);try{i()}finally{Gn(!1)}}return o.memoizedState=[c,r],c}function wm(i,r,o){return o===void 0||(Rs&1073741824)!==0&&(Ue&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=rb(),Oe.lanes|=i,gr|=i,o)}function r_(i,r,o,c){return kn(o,r)?o:Ao.current!==null?(i=wm(i,o,c),kn(i,r)||(Bt=!0),i):(Rs&42)===0||(Rs&1073741824)!==0&&(Ue&261930)===0?(Bt=!0,i.memoizedState=o):(i=rb(),Oe.lanes|=i,gr|=i,r)}function a_(i,r,o,c,d){var p=ue.p;ue.p=p!==0&&8>p?p:8;var x=J.T,S={};J.T=S,Rm(i,!1,r,o);try{var k=d(),Q=J.S;if(Q!==null&&Q(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ee=VR(k,c);oc(i,r,ee,Hn(i))}else oc(i,r,c,Hn(i))}catch(re){oc(i,r,{then:function(){},status:"rejected",reason:re},Hn())}finally{ue.p=p,x!==null&&S.types!==null&&(x.types=S.types),J.T=x}}function UR(){}function Sm(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=o_(i).queue;a_(i,d,r,pe,o===null?UR:function(){return l_(i),o(c)})}function o_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:pe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function l_(i){var r=o_(i);r.next===null&&(r=i.alternate.memoizedState),oc(i,r.next.queue,{},Hn())}function Am(){return on(wc)}function c_(){return Dt().memoizedState}function u_(){return Dt().memoizedState}function BR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Hn();i=ur(o);var c=hr(r,i,o);c!==null&&(Dn(c,r,o),nc(c,r,o)),r={cache:tm()},i.payload=r;return}r=r.return}}function zR(i,r,o){var c=Hn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Sh(i)?f_(r,o):(o=qd(i,r,o,c),o!==null&&(Dn(o,i,c),d_(o,r,c)))}function h_(i,r,o){var c=Hn();oc(i,r,o,c)}function oc(i,r,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sh(i))f_(r,d);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var x=r.lastRenderedState,S=p(x,o);if(d.hasEagerState=!0,d.eagerState=S,kn(S,x))return rh(i,r,d,0),ft===null&&sh(),!1}catch{}finally{}if(o=qd(i,r,d,c),o!==null)return Dn(o,i,c),d_(o,r,c),!0}return!1}function Rm(i,r,o,c){if(c={lane:2,revertLane:rp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Sh(i)){if(r)throw Error(s(479))}else r=qd(i,o,c,2),r!==null&&Dn(r,i,2)}function Sh(i){var r=i.alternate;return i===Oe||r!==null&&r===Oe}function f_(i,r){Ro=vh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function d_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Nl(i,o)}}var lc={readContext:on,use:xh,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};lc.useEffectEvent=St;var m_={readContext:on,use:xh,useCallback:function(i,r){return Tn().memoizedState=[i,r===void 0?null:r],i},useContext:on,useEffect:W0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Eh(4194308,4,t_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Eh(4194308,4,i,r)},useInsertionEffect:function(i,r){Eh(4,2,i,r)},useMemo:function(i,r){var o=Tn();r=r===void 0?null:r;var c=i();if(wa){Gn(!0);try{i()}finally{Gn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Tn();if(o!==void 0){var d=o(r);if(wa){Gn(!0);try{o(r)}finally{Gn(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=zR.bind(null,Oe,i),[c.memoizedState,i]},useRef:function(i){var r=Tn();return i={current:i},r.memoizedState=i},useState:function(i){i=bm(i);var r=i.queue,o=h_.bind(null,Oe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Em,useDeferredValue:function(i,r){var o=Tn();return wm(o,i,r)},useTransition:function(){var i=bm(!1);return i=a_.bind(null,Oe,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Oe,d=Tn();if(qe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ft===null)throw Error(s(349));(Ue&127)!==0||P0(c,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,W0(k0.bind(null,c,p,i),[i]),c.flags|=2048,No(9,{destroy:void 0},j0.bind(null,c,p,o,r),null),o},useId:function(){var i=Tn(),r=ft.identifierPrefix;if(qe){var o=Xi,c=Qi;o=(c&~(1<<32-Ct(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=_h++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=OR++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Am,useFormState:K0,useActionState:K0,useOptimistic:function(i){var r=Tn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Rm.bind(null,Oe,!0,o),o.dispatch=r,[i,r]},useMemoCache:ym,useCacheRefresh:function(){return Tn().memoizedState=BR.bind(null,Oe)},useEffectEvent:function(i){var r=Tn(),o={impl:i};return r.memoizedState=o,function(){if((Je&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Cm={readContext:on,use:xh,useCallback:i_,useContext:on,useEffect:Tm,useImperativeHandle:n_,useInsertionEffect:J0,useLayoutEffect:e_,useMemo:s_,useReducer:Th,useRef:X0,useState:function(){return Th(Cs)},useDebugValue:Em,useDeferredValue:function(i,r){var o=Dt();return r_(o,ct.memoizedState,i,r)},useTransition:function(){var i=Th(Cs)[0],r=Dt().memoizedState;return[typeof i=="boolean"?i:ac(i),r]},useSyncExternalStore:O0,useId:c_,useHostTransitionStatus:Am,useFormState:$0,useActionState:$0,useOptimistic:function(i,r){var o=Dt();return B0(o,ct,i,r)},useMemoCache:ym,useCacheRefresh:u_};Cm.useEffectEvent=Z0;var p_={readContext:on,use:xh,useCallback:i_,useContext:on,useEffect:Tm,useImperativeHandle:n_,useInsertionEffect:J0,useLayoutEffect:e_,useMemo:s_,useReducer:_m,useRef:X0,useState:function(){return _m(Cs)},useDebugValue:Em,useDeferredValue:function(i,r){var o=Dt();return ct===null?wm(o,i,r):r_(o,ct.memoizedState,i,r)},useTransition:function(){var i=_m(Cs)[0],r=Dt().memoizedState;return[typeof i=="boolean"?i:ac(i),r]},useSyncExternalStore:O0,useId:c_,useHostTransitionStatus:Am,useFormState:Q0,useActionState:Q0,useOptimistic:function(i,r){var o=Dt();return ct!==null?B0(o,ct,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ym,useCacheRefresh:u_};p_.useEffectEvent=Z0;function Nm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Im={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Hn(),d=ur(c);d.payload=r,o!=null&&(d.callback=o),r=hr(i,d,c),r!==null&&(Dn(r,i,c),nc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Hn(),d=ur(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=hr(i,d,c),r!==null&&(Dn(r,i,c),nc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Hn(),c=ur(o);c.tag=2,r!=null&&(c.callback=r),r=hr(i,c,o),r!==null&&(Dn(r,i,o),nc(r,i,o))}};function g_(i,r,o,c,d,p,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,x):r.prototype&&r.prototype.isPureReactComponent?!Yl(o,c)||!Yl(d,p):!0}function y_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Im.enqueueReplaceState(r,r.state,null)}function Sa(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function v_(i){ih(i)}function __(i){console.error(i)}function b_(i){ih(i)}function Ah(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function x_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Dm(i,r,o){return o=ur(o),o.tag=3,o.payload={element:null},o.callback=function(){Ah(i,r)},o}function T_(i){return i=ur(i),i.tag=3,i}function E_(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;i.payload=function(){return d(p)},i.callback=function(){x_(r,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){x_(r,o,c),typeof d!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function FR(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&xo(r,o,d,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return ti===null?Lh():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===dh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),np(i,c,d)),!1;case 22:return o.flags|=65536,c===dh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),np(i,c,d)),!1}throw Error(s(435,o.tag))}return np(i,c,d),Lh(),!1}if(qe)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==Xd&&(i=Error(s(422),{cause:c}),Wl(Wn(i,o)))):(c!==Xd&&(r=Error(s(423),{cause:c}),Wl(Wn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=Wn(c,o),d=Dm(i.stateNode,c,d),om(i,d),At!==4&&(At=2)),!1;var p=Error(s(520),{cause:c});if(p=Wn(p,o),gc===null?gc=[p]:gc.push(p),At!==4&&(At=2),r===null)return!0;c=Wn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Dm(o.stateNode,c,i),om(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(yr===null||!yr.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=T_(d),E_(d,i,o,c),om(o,d),!1}o=o.return}while(o!==null);return!1}var Mm=Error(s(461)),Bt=!1;function ln(i,r,o,c){r.child=i===null?R0(r,null,o,c):Ea(r,i.child,o,c)}function w_(i,r,o,c,d){o=o.render;var p=r.ref;if("ref"in c){var x={};for(var S in c)S!=="ref"&&(x[S]=c[S])}else x=c;return _a(r),c=dm(i,r,o,x,p,d),S=mm(),i!==null&&!Bt?(pm(i,r,d),Ns(i,r,d)):(qe&&S&&Yd(r),r.flags|=1,ln(i,r,c,d),r.child)}function S_(i,r,o,c,d){if(i===null){var p=o.type;return typeof p=="function"&&!Gd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,A_(i,r,p,c,d)):(i=oh(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Bm(i,d)){var x=p.memoizedProps;if(o=o.compare,o=o!==null?o:Yl,o(x,c)&&i.ref===r.ref)return Ns(i,r,d)}return r.flags|=1,i=Es(p,c),i.ref=r.ref,i.return=r,r.child=i}function A_(i,r,o,c,d){if(i!==null){var p=i.memoizedProps;if(Yl(p,c)&&i.ref===r.ref)if(Bt=!1,r.pendingProps=c=p,Bm(i,d))(i.flags&131072)!==0&&(Bt=!0);else return r.lanes=i.lanes,Ns(i,r,d)}return Vm(i,r,o,c,d)}function R_(i,r,o,c){var d=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,r.child=null;return C_(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&hh(r,p!==null?p.cachePool:null),p!==null?I0(r,p):cm(),D0(r);else return c=r.lanes=536870912,C_(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(hh(r,p.cachePool),I0(r,p),dr(),r.memoizedState=null):(i!==null&&hh(r,null),cm(),dr());return ln(i,r,d,o),r.child}function cc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function C_(i,r,o,c,d){var p=im();return p=p===null?null:{parent:Lt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&hh(r,null),cm(),D0(r),i!==null&&xo(i,r,c,!0),r.childLanes=d,null}function Rh(i,r){return r=Nh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function N_(i,r,o){return Ea(r,i.child,null,o),i=Rh(r,r.pendingProps),i.flags|=2,Bn(r),r.memoizedState=null,i}function HR(i,r,o){var c=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(qe){if(c.mode==="hidden")return i=Rh(r,c),r.lanes=536870912,cc(null,i);if(hm(r),(i=pt)?(i=zb(i,ei),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:rr!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=f0(i),o.return=r,r.child=o,an=r,pt=null)):i=null,i===null)throw or(r);return r.lanes=536870912,null}return Rh(r,c)}var p=i.memoizedState;if(p!==null){var x=p.dehydrated;if(hm(r),d)if(r.flags&256)r.flags&=-257,r=N_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Bt||xo(i,r,o,!1),d=(o&i.childLanes)!==0,Bt||d){if(c=ft,c!==null&&(x=Il(c,o),x!==0&&x!==p.retryLane))throw p.retryLane=x,pa(i,x),Dn(c,i,x),Mm;Lh(),r=N_(i,r,o)}else i=p.treeContext,pt=ni(x.nextSibling),an=r,qe=!0,ar=null,ei=!1,i!==null&&p0(r,i),r=Rh(r,c),r.flags|=4096;return r}return i=Es(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ch(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Vm(i,r,o,c,d){return _a(r),o=dm(i,r,o,c,void 0,d),c=mm(),i!==null&&!Bt?(pm(i,r,d),Ns(i,r,d)):(qe&&c&&Yd(r),r.flags|=1,ln(i,r,o,d),r.child)}function I_(i,r,o,c,d,p){return _a(r),r.updateQueue=null,o=V0(r,c,o,d),M0(i),c=mm(),i!==null&&!Bt?(pm(i,r,p),Ns(i,r,p)):(qe&&c&&Yd(r),r.flags|=1,ln(i,r,o,p),r.child)}function D_(i,r,o,c,d){if(_a(r),r.stateNode===null){var p=yo,x=o.contextType;typeof x=="object"&&x!==null&&(p=on(x)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Im,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},rm(r),x=o.contextType,p.context=typeof x=="object"&&x!==null?on(x):yo,p.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Nm(r,o,x,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Im.enqueueReplaceState(p,p.state,null),sc(r,c,p,d),ic(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var S=r.memoizedProps,k=Sa(o,S);p.props=k;var Q=p.context,ee=o.contextType;x=yo,typeof ee=="object"&&ee!==null&&(x=on(ee));var re=o.getDerivedStateFromProps;ee=typeof re=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Q!==x)&&y_(r,p,c,x),cr=!1;var X=r.memoizedState;p.state=X,sc(r,c,p,d),ic(),Q=r.memoizedState,S||X!==Q||cr?(typeof re=="function"&&(Nm(r,o,re,c),Q=r.memoizedState),(k=cr||g_(r,o,k,c,X,Q,x))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Q),p.props=c,p.state=Q,p.context=x,c=k):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,am(i,r),x=r.memoizedProps,ee=Sa(o,x),p.props=ee,re=r.pendingProps,X=p.context,Q=o.contextType,k=yo,typeof Q=="object"&&Q!==null&&(k=on(Q)),S=o.getDerivedStateFromProps,(Q=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==re||X!==k)&&y_(r,p,c,k),cr=!1,X=r.memoizedState,p.state=X,sc(r,c,p,d),ic();var Z=r.memoizedState;x!==re||X!==Z||cr||i!==null&&i.dependencies!==null&&ch(i.dependencies)?(typeof S=="function"&&(Nm(r,o,S,c),Z=r.memoizedState),(ee=cr||g_(r,o,ee,c,X,Z,k)||i!==null&&i.dependencies!==null&&ch(i.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,Z,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,Z,k)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Z),p.props=c,p.state=Z,p.context=k,c=ee):(typeof p.componentDidUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,Ch(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Ea(r,i.child,null,d),r.child=Ea(r,null,o,d)):ln(i,r,o,d),r.memoizedState=p.state,i=r.child):i=Ns(i,r,d),i}function M_(i,r,o,c){return ya(),r.flags|=256,ln(i,r,o,c),r.child}var Om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(i){return{baseLanes:i,cachePool:x0()}}function jm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Fn),i}function V_(i,r,o){var c=r.pendingProps,d=!1,p=(r.flags&128)!==0,x;if((x=p)||(x=i!==null&&i.memoizedState===null?!1:(It.current&2)!==0),x&&(d=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(qe){if(d?fr(r):dr(),(i=pt)?(i=zb(i,ei),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:rr!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=f0(i),o.return=r,r.child=o,an=r,pt=null)):i=null,i===null)throw or(r);return vp(i)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,d?(dr(),d=r.mode,S=Nh({mode:"hidden",children:S},d),c=ga(c,d,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=Pm(o),c.childLanes=jm(i,x,o),r.memoizedState=Om,cc(null,c)):(fr(r),km(r,S))}var k=i.memoizedState;if(k!==null&&(S=k.dehydrated,S!==null)){if(p)r.flags&256?(fr(r),r.flags&=-257,r=Lm(i,r,o)):r.memoizedState!==null?(dr(),r.child=i.child,r.flags|=128,r=null):(dr(),S=c.fallback,d=r.mode,c=Nh({mode:"visible",children:c.children},d),S=ga(S,d,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,Ea(r,i.child,null,o),c=r.child,c.memoizedState=Pm(o),c.childLanes=jm(i,x,o),r.memoizedState=Om,r=cc(null,c));else if(fr(r),vp(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var Q=x.dgst;x=Q,c=Error(s(419)),c.stack="",c.digest=x,Wl({value:c,source:null,stack:null}),r=Lm(i,r,o)}else if(Bt||xo(i,r,o,!1),x=(o&i.childLanes)!==0,Bt||x){if(x=ft,x!==null&&(c=Il(x,o),c!==0&&c!==k.retryLane))throw k.retryLane=c,pa(i,c),Dn(x,i,c),Mm;yp(S)||Lh(),r=Lm(i,r,o)}else yp(S)?(r.flags|=192,r.child=i.child,r=null):(i=k.treeContext,pt=ni(S.nextSibling),an=r,qe=!0,ar=null,ei=!1,i!==null&&p0(r,i),r=km(r,c.children),r.flags|=4096);return r}return d?(dr(),S=c.fallback,d=r.mode,k=i.child,Q=k.sibling,c=Es(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,Q!==null?S=Es(Q,S):(S=ga(S,d,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,cc(null,c),c=r.child,S=i.child.memoizedState,S===null?S=Pm(o):(d=S.cachePool,d!==null?(k=Lt._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=x0(),S={baseLanes:S.baseLanes|o,cachePool:d}),c.memoizedState=S,c.childLanes=jm(i,x,o),r.memoizedState=Om,cc(i.child,c)):(fr(r),o=i.child,i=o.sibling,o=Es(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function km(i,r){return r=Nh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Nh(i,r){return i=Ln(22,i,null,r),i.lanes=0,i}function Lm(i,r,o){return Ea(r,i.child,null,o),i=km(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function O_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Jd(i.return,r,o)}function Um(i,r,o,c,d,p){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:p}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=d,x.treeForkCount=p)}function P_(i,r,o){var c=r.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var x=It.current,S=(x&2)!==0;if(S?(x=x&1|2,r.flags|=128):x&=1,ne(It,x),ln(i,r,c,o),c=qe?Xl:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&O_(i,o,r);else if(i.tag===19)O_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&yh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Um(r,!1,d,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&yh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Um(r,!0,o,null,p,c);break;case"together":Um(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ns(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),gr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(xo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Es(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Es(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Bm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ch(i)))}function qR(i,r,o){switch(r.tag){case 3:be(r,r.stateNode.containerInfo),lr(r,Lt,i.memoizedState.cache),ya();break;case 27:case 5:et(r);break;case 4:be(r,r.stateNode.containerInfo);break;case 10:lr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,hm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(fr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?V_(i,r,o):(fr(r),i=Ns(i,r,o),i!==null?i.sibling:null);fr(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(xo(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return P_(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ne(It,It.current),c)break;return null;case 22:return r.lanes=0,R_(i,r,o,r.pendingProps);case 24:lr(r,Lt,i.memoizedState.cache)}return Ns(i,r,o)}function j_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Bt=!0;else{if(!Bm(i,o)&&(r.flags&128)===0)return Bt=!1,qR(i,r,o);Bt=(i.flags&131072)!==0}else Bt=!1,qe&&(r.flags&1048576)!==0&&m0(r,Xl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=xa(r.elementType),r.type=i,typeof i=="function")Gd(i)?(c=Sa(i,c),r.tag=1,r=D_(null,r,i,c,o)):(r.tag=0,r=Vm(null,r,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===ie){r.tag=11,r=w_(null,r,i,c,o);break e}else if(d===D){r.tag=14,r=S_(null,r,i,c,o);break e}}throw r=Le(i)||i,Error(s(306,r,""))}}return r;case 0:return Vm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=Sa(c,r.pendingProps),D_(i,r,c,d,o);case 3:e:{if(be(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;d=p.element,am(i,r),sc(r,c,null,o);var x=r.memoizedState;if(c=x.cache,lr(r,Lt,c),c!==p.cache&&em(r,[Lt],o,!0),ic(),c=x.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=M_(i,r,c,o);break e}else if(c!==d){d=Wn(Error(s(424)),r),Wl(d),r=M_(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pt=ni(i.firstChild),an=r,qe=!0,ar=null,ei=!0,o=R0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ya(),c===d){r=Ns(i,r,o);break e}ln(i,r,c,o)}r=r.child}return r;case 26:return Ch(i,r),i===null?(o=$b(r.type,null,r.pendingProps,null))?r.memoizedState=o:qe||(o=r.type,i=r.pendingProps,c=Gh(me.current).createElement(o),c[Pt]=r,c[Wt]=i,cn(c,o,i),jt(c),r.stateNode=c):r.memoizedState=$b(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return et(r),i===null&&qe&&(c=r.stateNode=qb(r.type,r.pendingProps,me.current),an=r,ei=!0,d=pt,xr(r.type)?(_p=d,pt=ni(c.firstChild)):pt=d),ln(i,r,r.pendingProps.children,o),Ch(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qe&&((d=c=pt)&&(c=bC(c,r.type,r.pendingProps,ei),c!==null?(r.stateNode=c,an=r,pt=ni(c.firstChild),ei=!1,d=!0):d=!1),d||or(r)),et(r),d=r.type,p=r.pendingProps,x=i!==null?i.memoizedProps:null,c=p.children,mp(d,p)?c=null:x!==null&&mp(d,x)&&(r.flags|=32),r.memoizedState!==null&&(d=dm(i,r,PR,null,null,o),wc._currentValue=d),Ch(i,r),ln(i,r,c,o),r.child;case 6:return i===null&&qe&&((i=o=pt)&&(o=xC(o,r.pendingProps,ei),o!==null?(r.stateNode=o,an=r,pt=null,i=!0):i=!1),i||or(r)),null;case 13:return V_(i,r,o);case 4:return be(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Ea(r,null,c,o):ln(i,r,c,o),r.child;case 11:return w_(i,r,r.type,r.pendingProps,o);case 7:return ln(i,r,r.pendingProps,o),r.child;case 8:return ln(i,r,r.pendingProps.children,o),r.child;case 12:return ln(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,lr(r,r.type,c.value),ln(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,_a(r),d=on(d),c=c(d),r.flags|=1,ln(i,r,c,o),r.child;case 14:return S_(i,r,r.type,r.pendingProps,o);case 15:return A_(i,r,r.type,r.pendingProps,o);case 19:return P_(i,r,o);case 31:return HR(i,r,o);case 22:return R_(i,r,o,r.pendingProps);case 24:return _a(r),c=on(Lt),i===null?(d=im(),d===null&&(d=ft,p=tm(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),r.memoizedState={parent:c,cache:d},rm(r),lr(r,Lt,d)):((i.lanes&o)!==0&&(am(i,r),sc(r,null,null,o),ic()),d=i.memoizedState,p=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),lr(r,Lt,c)):(c=p.cache,lr(r,Lt,c),c!==d.cache&&em(r,[Lt],o,!0))),ln(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Is(i){i.flags|=4}function zm(i,r,o,c,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(cb())i.flags|=8192;else throw Ta=dh,sm}else i.flags&=-16777217}function k_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Zb(r))if(cb())i.flags|=8192;else throw Ta=dh,sm}function Ih(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ju():536870912,i.lanes|=r,Vo|=r)}function uc(i,r){if(!qe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function gt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function GR(i,r,o){var c=r.pendingProps;switch(Qd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),As(Lt),Ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(bo(r)?Is(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wd())),gt(r),null;case 26:var d=r.type,p=r.memoizedState;return i===null?(Is(r),p!==null?(gt(r),k_(r,p)):(gt(r),zm(r,d,null,c,o))):p?p!==i.memoizedState?(Is(r),gt(r),k_(r,p)):(gt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Is(r),gt(r),zm(r,d,i,c,o)),null;case 27:if(Ye(r),o=me.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Is(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return gt(r),null}i=oe.current,bo(r)?g0(r):(i=qb(d,c,o),r.stateNode=i,Is(r))}return gt(r),null;case 5:if(Ye(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Is(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(p=oe.current,bo(r))g0(r);else{var x=Gh(me.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?x.createElement(d,{is:c.is}):x.createElement(d)}}p[Pt]=r,p[Wt]=c;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=p;e:switch(cn(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Is(r)}}return gt(r),zm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Is(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=me.current,bo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=an,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Pt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Vb(i.nodeValue,o)),i||or(r,!0)}else i=Gh(i).createTextNode(c),i[Pt]=r,r.stateNode=i}return gt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=bo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Pt]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),i=!1}else o=Wd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return gt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=bo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Pt]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),d=!1}else d=Wd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Ih(r,r.updateQueue),gt(r),null);case 4:return Ee(),i===null&&cp(r.stateNode.containerInfo),gt(r),null;case 10:return As(r.type),gt(r),null;case 19:if(K(It),c=r.memoizedState,c===null)return gt(r),null;if(d=(r.flags&128)!==0,p=c.rendering,p===null)if(d)uc(c,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=yh(i),p!==null){for(r.flags|=128,uc(c,!1),i=p.updateQueue,r.updateQueue=i,Ih(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)h0(o,i),o=o.sibling;return ne(It,It.current&1|2),qe&&ws(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Xt()>Ph&&(r.flags|=128,d=!0,uc(c,!1),r.lanes=4194304)}else{if(!d)if(i=yh(p),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Ih(r,i),uc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!qe)return gt(r),null}else 2*Xt()-c.renderingStartTime>Ph&&o!==536870912&&(r.flags|=128,d=!0,uc(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Xt(),i.sibling=null,o=It.current,ne(It,d?o&1|2:o&1),qe&&ws(r,c.treeForkCount),i):(gt(r),null);case 22:case 23:return Bn(r),um(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),o=r.updateQueue,o!==null&&Ih(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&K(ba),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),As(Lt),gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function KR(i,r){switch(Qd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return As(Lt),Ee(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ye(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Bn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return K(It),null;case 4:return Ee(),null;case 10:return As(r.type),null;case 22:case 23:return Bn(r),um(),i!==null&&K(ba),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return As(Lt),null;case 25:return null;default:return null}}function L_(i,r){switch(Qd(r),r.tag){case 3:As(Lt),Ee();break;case 26:case 27:case 5:Ye(r);break;case 4:Ee();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:K(It);break;case 10:As(r.type);break;case 22:case 23:Bn(r),um(),i!==null&&K(ba);break;case 24:As(Lt)}}function hc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var p=o.create,x=o.inst;c=p(),x.destroy=c}o=o.next}while(o!==d)}}catch(S){at(r,r.return,S)}}function mr(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&i)===i){var x=c.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,d=r;var k=o,Q=S;try{Q()}catch(ee){at(d,k,ee)}}}c=c.next}while(c!==p)}}catch(ee){at(r,r.return,ee)}}function U_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{N0(r,o)}catch(c){at(i,i.return,c)}}}function B_(i,r,o){o.props=Sa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){at(i,r,c)}}function fc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){at(i,r,d)}}function Wi(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){at(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){at(i,r,d)}else o.current=null}function z_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){at(i,i.return,d)}}function Fm(i,r,o){try{var c=i.stateNode;mC(c,i.type,o,r),c[Wt]=r}catch(d){at(i,i.return,d)}}function F_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&xr(i.type)||i.tag===4}function Hm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||F_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&xr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qm(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=di));else if(c!==4&&(c===27&&xr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(qm(i,r,o),i=i.sibling;i!==null;)qm(i,r,o),i=i.sibling}function Dh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&xr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Dh(i,r,o),i=i.sibling;i!==null;)Dh(i,r,o),i=i.sibling}function H_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);cn(r,c,o),r[Pt]=i,r[Wt]=o}catch(p){at(i,i.return,p)}}var Ds=!1,zt=!1,Gm=!1,q_=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function $R(i,r){if(i=i.containerInfo,fp=Zh,i=n0(i),Ld(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var x=0,S=-1,k=-1,Q=0,ee=0,re=i,X=null;t:for(;;){for(var Z;re!==o||d!==0&&re.nodeType!==3||(S=x+d),re!==p||c!==0&&re.nodeType!==3||(k=x+c),re.nodeType===3&&(x+=re.nodeValue.length),(Z=re.firstChild)!==null;)X=re,re=Z;for(;;){if(re===i)break t;if(X===o&&++Q===d&&(S=x),X===p&&++ee===c&&(k=x),(Z=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=Z}o=S===-1||k===-1?null:{start:S,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(dp={focusedElem:i,selectionRange:o},Zh=!1,Jt=r;Jt!==null;)if(r=Jt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Jt=i;else for(;Jt!==null;){switch(r=Jt,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,d=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var ye=Sa(o.type,d);i=c.getSnapshotBeforeUpdate(ye,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(we){at(o,o.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)gp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":gp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Jt=i;break}Jt=r.return}}function G_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(i,o),c&4&&hc(5,o);break;case 1:if(Vs(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){at(o,o.return,x)}else{var d=Sa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){at(o,o.return,x)}}c&64&&U_(o),c&512&&fc(o,o.return);break;case 3:if(Vs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{N0(i,r)}catch(x){at(o,o.return,x)}}break;case 27:r===null&&c&4&&H_(o);case 26:case 5:Vs(i,o),r===null&&c&4&&z_(o),c&512&&fc(o,o.return);break;case 12:Vs(i,o);break;case 31:Vs(i,o),c&4&&Y_(i,o);break;case 13:Vs(i,o),c&4&&Q_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=nC.bind(null,o),TC(i,o))));break;case 22:if(c=o.memoizedState!==null||Ds,!c){r=r!==null&&r.memoizedState!==null||zt,d=Ds;var p=zt;Ds=c,(zt=r)&&!p?Os(i,o,(o.subtreeFlags&8772)!==0):Vs(i,o),Ds=d,zt=p}break;case 30:break;default:Vs(i,o)}}function K_(i){var r=i.alternate;r!==null&&(i.alternate=null,K_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&no(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var bt=null,Rn=!1;function Ms(i,r,o){for(o=o.child;o!==null;)$_(i,r,o),o=o.sibling}function $_(i,r,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(On,o)}catch{}switch(o.tag){case 26:zt||Wi(o,r),Ms(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:zt||Wi(o,r);var c=bt,d=Rn;xr(o.type)&&(bt=o.stateNode,Rn=!1),Ms(i,r,o),xc(o.stateNode),bt=c,Rn=d;break;case 5:zt||Wi(o,r);case 6:if(c=bt,d=Rn,bt=null,Ms(i,r,o),bt=c,Rn=d,bt!==null)if(Rn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(o.stateNode)}catch(p){at(o,r,p)}else try{bt.removeChild(o.stateNode)}catch(p){at(o,r,p)}break;case 18:bt!==null&&(Rn?(i=bt,Ub(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),zo(i)):Ub(bt,o.stateNode));break;case 4:c=bt,d=Rn,bt=o.stateNode.containerInfo,Rn=!0,Ms(i,r,o),bt=c,Rn=d;break;case 0:case 11:case 14:case 15:mr(2,o,r),zt||mr(4,o,r),Ms(i,r,o);break;case 1:zt||(Wi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&B_(o,r,c)),Ms(i,r,o);break;case 21:Ms(i,r,o);break;case 22:zt=(c=zt)||o.memoizedState!==null,Ms(i,r,o),zt=c;break;default:Ms(i,r,o)}}function Y_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{zo(i)}catch(o){at(r,r.return,o)}}}function Q_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zo(i)}catch(o){at(r,r.return,o)}}function YR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new q_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new q_),r;default:throw Error(s(435,i.tag))}}function Mh(i,r){var o=YR(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var d=iC.bind(null,i,c);c.then(d,d)}})}function Cn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],p=i,x=r,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(xr(S.type)){bt=S.stateNode,Rn=!1;break e}break;case 5:bt=S.stateNode,Rn=!1;break e;case 3:case 4:bt=S.stateNode.containerInfo,Rn=!0;break e}S=S.return}if(bt===null)throw Error(s(160));$_(p,x,d),bt=null,Rn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)X_(r,i),r=r.sibling}var _i=null;function X_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cn(r,i),Nn(i),c&4&&(mr(3,i,i.return),hc(3,i),mr(5,i,i.return));break;case 1:Cn(r,i),Nn(i),c&512&&(zt||o===null||Wi(o,o.return)),c&64&&Ds&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=_i;if(Cn(r,i),Nn(i),c&512&&(zt||o===null||Wi(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[ki]||p[Pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),cn(p,c,o),p[Pt]=i,jt(p),c=p;break e;case"link":var x=Xb("link","href",d).get(c+(o.href||""));if(x){for(var S=0;S<x.length;S++)if(p=x[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(S,1);break t}}p=d.createElement(c),cn(p,c,o),d.head.appendChild(p);break;case"meta":if(x=Xb("meta","content",d).get(c+(o.content||""))){for(S=0;S<x.length;S++)if(p=x[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(S,1);break t}}p=d.createElement(c),cn(p,c,o),d.head.appendChild(p);break;default:throw Error(s(468,c))}p[Pt]=i,jt(p),c=p}i.stateNode=c}else Wb(d,i.type,i.stateNode);else i.stateNode=Qb(d,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?Wb(d,i.type,i.stateNode):Qb(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Fm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Cn(r,i),Nn(i),c&512&&(zt||o===null||Wi(o,o.return)),o!==null&&c&4&&Fm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Cn(r,i),Nn(i),c&512&&(zt||o===null||Wi(o,o.return)),i.flags&32){d=i.stateNode;try{An(d,"")}catch(ye){at(i,i.return,ye)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,Fm(i,d,o!==null?o.memoizedProps:d)),c&1024&&(Gm=!0);break;case 6:if(Cn(r,i),Nn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ye){at(i,i.return,ye)}}break;case 3:if(Yh=null,d=_i,_i=Kh(r.containerInfo),Cn(r,i),_i=d,Nn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{zo(r.containerInfo)}catch(ye){at(i,i.return,ye)}Gm&&(Gm=!1,W_(i));break;case 4:c=_i,_i=Kh(i.stateNode.containerInfo),Cn(r,i),Nn(i),_i=c;break;case 12:Cn(r,i),Nn(i);break;case 31:Cn(r,i),Nn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 13:Cn(r,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Oh=Xt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 22:d=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,Q=Ds,ee=zt;if(Ds=Q||d,zt=ee||k,Cn(r,i),zt=ee,Ds=Q,Nn(i),c&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||k||Ds||zt||Aa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(p=k.stateNode,d)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=k.stateNode;var re=k.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ye){at(k,k.return,ye)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(ye){at(k,k.return,ye)}}}else if(r.tag===18){if(o===null){k=r;try{var Z=k.stateNode;d?Bb(Z,!0):Bb(k.stateNode,!1)}catch(ye){at(k,k.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Mh(i,o))));break;case 19:Cn(r,i),Nn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 30:break;case 21:break;default:Cn(r,i),Nn(i)}}function Nn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(F_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,p=Hm(i);Dh(i,p,d);break;case 5:var x=o.stateNode;o.flags&32&&(An(x,""),o.flags&=-33);var S=Hm(i);Dh(i,S,x);break;case 3:case 4:var k=o.stateNode.containerInfo,Q=Hm(i);qm(i,Q,k);break;default:throw Error(s(161))}}catch(ee){at(i,i.return,ee)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function W_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;W_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Vs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)G_(i,r.alternate,r),r=r.sibling}function Aa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:mr(4,r,r.return),Aa(r);break;case 1:Wi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&B_(r,r.return,o),Aa(r);break;case 27:xc(r.stateNode);case 26:case 5:Wi(r,r.return),Aa(r);break;case 22:r.memoizedState===null&&Aa(r);break;case 30:Aa(r);break;default:Aa(r)}i=i.sibling}}function Os(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,p=r,x=p.flags;switch(p.tag){case 0:case 11:case 15:Os(d,p,o),hc(4,p);break;case 1:if(Os(d,p,o),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){at(c,c.return,Q)}if(c=p,d=c.updateQueue,d!==null){var S=c.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)C0(k[d],S)}catch(Q){at(c,c.return,Q)}}o&&x&64&&U_(p),fc(p,p.return);break;case 27:H_(p);case 26:case 5:Os(d,p,o),o&&c===null&&x&4&&z_(p),fc(p,p.return);break;case 12:Os(d,p,o);break;case 31:Os(d,p,o),o&&x&4&&Y_(d,p);break;case 13:Os(d,p,o),o&&x&4&&Q_(d,p);break;case 22:p.memoizedState===null&&Os(d,p,o),fc(p,p.return);break;case 30:break;default:Os(d,p,o)}r=r.sibling}}function Km(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Zl(o))}function $m(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i))}function bi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z_(i,r,o,c),r=r.sibling}function Z_(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:bi(i,r,o,c),d&2048&&hc(9,r);break;case 1:bi(i,r,o,c);break;case 3:bi(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i)));break;case 12:if(d&2048){bi(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,x=p.id,S=p.onPostCommit;typeof S=="function"&&S(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){at(r,r.return,k)}}else bi(i,r,o,c);break;case 31:bi(i,r,o,c);break;case 13:bi(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,x=r.alternate,r.memoizedState!==null?p._visibility&2?bi(i,r,o,c):dc(i,r):p._visibility&2?bi(i,r,o,c):(p._visibility|=2,Io(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Km(x,r);break;case 24:bi(i,r,o,c),d&2048&&$m(r.alternate,r);break;default:bi(i,r,o,c)}}function Io(i,r,o,c,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,x=r,S=o,k=c,Q=x.flags;switch(x.tag){case 0:case 11:case 15:Io(p,x,S,k,d),hc(8,x);break;case 23:break;case 22:var ee=x.stateNode;x.memoizedState!==null?ee._visibility&2?Io(p,x,S,k,d):dc(p,x):(ee._visibility|=2,Io(p,x,S,k,d)),d&&Q&2048&&Km(x.alternate,x);break;case 24:Io(p,x,S,k,d),d&&Q&2048&&$m(x.alternate,x);break;default:Io(p,x,S,k,d)}r=r.sibling}}function dc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:dc(o,c),d&2048&&Km(c.alternate,c);break;case 24:dc(o,c),d&2048&&$m(c.alternate,c);break;default:dc(o,c)}r=r.sibling}}var mc=8192;function Do(i,r,o){if(i.subtreeFlags&mc)for(i=i.child;i!==null;)J_(i,r,o),i=i.sibling}function J_(i,r,o){switch(i.tag){case 26:Do(i,r,o),i.flags&mc&&i.memoizedState!==null&&OC(o,_i,i.memoizedState,i.memoizedProps);break;case 5:Do(i,r,o);break;case 3:case 4:var c=_i;_i=Kh(i.stateNode.containerInfo),Do(i,r,o),_i=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=mc,mc=16777216,Do(i,r,o),mc=c):Do(i,r,o));break;default:Do(i,r,o)}}function eb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function pc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Jt=c,nb(c,i)}eb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tb(i),i=i.sibling}function tb(i){switch(i.tag){case 0:case 11:case 15:pc(i),i.flags&2048&&mr(9,i,i.return);break;case 3:pc(i);break;case 12:pc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Vh(i)):pc(i);break;default:pc(i)}}function Vh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Jt=c,nb(c,i)}eb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:mr(8,r,r.return),Vh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Vh(r));break;default:Vh(r)}i=i.sibling}}function nb(i,r){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:mr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Jt=c;else e:for(o=i;Jt!==null;){c=Jt;var d=c.sibling,p=c.return;if(K_(c),c===o){Jt=null;break e}if(d!==null){d.return=p,Jt=d;break e}Jt=p}}}var QR={getCacheForType:function(i){var r=on(Lt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return on(Lt).controller.signal}},XR=typeof WeakMap=="function"?WeakMap:Map,Je=0,ft=null,je=null,Ue=0,rt=0,zn=null,pr=!1,Mo=!1,Ym=!1,Ps=0,At=0,gr=0,Ra=0,Qm=0,Fn=0,Vo=0,gc=null,In=null,Xm=!1,Oh=0,ib=0,Ph=1/0,jh=null,yr=null,Kt=0,vr=null,Oo=null,js=0,Wm=0,Zm=null,sb=null,yc=0,Jm=null;function Hn(){return(Je&2)!==0&&Ue!==0?Ue&-Ue:J.T!==null?rp():ku()}function rb(){if(Fn===0)if((Ue&536870912)===0||qe){var i=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),Fn=i}else Fn=536870912;return i=Un.current,i!==null&&(i.flags|=32),Fn}function Dn(i,r,o){(i===ft&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(Po(i,0),_r(i,Ue,Fn,!1)),ta(i,o),((Je&2)===0||i!==ft)&&(i===ft&&((Je&2)===0&&(Ra|=o),At===4&&_r(i,Ue,Fn,!1)),Zi(i))}function ab(i,r,o){if((Je&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ui(i,r),d=c?JR(i,r):tp(i,r,!0),p=c;do{if(d===0){Mo&&!c&&_r(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!WR(o)){d=tp(i,r,!1),p=!1;continue}if(d===2){if(p=r,i.errorRecoveryDisabledLanes&p)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var S=i;d=gc;var k=S.current.memoizedState.isDehydrated;if(k&&(Po(S,x).flags|=256),x=tp(S,x,!1),x!==2){if(Ym&&!k){S.errorRecoveryDisabledLanes|=p,Ra|=p,d=4;break e}p=In,In=d,p!==null&&(In===null?In=p:In.push.apply(In,p))}d=x}if(p=!1,d!==2)continue}}if(d===1){Po(i,0),_r(i,r,0,!0);break}e:{switch(c=i,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:_r(c,r,Fn,!pr);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Oh+300-Xt(),10<d)){if(_r(c,r,Fn,!pr),Oi(c,0,!0)!==0)break e;js=r,c.timeoutHandle=kb(ob.bind(null,c,o,In,jh,Xm,r,Fn,Ra,Vo,pr,p,"Throttled",-0,0),d);break e}ob(c,o,In,jh,Xm,r,Fn,Ra,Vo,pr,p,null,-0,0)}}break}while(!0);Zi(i)}function ob(i,r,o,c,d,p,x,S,k,Q,ee,re,X,Z){if(i.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},J_(r,p,re);var ye=(p&62914560)===p?Oh-Xt():(p&4194048)===p?ib-Xt():0;if(ye=PC(re,ye),ye!==null){js=p,i.cancelPendingCommit=ye(pb.bind(null,i,r,p,o,c,d,x,S,k,ee,re,null,X,Z)),_r(i,p,x,!Q);return}}pb(i,r,p,o,c,d,x,S,k)}function WR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!kn(p(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function _r(i,r,o,c){r&=~Qm,r&=~Ra,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var p=31-Ct(d),x=1<<p;c[p]=-1,d&=~x}o!==0&&na(i,o,r)}function kh(){return(Je&6)===0?(vc(0),!1):!0}function ep(){if(je!==null){if(rt===0)var i=je.return;else i=je,Ss=va=null,gm(i),So=null,ec=0,i=je;for(;i!==null;)L_(i.alternate,i),i=i.return;je=null}}function Po(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,yC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),js=0,ep(),ft=i,je=o=Es(i.current,null),Ue=r,rt=0,zn=null,pr=!1,Mo=ui(i,r),Ym=!1,Vo=Fn=Qm=Ra=gr=At=0,In=gc=null,Xm=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-Ct(c),p=1<<d;r|=i[d],c&=~p}return Ps=r,sh(),o}function lb(i,r){Oe=null,J.H=lc,r===wo||r===fh?(r=w0(),rt=3):r===sm?(r=w0(),rt=4):rt=r===Mm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,je===null&&(At=1,Ah(i,Wn(r,i.current)))}function cb(){var i=Un.current;return i===null?!0:(Ue&4194048)===Ue?ti===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?i===ti:!1}function ub(){var i=J.H;return J.H=lc,i===null?lc:i}function hb(){var i=J.A;return J.A=QR,i}function Lh(){At=4,pr||(Ue&4194048)!==Ue&&Un.current!==null||(Mo=!0),(gr&134217727)===0&&(Ra&134217727)===0||ft===null||_r(ft,Ue,Fn,!1)}function tp(i,r,o){var c=Je;Je|=2;var d=ub(),p=hb();(ft!==i||Ue!==r)&&(jh=null,Po(i,r)),r=!1;var x=At;e:do try{if(rt!==0&&je!==null){var S=je,k=zn;switch(rt){case 8:ep(),x=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var Q=rt;if(rt=0,zn=null,jo(i,S,k,Q),o&&Mo){x=0;break e}break;default:Q=rt,rt=0,zn=null,jo(i,S,k,Q)}}ZR(),x=At;break}catch(ee){lb(i,ee)}while(!0);return r&&i.shellSuspendCounter++,Ss=va=null,Je=c,J.H=d,J.A=p,je===null&&(ft=null,Ue=0,sh()),x}function ZR(){for(;je!==null;)fb(je)}function JR(i,r){var o=Je;Je|=2;var c=ub(),d=hb();ft!==i||Ue!==r?(jh=null,Ph=Xt()+500,Po(i,r)):Mo=ui(i,r);e:do try{if(rt!==0&&je!==null){r=je;var p=zn;t:switch(rt){case 1:rt=0,zn=null,jo(i,r,p,1);break;case 2:case 9:if(T0(p)){rt=0,zn=null,db(r);break}r=function(){rt!==2&&rt!==9||ft!==i||(rt=7),Zi(i)},p.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:T0(p)?(rt=0,zn=null,db(r)):(rt=0,zn=null,jo(i,r,p,7));break;case 5:var x=null;switch(je.tag){case 26:x=je.memoizedState;case 5:case 27:var S=je;if(x?Zb(x):S.stateNode.complete){rt=0,zn=null;var k=S.sibling;if(k!==null)je=k;else{var Q=S.return;Q!==null?(je=Q,Uh(Q)):je=null}break t}}rt=0,zn=null,jo(i,r,p,5);break;case 6:rt=0,zn=null,jo(i,r,p,6);break;case 8:ep(),At=6;break e;default:throw Error(s(462))}}eC();break}catch(ee){lb(i,ee)}while(!0);return Ss=va=null,J.H=c,J.A=d,Je=o,je!==null?0:(ft=null,Ue=0,sh(),At)}function eC(){for(;je!==null&&!Cl();)fb(je)}function fb(i){var r=j_(i.alternate,i,Ps);i.memoizedProps=i.pendingProps,r===null?Uh(i):je=r}function db(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=I_(o,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=I_(o,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:gm(r);default:L_(o,r),r=je=h0(r,Ps),r=j_(o,r,Ps)}i.memoizedProps=i.pendingProps,r===null?Uh(i):je=r}function jo(i,r,o,c){Ss=va=null,gm(r),So=null,ec=0;var d=r.return;try{if(FR(i,d,r,o,Ue)){At=1,Ah(i,Wn(o,i.current)),je=null;return}}catch(p){if(d!==null)throw je=d,p;At=1,Ah(i,Wn(o,i.current)),je=null;return}r.flags&32768?(qe||c===1?i=!0:Mo||(Ue&536870912)!==0?i=!1:(pr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),mb(r,i)):Uh(r)}function Uh(i){var r=i;do{if((r.flags&32768)!==0){mb(r,pr);return}i=r.return;var o=GR(r.alternate,r,Ps);if(o!==null){je=o;return}if(r=r.sibling,r!==null){je=r;return}je=r=i}while(r!==null);At===0&&(At=5)}function mb(i,r){do{var o=KR(i.alternate,i);if(o!==null){o.flags&=32767,je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){je=i;return}je=i=o}while(i!==null);At=6,je=null}function pb(i,r,o,c,d,p,x,S,k){i.cancelPendingCommit=null;do Bh();while(Kt!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Hd,Od(i,o,p,x,S,k),i===ft&&(je=ft=null,Ue=0),Oo=r,vr=i,js=o,Wm=p,Zm=d,sb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,sC(Di,function(){return bb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,d=ue.p,ue.p=2,x=Je,Je|=4;try{$R(i,r,o)}finally{Je=x,ue.p=d,J.T=c}}Kt=1,gb(),yb(),vb()}}function gb(){if(Kt===1){Kt=0;var i=vr,r=Oo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=ue.p;ue.p=2;var d=Je;Je|=4;try{X_(r,i);var p=dp,x=n0(i.containerInfo),S=p.focusedElem,k=p.selectionRange;if(x!==S&&S&&S.ownerDocument&&t0(S.ownerDocument.documentElement,S)){if(k!==null&&Ld(S)){var Q=k.start,ee=k.end;if(ee===void 0&&(ee=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(ee,S.value.length);else{var re=S.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var Z=X.getSelection(),ye=S.textContent.length,we=Math.min(k.start,ye),ht=k.end===void 0?we:Math.min(k.end,ye);!Z.extend&&we>ht&&(x=ht,ht=we,we=x);var q=e0(S,we),B=e0(S,ht);if(q&&B&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==B.node||Z.focusOffset!==B.offset)){var Y=re.createRange();Y.setStart(q.node,q.offset),Z.removeAllRanges(),we>ht?(Z.addRange(Y),Z.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),Z.addRange(Y))}}}}for(re=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&re.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var se=re[S];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Zh=!!fp,dp=fp=null}finally{Je=d,ue.p=c,J.T=o}}i.current=r,Kt=2}}function yb(){if(Kt===2){Kt=0;var i=vr,r=Oo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=ue.p;ue.p=2;var d=Je;Je|=4;try{G_(i,r.alternate,r)}finally{Je=d,ue.p=c,J.T=o}}Kt=3}}function vb(){if(Kt===4||Kt===3){Kt=0,Wa();var i=vr,r=Oo,o=js,c=sb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,Oo=vr=null,_b(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(yr=null),_s(o),r=r.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(On,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=J.T,d=ue.p,ue.p=2,J.T=null;try{for(var p=i.onRecoverableError,x=0;x<c.length;x++){var S=c[x];p(S.value,{componentStack:S.stack})}}finally{J.T=r,ue.p=d}}(js&3)!==0&&Bh(),Zi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Jm?yc++:(yc=0,Jm=i):yc=0,vc(0)}}function _b(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Zl(r)))}function Bh(){return gb(),yb(),vb(),bb()}function bb(){if(Kt!==5)return!1;var i=vr,r=Wm;Wm=0;var o=_s(js),c=J.T,d=ue.p;try{ue.p=32>o?32:o,J.T=null,o=Zm,Zm=null;var p=vr,x=js;if(Kt=0,Oo=vr=null,js=0,(Je&6)!==0)throw Error(s(331));var S=Je;if(Je|=4,tb(p.current),Z_(p,p.current,x,o),Je=S,vc(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(On,p)}catch{}return!0}finally{ue.p=d,J.T=c,_b(i,r)}}function xb(i,r,o){r=Wn(o,r),r=Dm(i.stateNode,r,2),i=hr(i,r,2),i!==null&&(ta(i,2),Zi(i))}function at(i,r,o){if(i.tag===3)xb(i,i,o);else for(;r!==null;){if(r.tag===3){xb(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(yr===null||!yr.has(c))){i=Wn(o,i),o=T_(2),c=hr(r,o,2),c!==null&&(E_(o,c,r,i),ta(c,2),Zi(c));break}}r=r.return}}function np(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new XR;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(Ym=!0,d.add(o),i=tC.bind(null,i,r,o),r.then(i,i))}function tC(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ft===i&&(Ue&o)===o&&(At===4||At===3&&(Ue&62914560)===Ue&&300>Xt()-Oh?(Je&2)===0&&Po(i,0):Qm|=o,Vo===Ue&&(Vo=0)),Zi(i)}function Tb(i,r){r===0&&(r=ju()),i=pa(i,r),i!==null&&(ta(i,r),Zi(i))}function nC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Tb(i,o)}function iC(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Tb(i,o)}function sC(i,r){return tt(i,r)}var zh=null,ko=null,ip=!1,Fh=!1,sp=!1,br=0;function Zi(i){i!==ko&&i.next===null&&(ko===null?zh=ko=i:ko=ko.next=i),Fh=!0,ip||(ip=!0,aC())}function vc(i,r){if(!sp&&Fh){sp=!0;do for(var o=!1,c=zh;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var x=c.suspendedLanes,S=c.pingedLanes;p=(1<<31-Ct(42|i)+1)-1,p&=d&~(x&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Ab(c,p))}else p=Ue,p=Oi(c,c===ft?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||ui(c,p)||(o=!0,Ab(c,p));c=c.next}while(o);sp=!1}}function rC(){Eb()}function Eb(){Fh=ip=!1;var i=0;br!==0&&gC()&&(i=br);for(var r=Xt(),o=null,c=zh;c!==null;){var d=c.next,p=wb(c,r);p===0?(c.next=null,o===null?zh=d:o.next=d,d===null&&(ko=o)):(o=c,(i!==0||(p&3)!==0)&&(Fh=!0)),c=d}Kt!==0&&Kt!==5||vc(i),br!==0&&(br=0)}function wb(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var x=31-Ct(p),S=1<<x,k=d[x];k===-1?((S&o)===0||(S&c)!==0)&&(d[x]=Vd(S,r)):k<=r&&(i.expiredLanes|=S),p&=~S}if(r=ft,o=Ue,o=Oi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ii(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ui(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Ii(c),_s(o)){case 2:case 8:o=Zr;break;case 32:o=Di;break;case 268435456:o=Jr;break;default:o=Di}return c=Sb.bind(null,i),o=tt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Ii(c),i.callbackPriority=2,i.callbackNode=null,2}function Sb(i,r){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Bh()&&i.callbackNode!==o)return null;var c=Ue;return c=Oi(i,i===ft?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(ab(i,c,r),wb(i,Xt()),i.callbackNode!=null&&i.callbackNode===o?Sb.bind(null,i):null)}function Ab(i,r){if(Bh())return null;ab(i,r,!0)}function aC(){vC(function(){(Je&6)!==0?tt(Ys,rC):Eb()})}function rp(){if(br===0){var i=To;i===0&&(i=Mi,Mi<<=1,(Mi&261888)===0&&(Mi=256)),br=i}return br}function Rb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ao(""+i)}function Cb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function oC(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var p=Rb((d[Wt]||null).action),x=c.submitter;x&&(r=(r=x[Wt]||null)?Rb(r.formAction):x.getAttribute("formAction"),r!==null&&(p=r,x=null));var S=new Gi("action","action",null,c,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(br!==0){var k=x?Cb(d,x):new FormData(d);Sm(o,{pending:!0,data:k,method:d.method,action:p},null,k)}}else typeof p=="function"&&(S.preventDefault(),k=x?Cb(d,x):new FormData(d),Sm(o,{pending:!0,data:k,method:d.method,action:p},p,k))},currentTarget:d}]})}}for(var ap=0;ap<Fd.length;ap++){var op=Fd[ap],lC=op.toLowerCase(),cC=op[0].toUpperCase()+op.slice(1);vi(lC,"on"+cC)}vi(r0,"onAnimationEnd"),vi(a0,"onAnimationIteration"),vi(o0,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(SR,"onTransitionRun"),vi(AR,"onTransitionStart"),vi(RR,"onTransitionCancel"),vi(l0,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_c));function Nb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var x=c.length-1;0<=x;x--){var S=c[x],k=S.instance,Q=S.currentTarget;if(S=S.listener,k!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=Q;try{p(d)}catch(ee){ih(ee)}d.currentTarget=null,p=k}else for(x=0;x<c.length;x++){if(S=c[x],k=S.instance,Q=S.currentTarget,S=S.listener,k!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=Q;try{p(d)}catch(ee){ih(ee)}d.currentTarget=null,p=k}}}}function ke(i,r){var o=r[to];o===void 0&&(o=r[to]=new Set);var c=i+"__bubble";o.has(c)||(Ib(r,i,2,!1),o.add(c))}function lp(i,r,o){var c=0;r&&(c|=4),Ib(o,i,c,r)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function cp(i){if(!i[Hh]){i[Hh]=!0,Dl.forEach(function(o){o!=="selectionchange"&&(uC.has(o)||lp(o,!1,i),lp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Hh]||(r[Hh]=!0,lp("selectionchange",!1,r))}}function Ib(i,r,o,c){switch(rx(r)){case 2:var d=LC;break;case 8:d=UC;break;default:d=wp}o=d.bind(null,r,o,i),d=void 0,!oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function up(i,r,o,c,d){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var S=c.stateNode.containerInfo;if(S===d)break;if(x===4)for(x=c.return;x!==null;){var k=x.tag;if((k===3||k===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;S!==null;){if(x=Li(S),x===null)return;if(k=x.tag,k===5||k===6||k===26||k===27){c=p=x;continue e}S=S.parentNode}}c=c.return}tr(function(){var Q=p,ee=$n(o),re=[];e:{var X=c0.get(i);if(X!==void 0){var Z=Gi,ye=i;switch(i){case"keypress":if(ca(o)===0)break e;case"keydown":case"keyup":Z=eh;break;case"focusin":ye="focus",Z=ha;break;case"focusout":ye="blur",Z=ha;break;case"beforeblur":case"afterblur":Z=ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case r0:case a0:case o0:Z=$u;break;case l0:Z=R;break;case"scroll":case"scrollend":Z=Hl;break;case"wheel":Z=W;break;case"copy":case"cut":case"paste":Z=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ts;break;case"toggle":case"beforetoggle":Z=Ve}var we=(r&4)!==0,ht=!we&&(i==="scroll"||i==="scrollend"),q=we?X!==null?X+"Capture":null:X;we=[];for(var B=Q,Y;B!==null;){var se=B;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||q===null||(se=mi(B,q),se!=null&&we.push(bc(B,se,Y))),ht)break;B=B.return}0<we.length&&(X=new Z(X,ye,null,o,ee),re.push({event:X,listeners:we}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",X&&o!==Bl&&(ye=o.relatedTarget||o.fromElement)&&(Li(ye)||ye[ji]))break e;if((Z||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(ye=o.relatedTarget||o.toElement,Z=Q,ye=ye?Li(ye):null,ye!==null&&(ht=l(ye),we=ye.tag,ye!==ht||we!==5&&we!==27&&we!==6)&&(ye=null)):(Z=null,ye=Q),Z!==ye)){if(we=ql,se="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(we=Ts,se="onPointerLeave",q="onPointerEnter",B="pointer"),ht=Z==null?X:Pn(Z),Y=ye==null?X:Pn(ye),X=new we(se,B+"leave",Z,o,ee),X.target=ht,X.relatedTarget=Y,se=null,Li(ee)===Q&&(we=new we(q,B+"enter",ye,o,ee),we.target=Y,we.relatedTarget=ht,se=we),ht=se,Z&&ye)t:{for(we=hC,q=Z,B=ye,Y=0,se=q;se;se=we(se))Y++;se=0;for(var xe=B;xe;xe=we(xe))se++;for(;0<Y-se;)q=we(q),Y--;for(;0<se-Y;)B=we(B),se--;for(;Y--;){if(q===B||B!==null&&q===B.alternate){we=q;break t}q=we(q),B=we(B)}we=null}else we=null;Z!==null&&Db(re,X,Z,we,!1),ye!==null&&ht!==null&&Db(re,ht,ye,we,!0)}}e:{if(X=Q?Pn(Q):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var Qe=Yv;else if(Kv(X))if(Qv)Qe=TR;else{Qe=bR;var ve=_R}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&ro(Q.elementType)&&(Qe=Yv):Qe=xR;if(Qe&&(Qe=Qe(i,Q))){$v(re,Qe,o,ee);break e}ve&&ve(i,X,Q),i==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&kl(X,"number",X.value)}switch(ve=Q?Pn(Q):window,i){case"focusin":(Kv(ve)||ve.contentEditable==="true")&&(mo=ve,Ud=Q,Ql=null);break;case"focusout":Ql=Ud=mo=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,i0(re,o,ee);break;case"selectionchange":if(wR)break;case"keydown":case"keyup":i0(re,o,ee)}var Pe;if(Ze)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else fo?fa(i,o)&&(Be="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(Yi&&o.locale!=="ko"&&(fo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&fo&&(Pe=Fl()):(qi=ee,zl="value"in qi?qi.value:qi.textContent,fo=!0)),ve=qh(Q,Be),0<ve.length&&(Be=new $i(Be,i,null,o,ee),re.push({event:Be,listeners:ve}),Pe?Be.data=Pe:(Pe=ho(o),Pe!==null&&(Be.data=Pe)))),(Pe=Qn?pR(i,o):gR(i,o))&&(Be=qh(Q,"onBeforeInput"),0<Be.length&&(ve=new $i("onBeforeInput","beforeinput",null,o,ee),re.push({event:ve,listeners:Be}),ve.data=Pe)),oC(re,i,Q,o,ee)}Nb(re,r)})}function bc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function qh(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=mi(i,o),d!=null&&c.unshift(bc(i,d,p)),d=mi(i,r),d!=null&&c.push(bc(i,d,p))),i.tag===3)return c;i=i.return}return[]}function hC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Db(i,r,o,c,d){for(var p=r._reactName,x=[];o!==null&&o!==c;){var S=o,k=S.alternate,Q=S.stateNode;if(S=S.tag,k!==null&&k===c)break;S!==5&&S!==26&&S!==27||Q===null||(k=Q,d?(Q=mi(o,p),Q!=null&&x.unshift(bc(o,Q,k))):d||(Q=mi(o,p),Q!=null&&x.push(bc(o,Q,k)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var fC=/\r\n?/g,dC=/\u0000|\uFFFD/g;function Mb(i){return(typeof i=="string"?i:""+i).replace(fC,`
`).replace(dC,"")}function Vb(i,r){return r=Mb(r),Mb(i)===r}function ut(i,r,o,c,d,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||An(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&An(i,""+c);break;case"className":jn(i,"class",c);break;case"tabIndex":jn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(i,o,c);break;case"style":Ul(i,c,p);break;case"data":if(r!=="object"){jn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=ao(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ut(i,r,"name",d.name,d,null),ut(i,r,"formEncType",d.formEncType,d,null),ut(i,r,"formMethod",d.formMethod,d,null),ut(i,r,"formTarget",d.formTarget,d,null)):(ut(i,r,"encType",d.encType,d,null),ut(i,r,"method",d.method,d,null),ut(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=ao(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=di);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=ao(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ke("beforetoggle",i),ke("toggle",i),io(i,"popover",c);break;case"xlinkActuate":kt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":io(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=qu.get(o)||o,io(i,o,c))}}function hp(i,r,o,c,d,p){switch(o){case"style":Ul(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?An(i,c):(typeof c=="number"||typeof c=="bigint")&&An(i,""+c);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"onClick":c!=null&&(i.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),p=i[Wt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):io(i,o,c)}}}function cn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var c=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var x=o[p];if(x!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(i,r,p,x,o,null)}}d&&ut(i,r,"srcSet",o.srcSet,o,null),c&&ut(i,r,"src",o.src,o,null);return;case"input":ke("invalid",i);var S=p=x=d=null,k=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":d=ee;break;case"type":x=ee;break;case"checked":k=ee;break;case"defaultChecked":Q=ee;break;case"value":p=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:ut(i,r,c,ee,o,null)}}zu(i,p,S,k,Q,x,d,!1);return;case"select":ke("invalid",i),c=x=p=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":x=S;break;case"multiple":c=S;default:ut(i,r,d,S,o,null)}r=p,o=x,i.multiple=!!c,r!=null?Ws(i,!!c,r,!1):o!=null&&Ws(i,!!c,o,!0);return;case"textarea":ke("invalid",i),p=d=c=null;for(x in o)if(o.hasOwnProperty(x)&&(S=o[x],S!=null))switch(x){case"value":c=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ut(i,r,x,S,o,null)}Zs(i,c,d,p);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ut(i,r,k,c,o,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(c=0;c<_c.length;c++)ke(_c[c],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(i,r,Q,c,o,null)}return;default:if(ro(r)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&hp(i,r,ee,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&ut(i,r,S,c,o,null))}function mC(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,x=null,S=null,k=null,Q=null,ee=null;for(Z in o){var re=o[Z];if(o.hasOwnProperty(Z)&&re!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=re;default:c.hasOwnProperty(Z)||ut(i,r,Z,null,c,re)}}for(var X in c){var Z=c[X];if(re=o[X],c.hasOwnProperty(X)&&(Z!=null||re!=null))switch(X){case"type":p=Z;break;case"name":d=Z;break;case"checked":Q=Z;break;case"defaultChecked":ee=Z;break;case"value":x=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Z!==re&&ut(i,r,X,Z,c,re)}}so(i,x,S,k,Q,ee,p,d);return;case"select":Z=x=S=X=null;for(p in o)if(k=o[p],o.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":Z=k;default:c.hasOwnProperty(p)||ut(i,r,p,null,c,k)}for(d in c)if(p=c[d],k=o[d],c.hasOwnProperty(d)&&(p!=null||k!=null))switch(d){case"value":X=p;break;case"defaultValue":S=p;break;case"multiple":x=p;default:p!==k&&ut(i,r,d,p,c,k)}r=S,o=x,c=Z,X!=null?Ws(i,!!o,X,!1):!!c!=!!o&&(r!=null?Ws(i,!!o,r,!0):Ws(i,!!o,o?[]:"",!1));return;case"textarea":Z=X=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ut(i,r,S,null,c,d)}for(x in c)if(d=c[x],p=o[x],c.hasOwnProperty(x)&&(d!=null||p!=null))switch(x){case"value":X=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&ut(i,r,x,d,c,p)}Fu(i,X,Z);return;case"option":for(var ye in o)if(X=o[ye],o.hasOwnProperty(ye)&&X!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:ut(i,r,ye,null,c,X)}for(k in c)if(X=c[k],Z=o[k],c.hasOwnProperty(k)&&X!==Z&&(X!=null||Z!=null))switch(k){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ut(i,r,k,X,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)X=o[we],o.hasOwnProperty(we)&&X!=null&&!c.hasOwnProperty(we)&&ut(i,r,we,null,c,X);for(Q in c)if(X=c[Q],Z=o[Q],c.hasOwnProperty(Q)&&X!==Z&&(X!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:ut(i,r,Q,X,c,Z)}return;default:if(ro(r)){for(var ht in o)X=o[ht],o.hasOwnProperty(ht)&&X!==void 0&&!c.hasOwnProperty(ht)&&hp(i,r,ht,void 0,c,X);for(ee in c)X=c[ee],Z=o[ee],!c.hasOwnProperty(ee)||X===Z||X===void 0&&Z===void 0||hp(i,r,ee,X,c,Z);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&ut(i,r,q,null,c,X);for(re in c)X=c[re],Z=o[re],!c.hasOwnProperty(re)||X===Z||X==null&&Z==null||ut(i,r,re,X,c,Z)}function Ob(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],p=d.transferSize,x=d.initiatorType,S=d.duration;if(p&&S&&Ob(x)){for(x=0,S=d.responseEnd,c+=1;c<o.length;c++){var k=o[c],Q=k.startTime;if(Q>S)break;var ee=k.transferSize,re=k.initiatorType;ee&&Ob(re)&&(k=k.responseEnd,x+=ee*(k<S?1:(S-Q)/(k-Q)))}if(--c,r+=8*(p+x)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var fp=null,dp=null;function Gh(i){return i.nodeType===9?i:i.ownerDocument}function Pb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function mp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pp=null;function gC(){var i=window.event;return i&&i.type==="popstate"?i===pp?!1:(pp=i,!0):(pp=null,!1)}var kb=typeof setTimeout=="function"?setTimeout:void 0,yC=typeof clearTimeout=="function"?clearTimeout:void 0,Lb=typeof Promise=="function"?Promise:void 0,vC=typeof queueMicrotask=="function"?queueMicrotask:typeof Lb<"u"?function(i){return Lb.resolve(null).then(i).catch(_C)}:kb;function _C(i){setTimeout(function(){throw i})}function xr(i){return i==="head"}function Ub(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),zo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")xc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,xc(o);for(var p=o.firstChild;p;){var x=p.nextSibling,S=p.nodeName;p[ki]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=x}}else o==="body"&&xc(i.ownerDocument.body);o=d}while(o);zo(r)}function Bb(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function gp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gp(o),no(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function bC(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ki])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ni(i.nextSibling),i===null)break}return null}function xC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ni(i.nextSibling),i===null))return null;return i}function zb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ni(i.nextSibling),i===null))return null;return i}function yp(i){return i.data==="$?"||i.data==="$~"}function vp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function TC(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ni(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var _p=null;function Fb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ni(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Hb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function qb(i,r,o){switch(r=Gh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function xc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);no(i)}var ii=new Map,Gb=new Set;function Kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ks=ue.d;ue.d={f:EC,r:wC,D:SC,C:AC,L:RC,m:CC,X:IC,S:NC,M:DC};function EC(){var i=ks.f(),r=kh();return i||r}function wC(i){var r=Kn(i);r!==null&&r.tag===5&&r.type==="form"?l_(r):ks.r(i)}var Lo=typeof document>"u"?null:document;function Kb(i,r,o){var c=Lo;if(c&&typeof r=="string"&&r){var d=Sn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Gb.has(d)||(Gb.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),cn(r,"link",i),jt(r),c.head.appendChild(r)))}}function SC(i){ks.D(i),Kb("dns-prefetch",i,null)}function AC(i,r){ks.C(i,r),Kb("preconnect",i,r)}function RC(i,r,o){ks.L(i,r,o);var c=Lo;if(c&&i&&r){var d='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Sn(o.imageSizes)+'"]')):d+='[href="'+Sn(i)+'"]';var p=d;switch(r){case"style":p=Uo(i);break;case"script":p=Bo(i)}ii.has(p)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ii.set(p,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Tc(p))||r==="script"&&c.querySelector(Ec(p))||(r=c.createElement("link"),cn(r,"link",i),jt(r),c.head.appendChild(r)))}}function CC(i,r){ks.m(i,r);var o=Lo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Bo(i)}if(!ii.has(p)&&(i=b({rel:"modulepreload",href:i},r),ii.set(p,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ec(p)))return}c=o.createElement("link"),cn(c,"link",i),jt(c),o.head.appendChild(c)}}}function NC(i,r,o){ks.S(i,r,o);var c=Lo;if(c&&i){var d=Ui(c).hoistableStyles,p=Uo(i);r=r||"default";var x=d.get(p);if(!x){var S={loading:0,preload:null};if(x=c.querySelector(Tc(p)))S.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ii.get(p))&&bp(i,o);var k=x=c.createElement("link");jt(k),cn(k,"link",i),k._p=new Promise(function(Q,ee){k.onload=Q,k.onerror=ee}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,$h(x,r,c)}x={type:"stylesheet",instance:x,count:1,state:S},d.set(p,x)}}}function IC(i,r){ks.X(i,r);var o=Lo;if(o&&i){var c=Ui(o).hoistableScripts,d=Bo(i),p=c.get(d);p||(p=o.querySelector(Ec(d)),p||(i=b({src:i,async:!0},r),(r=ii.get(d))&&xp(i,r),p=o.createElement("script"),jt(p),cn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function DC(i,r){ks.M(i,r);var o=Lo;if(o&&i){var c=Ui(o).hoistableScripts,d=Bo(i),p=c.get(d);p||(p=o.querySelector(Ec(d)),p||(i=b({src:i,async:!0,type:"module"},r),(r=ii.get(d))&&xp(i,r),p=o.createElement("script"),jt(p),cn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function $b(i,r,o,c){var d=(d=me.current)?Kh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Uo(o.href),o=Ui(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Uo(o.href);var p=Ui(d).hoistableStyles,x=p.get(i);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,x),(p=d.querySelector(Tc(i)))&&!p._p&&(x.instance=p,x.state.loading=5),ii.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ii.set(i,o),p||MC(d,i,o,x.state))),r&&c===null)throw Error(s(528,""));return x}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Bo(o),o=Ui(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Uo(i){return'href="'+Sn(i)+'"'}function Tc(i){return'link[rel="stylesheet"]['+i+"]"}function Yb(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function MC(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),cn(r,"link",o),jt(r),i.head.appendChild(r))}function Bo(i){return'[src="'+Sn(i)+'"]'}function Ec(i){return"script[async]"+i}function Qb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(c)return r.instance=c,jt(c),c;var d=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),jt(c),cn(c,"style",d),$h(c,o.precedence,i),r.instance=c;case"stylesheet":d=Uo(o.href);var p=i.querySelector(Tc(d));if(p)return r.state.loading|=4,r.instance=p,jt(p),p;c=Yb(o),(d=ii.get(d))&&bp(c,d),p=(i.ownerDocument||i).createElement("link"),jt(p);var x=p;return x._p=new Promise(function(S,k){x.onload=S,x.onerror=k}),cn(p,"link",c),r.state.loading|=4,$h(p,o.precedence,i),r.instance=p;case"script":return p=Bo(o.src),(d=i.querySelector(Ec(p)))?(r.instance=d,jt(d),d):(c=o,(d=ii.get(p))&&(c=b({},o),xp(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),jt(d),cn(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,$h(c,o.precedence,i));return r.instance}function $h(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,x=0;x<c.length;x++){var S=c[x];if(S.dataset.precedence===r)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function bp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Yh=null;function Xb(i,r,o){if(Yh===null){var c=new Map,d=Yh=new Map;d.set(o,c)}else d=Yh,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var p=o[d];if(!(p[ki]||p[Pt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(r)||"";x=i+x;var S=c.get(x);S?S.push(p):c.set(x,[p])}}return c}function Wb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function VC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function OC(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Uo(c.href),p=r.querySelector(Tc(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Qh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,jt(p);return}p=r.ownerDocument||r,c=Yb(c),(d=ii.get(d))&&bp(c,d),p=p.createElement("link"),jt(p);var x=p;x._p=new Promise(function(S,k){x.onload=S,x.onerror=k}),cn(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Qh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Tp=0;function PC(i,r){return i.stylesheets&&i.count===0&&Wh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Wh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&Tp===0&&(Tp=62500*pC());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Wh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Tp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xh=null;function Wh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xh=new Map,r.forEach(jC,i),Xh=null,Qh.call(i))}function jC(i,r){if(!(r.state.loading&4)){var o=Xh.get(i);if(o)var c=o.get(null);else{o=new Map,Xh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var x=d[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}d=r.instance,x=d.getAttribute("data-precedence"),p=o.get(x)||c,p===c&&o.set(null,d),o.set(x,d),this.count++,c=Qh.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var wc={$$typeof:z,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function kC(i,r,o,c,d,p,x,S,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Jb(i,r,o,c,d,p,x,S,k,Q,ee,re){return i=new kC(i,r,o,x,k,Q,ee,re,S),r=1,p===!0&&(r|=24),p=Ln(3,null,null,r),i.current=p,p.stateNode=i,r=tm(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},rm(p),i}function ex(i){return i?(i=yo,i):yo}function tx(i,r,o,c,d,p){d=ex(d),c.context===null?c.context=d:c.pendingContext=d,c=ur(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=hr(i,c,r),o!==null&&(Dn(o,i,r),nc(o,i,r))}function nx(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Ep(i,r){nx(i,r),(i=i.alternate)&&nx(i,r)}function ix(i){if(i.tag===13||i.tag===31){var r=pa(i,67108864);r!==null&&Dn(r,i,67108864),Ep(i,67108864)}}function sx(i){if(i.tag===13||i.tag===31){var r=Hn();r=ia(r);var o=pa(i,r);o!==null&&Dn(o,i,r),Ep(i,r)}}var Zh=!0;function LC(i,r,o,c){var d=J.T;J.T=null;var p=ue.p;try{ue.p=2,wp(i,r,o,c)}finally{ue.p=p,J.T=d}}function UC(i,r,o,c){var d=J.T;J.T=null;var p=ue.p;try{ue.p=8,wp(i,r,o,c)}finally{ue.p=p,J.T=d}}function wp(i,r,o,c){if(Zh){var d=Sp(c);if(d===null)up(i,r,c,Jh,o),ax(i,c);else if(zC(d,i,r,o,c))c.stopPropagation();else if(ax(i,c),r&4&&-1<BC.indexOf(i)){for(;d!==null;){var p=Kn(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=Vi(p.pendingLanes);if(x!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var k=1<<31-Ct(x);S.entanglements[1]|=k,x&=~k}Zi(p),(Je&6)===0&&(Ph=Xt()+500,vc(0))}}break;case 31:case 13:S=pa(p,2),S!==null&&Dn(S,p,2),kh(),Ep(p,2)}if(p=Sp(c),p===null&&up(i,r,c,Jh,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else up(i,r,c,null,o)}}function Sp(i){return i=$n(i),Ap(i)}var Jh=null;function Ap(i){if(Jh=null,i=Li(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Jh=i,null}function rx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case Ys:return 2;case Zr:return 8;case Di:case Za:return 32;case Jr:return 268435456;default:return 32}default:return 32}}var Rp=!1,Tr=null,Er=null,wr=null,Sc=new Map,Ac=new Map,Sr=[],BC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ax(i,r){switch(i){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Sc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(r.pointerId)}}function Rc(i,r,o,c,d,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Kn(r),r!==null&&ix(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function zC(i,r,o,c,d){switch(r){case"focusin":return Tr=Rc(Tr,i,r,o,c,d),!0;case"dragenter":return Er=Rc(Er,i,r,o,c,d),!0;case"mouseover":return wr=Rc(wr,i,r,o,c,d),!0;case"pointerover":var p=d.pointerId;return Sc.set(p,Rc(Sc.get(p)||null,i,r,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Ac.set(p,Rc(Ac.get(p)||null,i,r,o,c,d)),!0}return!1}function ox(i){var r=Li(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,hi(i.priority,function(){sx(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,hi(i.priority,function(){sx(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ef(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Sp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Bl=c,o.target.dispatchEvent(c),Bl=null}else return r=Kn(o),r!==null&&ix(r),i.blockedOn=o,!1;r.shift()}return!0}function lx(i,r,o){ef(i)&&o.delete(r)}function FC(){Rp=!1,Tr!==null&&ef(Tr)&&(Tr=null),Er!==null&&ef(Er)&&(Er=null),wr!==null&&ef(wr)&&(wr=null),Sc.forEach(lx),Ac.forEach(lx)}function tf(i,r){i.blockedOn===r&&(i.blockedOn=null,Rp||(Rp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FC)))}var nf=null;function cx(i){nf!==i&&(nf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nf===i&&(nf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if(Ap(c||o)===null)continue;break}var p=Kn(o);p!==null&&(i.splice(r,3),r-=3,Sm(p,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function zo(i){function r(k){return tf(k,i)}Tr!==null&&tf(Tr,i),Er!==null&&tf(Er,i),wr!==null&&tf(wr,i),Sc.forEach(r),Ac.forEach(r);for(var o=0;o<Sr.length;o++){var c=Sr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Sr.length&&(o=Sr[0],o.blockedOn===null);)ox(o),o.blockedOn===null&&Sr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],p=o[c+1],x=d[Wt]||null;if(typeof p=="function")x||cx(o);else if(x){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,x=p[Wt]||null)S=x.formAction;else if(Ap(d)!==null)continue}else S=x.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),cx(o)}}}function ux(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return d=x})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Cp(i){this._internalRoot=i}sf.prototype.render=Cp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Hn();tx(o,c,i,r,null,null)},sf.prototype.unmount=Cp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;tx(i.current,2,null,i,null,null),kh(),r[ji]=null}};function sf(i){this._internalRoot=i}sf.prototype.unstable_scheduleHydration=function(i){if(i){var r=ku();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Sr.length&&r!==0&&r<Sr[o].priority;o++);Sr.splice(o,0,i),o===0&&ox(i)}};var hx=e.version;if(hx!=="19.2.3")throw Error(s(527,hx,"19.2.3"));ue.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var HC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{On=rf.inject(HC),sn=rf}catch{}}return Nc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=v_,p=__,x=b_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=Jb(i,1,!1,null,null,o,c,null,d,p,x,ux),i[ji]=r.current,cp(i),new Cp(r)},Nc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",p=v_,x=__,S=b_,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),r=Jb(i,1,!0,r,o??null,c,d,k,p,x,S,ux),r.context=ex(null),o=r.current,c=Hn(),c=ia(c),d=ur(c),d.callback=null,hr(o,d,c),o=c,r.current.lanes=o,ta(r,o),Zi(r),i[ji]=r.current,cp(i),new sf(r)},Nc.version="19.2.3",Nc}var xx;function JC(){if(xx)return Dp.exports;xx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=ZC(),Dp.exports}var eN=JC();const tN=SE(eN);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tx="popstate";function nN(t={}){function e(a,l){let{pathname:u="/",search:f="",hash:m=""}=Ha(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),fg("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");f=g===-1?m:m.slice(0,g)}return f+"#"+(typeof l=="string"?l:Qc(l))}function s(a,l){qn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return sN(e,n,s,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iN(){return Math.random().toString(36).substring(2,10)}function Ex(t,e){return{usr:t.state,key:t.key,idx:e}}function fg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ha(e):e,state:n,key:e&&e.key||s||iN()}}function Qc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function sN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function b(){f="POP";let I=v(),U=I==null?null:I-g;g=I,m&&m({action:f,location:N.location,delta:U})}function E(I,U){f="PUSH";let F=fg(N.location,I,U);n&&n(F,I),g=v()+1;let z=Ex(F,g),ie=N.createHref(F);try{u.pushState(z,"",ie)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(ie)}l&&m&&m({action:f,location:N.location,delta:1})}function A(I,U){f="REPLACE";let F=fg(N.location,I,U);n&&n(F,I),g=v();let z=Ex(F,g),ie=N.createHref(F);u.replaceState(z,"",ie),l&&m&&m({action:f,location:N.location,delta:0})}function M(I){return rN(I)}let N={get action(){return f},get location(){return t(a,u)},listen(I){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Tx,b),m=I,()=>{a.removeEventListener(Tx,b),m=null}},createHref(I){return e(a,I)},createURL:M,encodeLocation(I){let U=M(I);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:A,go(I){return u.go(I)}};return N}function rN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Qc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function RE(t,e,n="/"){return aN(t,e,n,!1)}function aN(t,e,n,s){let a=typeof e=="string"?Ha(e):e,l=zs(a.pathname||"/",n);if(l==null)return null;let u=CE(t);oN(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let g=vN(l);f=gN(u[m],g,s)}return f}function CE(t,e=[],n=[],s="",a=!1){let l=(u,f,m=a,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;Et(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Bs([s,v.relativePath]),E=n.concat(v);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),CE(u.children,e,E,b,m)),!(u.path==null&&!u.index)&&e.push({path:b,score:mN(b,u.index),routesMeta:E})};return t.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let g of NE(u.path))l(u,f,!0,g)}),e}function NE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=NE(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function oN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var lN=/^:[\w-]+$/,cN=3,uN=2,hN=1,fN=10,dN=-2,wx=t=>t==="*";function mN(t,e){let n=t.split("/"),s=n.length;return n.some(wx)&&(s+=dN),e&&(s+=uN),n.filter(a=>!wx(a)).reduce((a,l)=>a+(lN.test(l)?cN:l===""?hN:fN),s)}function pN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function gN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],g=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=jf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),E=m.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=jf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Bs([l,b.pathname]),pathnameBase:EN(Bs([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=Bs([l,b.pathnameBase]))}return u}function jf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=yN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},E)=>{if(v==="*"){let M=f[E]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const A=f[E];return b&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function yN(t,e=!1,n=!0){qn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function vN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var _N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bN=t=>_N.test(t);function xN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Ha(t):t,l;if(n)if(bN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Sx(n.substring(1),"/"):l=Sx(n,e)}else l=e;return{pathname:l,search:wN(s),hash:SN(a)}}function Sx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Pp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function IE(t){let e=TN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function DE(t,e,n,s=!1){let a;typeof t=="string"?a=Ha(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),Pp("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),Pp("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),Pp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}f=b>=0?e[b]:"/"}let m=xN(a,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Bs=t=>t.join("/").replace(/\/\/+/g,"/"),EN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function RN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ME=["POST","PUT","PATCH","DELETE"];new Set(ME);var CN=["GET",...ME];new Set(CN);var vl=P.createContext(null);vl.displayName="DataRouter";var ud=P.createContext(null);ud.displayName="DataRouterState";P.createContext(!1);var VE=P.createContext({isTransitioning:!1});VE.displayName="ViewTransition";var NN=P.createContext(new Map);NN.displayName="Fetchers";var IN=P.createContext(null);IN.displayName="Await";var Ci=P.createContext(null);Ci.displayName="Navigation";var hu=P.createContext(null);hu.displayName="Location";var ms=P.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var uy=P.createContext(null);uy.displayName="RouteError";function DN(t,{relative:e}={}){Et(fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Ci),{hash:a,pathname:l,search:u}=du(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Bs([n,l])),s.createHref({pathname:f,search:u,hash:a})}function fu(){return P.useContext(hu)!=null}function ps(){return Et(fu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(hu).location}var OE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(t){P.useContext(Ci).static||P.useLayoutEffect(t)}function hy(){let{isDataRoute:t}=P.useContext(ms);return t?GN():MN()}function MN(){Et(fu(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(vl),{basename:e,navigator:n}=P.useContext(Ci),{matches:s}=P.useContext(ms),{pathname:a}=ps(),l=JSON.stringify(IE(s)),u=P.useRef(!1);return PE(()=>{u.current=!0}),P.useCallback((m,g={})=>{if(qn(u.current,OE),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=DE(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Bs([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}P.createContext(null);function VN(){let{matches:t}=P.useContext(ms),e=t[t.length-1];return e?e.params:{}}function du(t,{relative:e}={}){let{matches:n}=P.useContext(ms),{pathname:s}=ps(),a=JSON.stringify(IE(n));return P.useMemo(()=>DE(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function ON(t,e){return jE(t,e)}function jE(t,e,n,s,a){var F;Et(fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Ci),{matches:u}=P.useContext(ms),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let z=b&&b.path||"";kE(g,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let E=ps(),A;if(e){let z=typeof e=="string"?Ha(e):e;Et(v==="/"||((F=z.pathname)==null?void 0:F.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),A=z}else A=E;let M=A.pathname||"/",N=M;if(v!=="/"){let z=v.replace(/^\//,"").split("/");N="/"+M.replace(/^\//,"").split("/").slice(z.length).join("/")}let I=RE(t,{pathname:N});qn(b||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),qn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=UN(I&&I.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:Bs([v,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:Bs([v,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),u,n,s,a);return e&&U?P.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},U):U}function PN(){let t=qN(),e=AN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:a},n):null,u)}var jN=P.createElement(PN,null),kN=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(ms.Provider,{value:this.props.routeContext},P.createElement(uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LN({routeContext:t,match:e,children:n}){let s=P.useContext(vl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ms.Provider,{value:t},n)}function UN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n==null?void 0:n.errors;if(u!=null){let v=l.findIndex(b=>b.route.id&&(u==null?void 0:u[b.route.id])!==void 0);Et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:E,errors:A}=n,M=b.route.loader&&!E.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||M){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&s?(v,b)=>{var E,A;s(v,{location:n.location,params:((A=(E=n.matches)==null?void 0:E[0])==null?void 0:A.params)??{},unstable_pattern:RN(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,E)=>{let A,M=!1,N=null,I=null;n&&(A=u&&b.route.id?u[b.route.id]:void 0,N=b.route.errorElement||jN,f&&(m<0&&E===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,I=null):m===E&&(M=!0,I=b.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,E+1)),F=()=>{let z;return A?z=N:M?z=I:b.route.Component?z=P.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=v,P.createElement(LN,{match:b,routeContext:{outlet:v,matches:U,isDataRoute:n!=null},children:z})};return n&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?P.createElement(kN,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:F(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:g}):F()},null)}function fy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BN(t){let e=P.useContext(vl);return Et(e,fy(t)),e}function zN(t){let e=P.useContext(ud);return Et(e,fy(t)),e}function FN(t){let e=P.useContext(ms);return Et(e,fy(t)),e}function dy(t){let e=FN(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HN(){return dy("useRouteId")}function qN(){var s;let t=P.useContext(uy),e=zN("useRouteError"),n=dy("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function GN(){let{router:t}=BN("useNavigate"),e=dy("useNavigate"),n=P.useRef(!1);return PE(()=>{n.current=!0}),P.useCallback(async(a,l={})=>{qn(n.current,OE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Ax={};function kE(t,e,n){!e&&!Ax[t]&&(Ax[t]=!0,qn(!1,n))}P.memo(KN);function KN({routes:t,future:e,state:n,unstable_onError:s}){return jE(t,void 0,n,s,e)}function Ji(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $N({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Et(!fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=Ha(n));let{pathname:g="/",search:v="",hash:b="",state:E=null,key:A="default"}=n,M=P.useMemo(()=>{let N=zs(g,f);return N==null?null:{location:{pathname:N,search:v,hash:b,state:E,key:A},navigationType:s}},[f,g,v,b,E,A,s]);return qn(M!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:P.createElement(Ci.Provider,{value:m},P.createElement(hu.Provider,{children:e,value:M}))}function Rx({children:t,location:e}){return ON(dg(t),e)}function dg(t,e=[]){let n=[];return P.Children.forEach(t,(s,a)=>{if(!P.isValidElement(s))return;let l=[...e,a];if(s.type===P.Fragment){n.push.apply(n,dg(s.props.children,l));return}Et(s.type===Ji,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=dg(s.props.children,l)),n.push(u)}),n}var bf="get",xf="application/x-www-form-urlencoded";function hd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function YN(t){return hd(t)&&t.tagName.toLowerCase()==="button"}function QN(t){return hd(t)&&t.tagName.toLowerCase()==="form"}function XN(t){return hd(t)&&t.tagName.toLowerCase()==="input"}function WN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZN(t,e){return t.button===0&&(!e||e==="_self")&&!WN(t)}function mg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function JN(t,e){let n=mg(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var af=null;function eI(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}var tI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jp(t){return t!=null&&!tI.has(t)?(qn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xf}"`),null):t}function nI(t,e){let n,s,a,l,u;if(QN(t)){let f=t.getAttribute("action");s=f?zs(f,e):null,n=t.getAttribute("method")||bf,a=jp(t.getAttribute("enctype"))||xf,l=new FormData(t)}else if(YN(t)||XN(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?zs(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||bf,a=jp(t.getAttribute("formenctype"))||jp(f.getAttribute("enctype"))||xf,l=new FormData(f,t),!eI()){let{name:g,type:v,value:b}=t;if(v==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,b)}}else{if(hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bf,s=null,a=xf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function my(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&zs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function sI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await sI(l,n);return u.links?u.links():[]}return[]}));return uI(s.flat(1).filter(rI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Cx(t,e,n,s,a,l){let u=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,f=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>u(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{var b;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function oI(t,e,{includeHydrateFallback:n}={}){return lI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function lI(t){return[...new Set(t)]}function cI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function uI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(cI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function LE(){let t=P.useContext(vl);return my(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hI(){let t=P.useContext(ud);return my(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var py=P.createContext(void 0);py.displayName="FrameworkContext";function UE(){let t=P.useContext(py);return my(t,"You must render this element inside a <HydratedRouter> element"),t}function fI(t,e){let n=P.useContext(py),[s,a]=P.useState(!1),[l,u]=P.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,E=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let N=U=>{U.forEach(F=>{u(F.isIntersecting)})},I=new IntersectionObserver(N,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[t]),P.useEffect(()=>{if(s){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[s]);let A=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Ic(f,A),onBlur:Ic(m,M),onMouseEnter:Ic(g,A),onMouseLeave:Ic(v,M),onTouchStart:Ic(b,A)}]:[!1,E,{}]}function Ic(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dI({page:t,...e}){let{router:n}=LE(),s=P.useMemo(()=>RE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?P.createElement(pI,{page:t,matches:s,...e}):null}function mI(t){let{manifest:e,routeModules:n}=UE(),[s,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return aI(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function pI({page:t,matches:e,...n}){let s=ps(),{manifest:a,routeModules:l}=UE(),{basename:u}=LE(),{loaderData:f,matches:m}=hI(),g=P.useMemo(()=>Cx(t,e,m,a,s,"data"),[t,e,m,a,s]),v=P.useMemo(()=>Cx(t,e,m,a,s,"assets"),[t,e,m,a,s]),b=P.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,N=!1;if(e.forEach(U=>{var z;let F=a.routes[U.route.id];!F||!F.hasLoader||(!g.some(ie=>ie.route.id===U.route.id)&&U.route.id in f&&((z=l[U.route.id])!=null&&z.shouldRevalidate)||F.hasClientLoader?N=!0:M.add(U.route.id))}),M.size===0)return[];let I=iI(t,u,"data");return N&&M.size>0&&I.searchParams.set("_routes",e.filter(U=>M.has(U.route.id)).map(U=>U.route.id).join(",")),[I.pathname+I.search]},[u,f,s,a,g,e,t,l]),E=P.useMemo(()=>oI(v,a),[v,a]),A=mI(v);return P.createElement(P.Fragment,null,b.map(M=>P.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),E.map(M=>P.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),A.map(({key:M,link:N})=>P.createElement("link",{key:M,nonce:n.nonce,...N})))}function gI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BE&&(window.__reactRouterVersion="7.10.1")}catch{}function yI({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=P.useRef();a.current==null&&(a.current=nN({window:s,v5Compat:!0}));let l=a.current,[u,f]=P.useState({action:l.action,location:l.location}),m=P.useCallback(g=>{n===!1?f(g):P.startTransition(()=>f(g))},[n]);return P.useLayoutEffect(()=>l.listen(m),[l,m]),P.createElement($N,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n===!0})}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:g,preventScrollReset:v,viewTransition:b,...E},A){let{basename:M,unstable_useTransitions:N}=P.useContext(Ci),I=typeof g=="string"&&zE.test(g),U,F=!1;if(typeof g=="string"&&I&&(U=g,BE))try{let L=new URL(window.location.href),O=g.startsWith("//")?new URL(L.protocol+g):new URL(g),H=zs(O.pathname,M);O.origin===L.origin&&H!=null?g=H+O.search+O.hash:F=!0}catch{qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=DN(g,{relative:a}),[ie,te,le]=fI(s,E),D=xI(g,{replace:u,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_useTransitions:N});function C(L){e&&e(L),L.defaultPrevented||D(L)}let V=P.createElement("a",{...E,...le,href:U||z,onClick:F||l?e:C,ref:gI(A,te),target:m,"data-discover":!I&&n==="render"?"true":void 0});return ie&&!I?P.createElement(P.Fragment,null,V,P.createElement(dI,{page:z})):V});dt.displayName="Link";var vI=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...g},v){let b=du(u,{relative:g.relative}),E=ps(),A=P.useContext(ud),{navigator:M,basename:N}=P.useContext(Ci),I=A!=null&&RI(b)&&f===!0,U=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,F=E.pathname,z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(F=F.toLowerCase(),z=z?z.toLowerCase():null,U=U.toLowerCase()),z&&N&&(z=zs(z,N)||z);const ie=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let te=F===U||!a&&F.startsWith(U)&&F.charAt(ie)==="/",le=z!=null&&(z===U||!a&&z.startsWith(U)&&z.charAt(U.length)==="/"),D={isActive:te,isPending:le,isTransitioning:I},C=te?e:void 0,V;typeof s=="function"?V=s(D):V=[s,te?"active":null,le?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(D):l;return P.createElement(dt,{...g,"aria-current":C,className:V,ref:v,style:L,to:u,viewTransition:f},typeof m=="function"?m(D):m)});vI.displayName="NavLink";var _I=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=bf,action:f,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,...E},A)=>{let{unstable_useTransitions:M}=P.useContext(Ci),N=SI(),I=AI(f,{relative:g}),U=u.toLowerCase()==="get"?"get":"post",F=typeof f=="string"&&zE.test(f),z=ie=>{if(m&&m(ie),ie.defaultPrevented)return;ie.preventDefault();let te=ie.nativeEvent.submitter,le=(te==null?void 0:te.getAttribute("formmethod"))||u,D=()=>N(te||ie.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b});M&&n!==!1?P.startTransition(()=>D()):D()};return P.createElement("form",{ref:A,method:U,action:I,onSubmit:s?m:z,...E,"data-discover":!F&&t==="render"?"true":void 0})});_I.displayName="Form";function bI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(t){let e=P.useContext(vl);return Et(e,bI(t)),e}function xI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_useTransitions:f}={}){let m=hy(),g=ps(),v=du(t,{relative:l});return P.useCallback(b=>{if(ZN(b,e)){b.preventDefault();let E=n!==void 0?n:Qc(g)===Qc(v),A=()=>m(t,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:u});f?P.startTransition(()=>A()):A()}},[g,m,v,n,s,e,t,a,l,u,f])}function TI(t){qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(mg(t)),n=P.useRef(!1),s=ps(),a=P.useMemo(()=>JN(s.search,n.current?null:e.current),[s.search]),l=hy(),u=P.useCallback((f,m)=>{const g=mg(typeof f=="function"?f(new URLSearchParams(a)):f);n.current=!0,l("?"+g,m)},[l,a]);return[a,u]}var EI=0,wI=()=>`__${String(++EI)}__`;function SI(){let{router:t}=FE("useSubmit"),{basename:e}=P.useContext(Ci),n=HN(),s=t.fetch,a=t.navigate;return P.useCallback(async(l,u={})=>{let{action:f,method:m,encType:g,formData:v,body:b}=nI(l,e);if(u.navigate===!1){let E=u.fetcherKey||wI();await s(E,n,u.action||f,{preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||m,formEncType:u.encType||g,flushSync:u.flushSync})}else await a(u.action||f,{preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||m,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function AI(t,{relative:e}={}){let{basename:n}=P.useContext(Ci),s=P.useContext(ms);Et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...du(t||".",{relative:e})},u=ps();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Bs([n,l.pathname])),Qc(l)}function RI(t,{relative:e}={}){let n=P.useContext(VE);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=FE("useViewTransitionState"),a=du(t,{relative:e});if(!n.isTransitioning)return!1;let l=zs(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=zs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return jf(a.pathname,u)!=null||jf(a.pathname,l)!=null}/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Nx=t=>{const e=NI(t);return e.charAt(0).toUpperCase()+e.slice(1)},HE=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),II=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},m)=>P.createElement("svg",{ref:m,...DI,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:HE("lucide",a),...!l&&!II(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,v])=>P.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const n=P.forwardRef(({className:s,...a},l)=>P.createElement(MI,{ref:l,iconNode:e,className:HE(`lucide-${CI(Nx(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Nx(t),n};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ka=$e("arrow-left",VI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PI=$e("arrow-right",OI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],pg=$e("calendar-check",jI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LI=$e("calendar",kI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],qE=$e("camera",UI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],GE=$e("check",BI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],KE=$e("chevron-down",zI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fo=$e("circle-alert",FI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$E=$e("circle-check-big",HI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GI=$e("clock",qI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],$I=$e("code",KI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QI=$e("eye",YI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],YE=$e("facebook",XI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ZI=$e("funnel",WI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],QE=$e("heart",JI);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],XE=$e("instagram",eD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ol=$e("loader-circle",tD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iD=$e("lock",nD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rD=$e("log-out",sD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],WE=$e("mail",aD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gy=$e("map-pin",oD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cD=$e("menu",lD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],yy=$e("phone",uD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ZE=$e("plus",hD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],dD=$e("quote",fD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vy=$e("save",mD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gD=$e("search",pD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],vD=$e("share-2",yD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bD=$e("shield-check",_D);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gg=$e("square-pen",xD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_y=$e("star",TD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],JE=$e("trash-2",ED);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mu=$e("x",wD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],AD=$e("zoom-in",SD),by=P.createContext({});function xy(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ty=typeof window<"u",ew=Ty?P.useLayoutEffect:P.useEffect,fd=P.createContext(null);function Ey(t,e){t.indexOf(e)===-1&&t.push(e)}function wy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fs=(t,e,n)=>n>e?e:n<t?t:n;let Sy=()=>{};const Hs={},tw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function nw(t){return typeof t=="object"&&t!==null}const iw=t=>/^0[^.\s]+$/u.test(t);function Ay(t){let e;return()=>(e===void 0&&(e=t()),e)}const ci=t=>t,RD=(t,e)=>n=>e(t(n)),pu=(...t)=>t.reduce(RD),Xc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Ry{constructor(){this.subscriptions=[]}add(e){return Ey(this.subscriptions,e),()=>wy(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ns=t=>t*1e3,li=t=>t/1e3;function sw(t,e){return e?t*(1e3/e):0}const rw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,CD=1e-7,ND=12;function ID(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=rw(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>CD&&++f<ND);return u}function gu(t,e,n,s){if(t===e&&n===s)return ci;const a=l=>ID(l,0,1,t,n);return l=>l===0||l===1?l:rw(a(l),e,s)}const aw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ow=t=>e=>1-t(1-e),lw=gu(.33,1.53,.69,.99),Cy=ow(lw),cw=aw(Cy),uw=t=>(t*=2)<1?.5*Cy(t):.5*(2-Math.pow(2,-10*(t-1))),Ny=t=>1-Math.sin(Math.acos(t)),hw=ow(Ny),fw=aw(Ny),DD=gu(.42,0,1,1),MD=gu(0,0,.58,1),dw=gu(.42,0,.58,1),VD=t=>Array.isArray(t)&&typeof t[0]!="number",mw=t=>Array.isArray(t)&&typeof t[0]=="number",OD={linear:ci,easeIn:DD,easeInOut:dw,easeOut:MD,circIn:Ny,circInOut:fw,circOut:hw,backIn:Cy,backInOut:cw,backOut:lw,anticipate:uw},PD=t=>typeof t=="string",Ix=t=>{if(mw(t)){Sy(t.length===4);const[e,n,s,a]=t;return gu(e,n,s,a)}else if(PD(t))return OD[t];return t},of=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jD(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(g.schedule(v),t()),v(f)}const g={schedule:(v,b=!1,E=!1)=>{const M=E&&a?n:s;return b&&u.add(v),M.has(v)||M.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const kD=40;function pw(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=of.reduce((z,ie)=>(z[ie]=jD(l),z),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:v,update:b,preRender:E,render:A,postRender:M}=u,N=()=>{const z=Hs.useManualTiming?a.timestamp:performance.now();n=!1,Hs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(z-a.timestamp,kD),1)),a.timestamp=z,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),v.process(a),b.process(a),E.process(a),A.process(a),M.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(N))},I=()=>{n=!0,s=!0,a.isProcessing||t(N)};return{schedule:of.reduce((z,ie)=>{const te=u[ie];return z[ie]=(le,D=!1,C=!1)=>(n||I(),te.schedule(le,D,C)),z},{}),cancel:z=>{for(let ie=0;ie<of.length;ie++)u[of[ie]].cancel(z)},state:a,steps:u}}const{schedule:xt,cancel:Br,state:un,steps:kp}=pw(typeof requestAnimationFrame<"u"?requestAnimationFrame:ci,!0);let Tf;function LD(){Tf=void 0}const Vn={now:()=>(Tf===void 0&&Vn.set(un.isProcessing||Hs.useManualTiming?un.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(LD)}},gw=t=>e=>typeof e=="string"&&e.startsWith(t),yw=gw("--"),UD=gw("var(--"),Iy=t=>UD(t)?BD.test(t.split("/*")[0].trim()):!1,BD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_l={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wc={..._l,transform:t=>Fs(0,1,t)},lf={..._l,default:1},Lc=t=>Math.round(t*1e5)/1e5,Dy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zD(t){return t==null}const FD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,My=(t,e)=>n=>!!(typeof n=="string"&&FD.test(n)&&n.startsWith(t)||e&&!zD(n)&&Object.prototype.hasOwnProperty.call(n,e)),vw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(Dy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},HD=t=>Fs(0,255,t),Lp={..._l,transform:t=>Math.round(HD(t))},Da={test:My("rgb","red"),parse:vw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Lp.transform(t)+", "+Lp.transform(e)+", "+Lp.transform(n)+", "+Lc(Wc.transform(s))+")"};function qD(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const yg={test:My("#"),parse:qD,transform:Da.transform},yu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cr=yu("deg"),is=yu("%"),Re=yu("px"),GD=yu("vh"),KD=yu("vw"),Dx={...is,parse:t=>is.parse(t)/100,transform:t=>is.transform(t*100)},Yo={test:My("hsl","hue"),parse:vw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+is.transform(Lc(e))+", "+is.transform(Lc(n))+", "+Lc(Wc.transform(s))+")"},Ht={test:t=>Da.test(t)||yg.test(t)||Yo.test(t),parse:t=>Da.test(t)?Da.parse(t):Yo.test(t)?Yo.parse(t):yg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Da.transform(t):Yo.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},$D=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Dy))==null?void 0:e.length)||0)+(((n=t.match($D))==null?void 0:n.length)||0)>0}const _w="number",bw="color",QD="var",XD="var(",Mx="${}",WD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(WD,m=>(Ht.test(m)?(s.color.push(l),a.push(bw),n.push(Ht.parse(m))):m.startsWith(XD)?(s.var.push(l),a.push(QD),n.push(m)):(s.number.push(l),a.push(_w),n.push(parseFloat(m))),++l,Mx)).split(Mx);return{values:n,split:f,indexes:s,types:a}}function xw(t){return Zc(t).values}function Tw(t){const{split:e,types:n}=Zc(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===_w?l+=Lc(a[u]):f===bw?l+=Ht.transform(a[u]):l+=a[u]}return l}}const ZD=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function JD(t){const e=xw(t);return Tw(t)(e.map(ZD))}const zr={test:YD,parse:xw,createTransformer:Tw,getAnimatableNone:JD};function Up(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function eM({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Up(m,f,t+1/3),l=Up(m,f,t),u=Up(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function kf(t,e){return n=>n>0?e:t}const Tt=(t,e,n)=>t+(e-t)*n,Bp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},tM=[yg,Da,Yo],nM=t=>tM.find(e=>e.test(t));function Vx(t){const e=nM(t);if(!e)return!1;let n=e.parse(t);return e===Yo&&(n=eM(n)),n}const Ox=(t,e)=>{const n=Vx(t),s=Vx(e);if(!n||!s)return kf(t,e);const a={...n};return l=>(a.red=Bp(n.red,s.red,l),a.green=Bp(n.green,s.green,l),a.blue=Bp(n.blue,s.blue,l),a.alpha=Tt(n.alpha,s.alpha,l),Da.transform(a))},vg=new Set(["none","hidden"]);function iM(t,e){return vg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function sM(t,e){return n=>Tt(t,e,n)}function Vy(t){return typeof t=="number"?sM:typeof t=="string"?Iy(t)?kf:Ht.test(t)?Ox:oM:Array.isArray(t)?Ew:typeof t=="object"?Ht.test(t)?Ox:rM:kf}function Ew(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>Vy(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function rM(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Vy(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function aM(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const oM=(t,e)=>{const n=zr.createTransformer(e),s=Zc(t),a=Zc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?vg.has(t)&&!a.values.length||vg.has(e)&&!s.values.length?iM(t,e):pu(Ew(aM(s,a),a.values),n):kf(t,e)};function ww(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):Vy(t)(t,e)}const lM=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xt.update(e,n),stop:()=>Br(e),now:()=>un.isProcessing?un.timestamp:Vn.now()}},Sw=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Lf=2e4;function Oy(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Lf;)e+=n,s=t.next(e);return e>=Lf?1/0:e}function cM(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Oy(s),Lf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:li(a)}}const uM=5;function Aw(t,e,n){const s=Math.max(e-uM,0);return sw(n-t(s),e-s)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zp=.001;function hM({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:s=Rt.mass}){let a,l,u=1-e;u=Fs(Rt.minDamping,Rt.maxDamping,u),t=Fs(Rt.minDuration,Rt.maxDuration,li(t)),u<1?(a=g=>{const v=g*u,b=v*t,E=v-n,A=_g(g,u),M=Math.exp(-b);return zp-E/A*M},l=g=>{const b=g*u*t,E=b*n+n,A=Math.pow(u,2)*Math.pow(g,2)*t,M=Math.exp(-b),N=_g(Math.pow(g,2),u);return(-a(g)+zp>0?-1:1)*((E-A)*M)/N}):(a=g=>{const v=Math.exp(-g*t),b=(g-n)*t+1;return-zp+v*b},l=g=>{const v=Math.exp(-g*t),b=(n-g)*(t*t);return v*b});const f=5/t,m=dM(a,l,f);if(t=ns(t),isNaN(m))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const fM=12;function dM(t,e,n){let s=n;for(let a=1;a<fM;a++)s=s-t(s)/e(s);return s}function _g(t,e){return t*Math.sqrt(1-e*e)}const mM=["duration","bounce"],pM=["stiffness","damping","mass"];function Px(t,e){return e.some(n=>t[n]!==void 0)}function gM(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!Px(t,pM)&&Px(t,mM))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Fs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Rt.mass,stiffness:a,damping:l}}else{const n=hM(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function Uf(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:b,velocity:E,isResolvedFromDuration:A}=gM({...n,velocity:-li(n.velocity||0)}),M=E||0,N=g/(2*Math.sqrt(m*v)),I=u-l,U=li(Math.sqrt(m/v)),F=Math.abs(I)<5;s||(s=F?Rt.restSpeed.granular:Rt.restSpeed.default),a||(a=F?Rt.restDelta.granular:Rt.restDelta.default);let z;if(N<1){const te=_g(U,N);z=le=>{const D=Math.exp(-N*U*le);return u-D*((M+N*U*I)/te*Math.sin(te*le)+I*Math.cos(te*le))}}else if(N===1)z=te=>u-Math.exp(-U*te)*(I+(M+U*I)*te);else{const te=U*Math.sqrt(N*N-1);z=le=>{const D=Math.exp(-N*U*le),C=Math.min(te*le,300);return u-D*((M+N*U*I)*Math.sinh(C)+te*I*Math.cosh(C))/te}}const ie={calculatedDuration:A&&b||null,next:te=>{const le=z(te);if(A)f.done=te>=b;else{let D=te===0?M:0;N<1&&(D=te===0?ns(M):Aw(z,te,le));const C=Math.abs(D)<=s,V=Math.abs(u-le)<=a;f.done=C&&V}return f.value=f.done?u:le,f},toString:()=>{const te=Math.min(Oy(ie),Lf),le=Sw(D=>ie.next(te*D).value,te,30);return te+"ms "+le},toTransition:()=>{}};return ie}Uf.applyToOptions=t=>{const e=cM(t,100,Uf);return t.ease=e.ease,t.duration=ns(e.duration),t.type="keyframes",t};function bg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:g=.5,restSpeed:v}){const b=t[0],E={done:!1,value:b},A=C=>f!==void 0&&C<f||m!==void 0&&C>m,M=C=>f===void 0?m:m===void 0||Math.abs(f-C)<Math.abs(m-C)?f:m;let N=n*e;const I=b+N,U=u===void 0?I:u(I);U!==I&&(N=U-b);const F=C=>-N*Math.exp(-C/s),z=C=>U+F(C),ie=C=>{const V=F(C),L=z(C);E.done=Math.abs(V)<=g,E.value=E.done?U:L};let te,le;const D=C=>{A(E.value)&&(te=C,le=Uf({keyframes:[E.value,M(E.value)],velocity:Aw(z,C,E.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return D(0),{calculatedDuration:null,next:C=>{let V=!1;return!le&&te===void 0&&(V=!0,ie(C),D(C)),te!==void 0&&C>=te?le.next(C-te):(!V&&ie(C),E)}}}function yM(t,e,n){const s=[],a=n||Hs.mix||ww,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||ci:e;f=pu(m,f)}s.push(f)}return s}function vM(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Sy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=yM(e,s,a),m=f.length,g=v=>{if(u&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const E=Xc(t[b],t[b+1],v);return f[b](E)};return n?v=>g(Fs(t[0],t[l-1],v)):g}function _M(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Xc(0,e,s);t.push(Tt(n,1,a))}}function bM(t){const e=[0];return _M(e,t.length-1),e}function xM(t,e){return t.map(n=>n*e)}function TM(t,e){return t.map(()=>e||dw).splice(0,t.length-1)}function Uc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=VD(s)?s.map(Ix):Ix(s),l={done:!1,value:e[0]},u=xM(n&&n.length===e.length?n:bM(e),t),f=vM(u,e,{ease:Array.isArray(a)?a:TM(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const EM=t=>t!==null;function Py(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(EM),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const wM={decay:bg,inertia:bg,tween:Uc,keyframes:Uc,spring:Uf};function Rw(t){typeof t.type=="string"&&(t.type=wM[t.type])}class jy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const SM=t=>t/100;class ky extends jy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Rw(e);const{type:n=Uc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||Uc;m!==Uc&&typeof f[0]!="number"&&(this.mixKeyframes=pu(SM,ww(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Oy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:E,repeatDelay:A,type:M,onUpdate:N,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-g*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,ie=s;if(b){const C=Math.min(this.currentTime,a)/f;let V=Math.floor(C),L=C%1;!L&&C>=1&&(L=1),L===1&&V--,V=Math.min(V,b+1),!!(V%2)&&(E==="reverse"?(L=1-L,A&&(L-=A/f)):E==="mirror"&&(ie=u)),z=Fs(0,1,L)*f}const te=F?{done:!1,value:v[0]}:ie.next(z);l&&(te.value=l(te.value));let{done:le}=te;!F&&m!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return D&&M!==bg&&(te.value=Py(v,this.options,I,this.speed)),N&&N(te.value),D&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return li(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+li(e)}get time(){return li(this.currentTime)}set time(e){var n;e=ns(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=lM,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function AM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ma=t=>t*180/Math.PI,xg=t=>{const e=Ma(Math.atan2(t[1],t[0]));return Tg(e)},RM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:xg,rotateZ:xg,skewX:t=>Ma(Math.atan(t[1])),skewY:t=>Ma(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Tg=t=>(t=t%360,t<0&&(t+=360),t),jx=xg,kx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Lx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),CM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kx,scaleY:Lx,scale:t=>(kx(t)+Lx(t))/2,rotateX:t=>Tg(Ma(Math.atan2(t[6],t[5]))),rotateY:t=>Tg(Ma(Math.atan2(-t[2],t[0]))),rotateZ:jx,rotate:jx,skewX:t=>Ma(Math.atan(t[4])),skewY:t=>Ma(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Eg(t){return t.includes("scale")?1:0}function wg(t,e){if(!t||t==="none")return Eg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=CM,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=RM,a=f}if(!a)return Eg(e);const l=s[e],u=a[1].split(",").map(IM);return typeof l=="function"?l(u):u[l]}const NM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return wg(n,e)};function IM(t){return parseFloat(t.trim())}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xl=new Set(bl),Ux=t=>t===_l||t===Re,DM=new Set(["x","y","z"]),MM=bl.filter(t=>!DM.has(t));function VM(t){const e=[];return MM.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>wg(e,"x"),y:(t,{transform:e})=>wg(e,"y")};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const Pa=new Set;let Sg=!1,Ag=!1,Rg=!1;function Cw(){if(Ag){const t=Array.from(Pa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=VM(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{var f;(f=s.getValue(l))==null||f.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ag=!1,Sg=!1,Pa.forEach(t=>t.complete(Rg)),Pa.clear()}function Nw(){Pa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ag=!0)})}function OM(){Rg=!0,Nw(),Cw(),Rg=!1}class Ly{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Pa.add(this),Sg||(Sg=!0,xt.read(Nw),xt.resolveKeyframes(Cw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}AM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Pa.delete(this)}cancel(){this.state==="scheduled"&&(Pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const PM=t=>t.startsWith("--");function jM(t,e,n){PM(e)?t.style.setProperty(e,n):t.style[e]=n}const kM=Ay(()=>window.ScrollTimeline!==void 0),LM={};function UM(t,e){const n=Ay(t);return()=>LM[e]??n()}const Iw=UM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Bx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mc([0,.65,.55,1]),circOut:Mc([.55,0,1,.45]),backIn:Mc([.31,.01,.66,-.59]),backOut:Mc([.33,1.53,.69,.99])};function Dw(t,e){if(t)return typeof t=="function"?Iw()?Sw(t,e):"ease-out":mw(t)?Mc(t):Array.isArray(t)?t.map(n=>Dw(n,e)||Bx.easeOut):Bx[t]}function BM(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const b=Dw(f,a);Array.isArray(b)&&(v.easing=b);const E={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),t.animate(v,E)}function Mw(t){return typeof t=="function"&&"applyToOptions"in t}function zM({type:t,...e}){return Mw(t)&&Iw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class FM extends jy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Sy(typeof e.type!="string");const g=zM(e);this.animation=BM(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Py(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):jM(n,s,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return li(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+li(e)}get time(){return li(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ns(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&kM()?(this.animation.timeline=e,ci):n(this)}}const Vw={anticipate:uw,backInOut:cw,circInOut:fw};function HM(t){return t in Vw}function qM(t){typeof t.ease=="string"&&HM(t.ease)&&(t.ease=Vw[t.ease])}const zx=10;class GM extends FM{constructor(e){qM(e),Rw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new ky({...u,autoplay:!1}),m=ns(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-zx).value,f.sample(m).value,zx),f.stop()}}const Fx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zr.test(t)||t==="0")&&!t.startsWith("url("));function KM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $M(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Fx(a,e),f=Fx(l,e);return!u||!f?!1:KM(t)||(n==="spring"||Mw(n))&&s}function Cg(t){t.duration=0,t.type="keyframes"}const YM=new Set(["opacity","clipPath","filter","transform"]),QM=Ay(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XM(t){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return QM()&&n&&YM.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const WM=40;class ZM extends jy{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:g,element:v,...b}){var M;super(),this.stop=()=>{var N,I;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Vn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:v,...b},A=(v==null?void 0:v.KeyframeResolver)||Ly;this.keyframeResolver=new A(f,(N,I,U)=>this.onKeyframesResolved(N,I,E,!U),m,g,v),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Vn.now(),$M(e,l,u,f)||((Hs.instantAnimations||!m)&&(v==null||v(Py(e,s,n))),e[0]=e[e.length-1],Cg(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>WM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!g&&XM(E)?new GM({...E,element:E.motionValue.owner.current}):new ky(E);A.finished.then(()=>this.notifyFinished()).catch(ci),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),OM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const JM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eV(t){const e=JM.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Ow(t,e,n=1){const[s,a]=eV(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return tw(u)?parseFloat(u):u}return Iy(a)?Ow(a,e,n+1):a}function Uy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Pw=new Set(["width","height","top","left","right","bottom",...bl]),tV={test:t=>t==="auto",parse:t=>t},jw=t=>e=>e.test(t),kw=[_l,Re,is,Cr,KD,GD,tV],Hx=t=>kw.find(jw(t));function nV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iw(t):!0}const iV=new Set(["brightness","contrast","saturate","opacity"]);function sV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Dy)||[];if(!s)return t;const a=n.replace(s,"");let l=iV.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const rV=/\b([a-z-]*)\(.*?\)/gu,Ng={...zr,getAnimatableNone:t=>{const e=t.match(rV);return e?e.map(sV).join(" "):t}},qx={..._l,transform:Math.round},aV={rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:lf,scaleX:lf,scaleY:lf,scaleZ:lf,skew:Cr,skewX:Cr,skewY:Cr,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Wc,originX:Dx,originY:Dx,originZ:Re},By={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...aV,zIndex:qx,fillOpacity:Wc,strokeOpacity:Wc,numOctaves:qx},oV={...By,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:Ng,WebkitFilter:Ng},Lw=t=>oV[t];function Uw(t,e){let n=Lw(t);return n!==Ng&&(n=zr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lV=new Set(["auto","none","0"]);function cV(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!lV.has(l)&&Zc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=Uw(n,a)}class uV extends Ly{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Iy(g))){const v=Ow(g,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Pw.has(s)||e.length!==2)return;const[a,l]=e,u=Hx(a),f=Hx(l);if(u!==f)if(Ux(u)&&Ux(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||nV(e[a]))&&s.push(a);s.length&&cV(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Oa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function hV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Bw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function zw(t){return nw(t)&&"offsetHeight"in t}const Gx=30,fV=t=>!isNaN(parseFloat(t));class dV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=Vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ry);const s=this.events[e].add(n);return e==="change"?()=>{s(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Gx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gx);return sw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ll(t,e){return new dV(t,e)}const{schedule:zy}=pw(queueMicrotask,!1),Ti={x:!1,y:!1};function Fw(){return Ti.x||Ti.y}function mV(t){return t==="x"||t==="y"?Ti[t]?null:(Ti[t]=!0,()=>{Ti[t]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function Hw(t,e){const n=hV(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Kx(t){return!(t.pointerType==="touch"||Fw())}function pV(t,e,n={}){const[s,a,l]=Hw(t,n),u=f=>{if(!Kx(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const v=b=>{Kx(b)&&(g(b),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const qw=(t,e)=>e?t===e?!0:qw(t,e.parentElement):!1,Fy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yV(t){return gV.has(t.tagName)||t.tabIndex!==-1}const Ef=new WeakSet;function $x(t){return e=>{e.key==="Enter"&&t(e)}}function Fp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vV=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=$x(()=>{if(Ef.has(n))return;Fp(n,"down");const a=$x(()=>{Fp(n,"up")}),l=()=>Fp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Yx(t){return Fy(t)&&!Fw()}function _V(t,e,n={}){const[s,a,l]=Hw(t,n),u=f=>{const m=f.currentTarget;if(!Yx(f))return;Ef.add(m);const g=e(m,f),v=(A,M)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",E),Ef.has(m)&&Ef.delete(m),Yx(A)&&typeof g=="function"&&g(A,{success:M})},b=A=>{v(A,m===window||m===document||n.useGlobalTarget||qw(m,A.target))},E=A=>{v(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",E,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),zw(f)&&(f.addEventListener("focus",g=>vV(g,a)),!yV(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function Gw(t){return nw(t)&&"ownerSVGElement"in t}function bV(t){return Gw(t)&&t.tagName==="svg"}const vn=t=>!!(t&&t.getVelocity),xV=[...kw,Ht,zr],TV=t=>xV.find(jw(t)),Hy=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Qx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function EV(...t){return e=>{let n=!1;const s=t.map(a=>{const l=Qx(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Qx(t[a],null)}}}}function wV(...t){return P.useCallback(EV(...t),t)}class SV extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=zw(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AV({children:t,isPresent:e,anchorX:n,root:s}){const a=P.useId(),l=P.useRef(null),u=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=P.useContext(Hy),m=wV(l,t==null?void 0:t.ref);return P.useInsertionEffect(()=>{const{width:g,height:v,top:b,left:E,right:A}=u.current;if(e||!l.current||!g||!v)return;const M=n==="left"?`left: ${E}`:`right: ${A}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");f&&(N.nonce=f);const I=s??document.head;return I.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${M}px !important;
            top: ${b}px !important;
          }
        `),()=>{I.contains(N)&&I.removeChild(N)}},[e]),y.jsx(SV,{isPresent:e,childRef:l,sizeRef:u,children:P.cloneElement(t,{ref:m})})}const RV=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:m})=>{const g=xy(CV),v=P.useId();let b=!0,E=P.useMemo(()=>(b=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:A=>{g.set(A,!0);for(const M of g.values())if(!M)return;s&&s()},register:A=>(g.set(A,!1),()=>g.delete(A))}),[n,g,s]);return l&&b&&(E={...E}),P.useMemo(()=>{g.forEach((A,M)=>g.set(M,!1))},[n]),P.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),u==="popLayout"&&(t=y.jsx(AV,{isPresent:n,anchorX:f,root:m,children:t})),y.jsx(fd.Provider,{value:E,children:t})};function CV(){return new Map}function Kw(t=!0){const e=P.useContext(fd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=P.useId();P.useEffect(()=>{if(t)return a(l)},[t]);const u=P.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const cf=t=>t.key||"";function Xx(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const ja=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:m})=>{const[g,v]=Kw(u),b=P.useMemo(()=>Xx(t),[t]),E=u&&!g?[]:b.map(cf),A=P.useRef(!0),M=P.useRef(b),N=xy(()=>new Map),[I,U]=P.useState(b),[F,z]=P.useState(b);ew(()=>{A.current=!1,M.current=b;for(let le=0;le<F.length;le++){const D=cf(F[le]);E.includes(D)?N.delete(D):N.get(D)!==!0&&N.set(D,!1)}},[F,E.length,E.join("-")]);const ie=[];if(b!==I){let le=[...b];for(let D=0;D<F.length;D++){const C=F[D],V=cf(C);E.includes(V)||(le.splice(D,0,C),ie.push(C))}return l==="wait"&&ie.length&&(le=ie),z(Xx(le)),U(b),null}const{forceRender:te}=P.useContext(by);return y.jsx(y.Fragment,{children:F.map(le=>{const D=cf(le),C=u&&!g?!1:b===F||E.includes(D),V=()=>{if(N.has(D))N.set(D,!0);else return;let L=!0;N.forEach(O=>{O||(L=!1)}),L&&(te==null||te(),z(M.current),u&&(v==null||v()),s&&s())};return y.jsx(RV,{isPresent:C,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:C?void 0:V,anchorX:f,children:le},D)})})},$w=P.createContext({strict:!1}),Wx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cl={};for(const t in Wx)cl[t]={isEnabled:e=>Wx[t].some(n=>!!e[n])};function NV(t){for(const e in t)cl[e]={...cl[e],...t[e]}}const IV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IV.has(t)}let Yw=t=>!Bf(t);function DV(t){typeof t=="function"&&(Yw=e=>e.startsWith("on")?!Bf(e):t(e))}try{DV(require("@emotion/is-prop-valid").default)}catch{}function MV(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(Yw(a)||n===!0&&Bf(a)||!e&&!Bf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const dd=P.createContext({});function md(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Jc(t){return typeof t=="string"||Array.isArray(t)}const qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gy=["initial",...qy];function pd(t){return md(t.animate)||Gy.some(e=>Jc(t[e]))}function Qw(t){return!!(pd(t)||t.variants)}function VV(t,e){if(pd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Jc(n)?n:void 0,animate:Jc(s)?s:void 0}}return t.inherit!==!1?e:{}}function OV(t){const{initial:e,animate:n}=VV(t,P.useContext(dd));return P.useMemo(()=>({initial:e,animate:n}),[Zx(e),Zx(n)])}function Zx(t){return Array.isArray(t)?t.join(" "):t}function Jx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=Jx(t,e.target.x),s=Jx(t,e.target.y);return`${n}% ${s}%`}},PV={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=zr.parse(t);if(a.length>5)return s;const l=zr.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const g=Tt(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},Ig={borderRadius:{...Dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dc,borderTopRightRadius:Dc,borderBottomLeftRadius:Dc,borderBottomRightRadius:Dc,boxShadow:PV};function Xw(t,{layout:e,layoutId:n}){return xl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ig[t]||t==="opacity")}const jV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kV=bl.length;function LV(t,e,n){let s="",a=!0;for(let l=0;l<kV;l++){const u=bl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=Bw(f,By[u]);if(!m){a=!1;const v=jV[u]||u;s+=`${v}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Ky(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const g=e[m];if(xl.has(m)){u=!0;continue}else if(yw(m)){a[m]=g;continue}else{const v=Bw(g,By[m]);m.startsWith("origin")?(f=!0,l[m]=v):s[m]=v}}if(e.transform||(u||n?s.transform=LV(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const $y=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ww(t,e,n){for(const s in e)!vn(e[s])&&!Xw(s,n)&&(t[s]=e[s])}function UV({transformTemplate:t},e){return P.useMemo(()=>{const n=$y();return Ky(n,e,t),Object.assign({},n.vars,n.style)},[e])}function BV(t,e){const n=t.style||{},s={};return Ww(s,n,t),Object.assign(s,UV(t,e)),s}function zV(t,e){const n={},s=BV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const FV={offset:"stroke-dashoffset",array:"stroke-dasharray"},HV={offset:"strokeDashoffset",array:"strokeDasharray"};function qV(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?FV:HV;t[l.offset]=Re.transform(-s);const u=Re.transform(e),f=Re.transform(n);t[l.array]=`${u} ${f}`}function Zw(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,g,v){if(Ky(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:E}=t;b.transform&&(E.transform=b.transform,delete b.transform),(E.transform||b.transformOrigin)&&(E.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),E.transform&&(E.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&qV(b,a,l,u,!1)}const Jw=()=>({...$y(),attrs:{}}),eS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GV(t,e,n,s){const a=P.useMemo(()=>{const l=Jw();return Zw(l,e,eS(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Ww(l,t.style,t),a.style={...l,...a.style}}return a}const KV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yy(t){return typeof t!="string"||t.includes("-")?!1:!!(KV.indexOf(t)>-1||/[A-Z]/u.test(t))}function $V(t,e,n,{latestValues:s},a,l=!1){const f=(Yy(t)?GV:zV)(e,s,a,t),m=MV(e,typeof t=="string",l),g=t!==P.Fragment?{...m,...f,ref:n}:{},{children:v}=e,b=P.useMemo(()=>vn(v)?v.get():v,[v]);return P.createElement(t,{...g,children:b})}function eT(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Qy(t,e,n,s){if(typeof e=="function"){const[a,l]=eT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=eT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function wf(t){return vn(t)?t.get():t}function YV({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:QV(n,s,a,t),renderState:e()}}function QV(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=wf(l[E]);let{initial:u,animate:f}=t;const m=pd(t),g=Qw(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const b=v?f:u;if(b&&typeof b!="boolean"&&!md(b)){const E=Array.isArray(b)?b:[b];for(let A=0;A<E.length;A++){const M=Qy(t,E[A]);if(M){const{transitionEnd:N,transition:I,...U}=M;for(const F in U){let z=U[F];if(Array.isArray(z)){const ie=v?z.length-1:0;z=z[ie]}z!==null&&(a[F]=z)}for(const F in N)a[F]=N[F]}}}return a}const tS=t=>(e,n)=>{const s=P.useContext(dd),a=P.useContext(fd),l=()=>YV(t,e,s,a);return n?l():xy(l)};function Xy(t,e,n){var l;const{style:s}=t,a={};for(const u in s)(vn(s[u])||e.style&&vn(e.style[u])||Xw(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=s[u]);return a}const XV=tS({scrapeMotionValuesFromProps:Xy,createRenderState:$y});function nS(t,e,n){const s=Xy(t,e,n);for(const a in t)if(vn(t[a])||vn(e[a])){const l=bl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const WV=tS({scrapeMotionValuesFromProps:nS,createRenderState:Jw}),ZV=Symbol.for("motionComponentSymbol");function Qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JV(t,e,n){return P.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Qo(n)&&(n.current=s))},[e])}const Wy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eO="framerAppearId",iS="data-"+Wy(eO),sS=P.createContext({});function tO(t,e,n,s,a){var N,I;const{visualElement:l}=P.useContext(dd),u=P.useContext($w),f=P.useContext(fd),m=P.useContext(Hy).reducedMotion,g=P.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,b=P.useContext(sS);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&nO(g.current,n,a,b);const E=P.useRef(!1);P.useInsertionEffect(()=>{v&&E.current&&v.update(n,f)});const A=n[iS],M=P.useRef(!!A&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,A))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,A)));return ew(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),M.current&&v.animationState&&v.animationState.animateChanges())}),P.useEffect(()=>{v&&(!M.current&&v.animationState&&v.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,A)}),M.current=!1),v.enteringChildren=void 0)}),v}function nO(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Qo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function rS(t){if(t)return t.options.allowProjection!==!1?t.projection:rS(t.parent)}function Hp(t,{forwardMotionProps:e=!1}={},n,s){n&&NV(n);const a=Yy(t)?WV:XV;function l(f,m){let g;const v={...P.useContext(Hy),...f,layoutId:iO(f)},{isStatic:b}=v,E=OV(f),A=a(f,b);if(!b&&Ty){sO();const M=rO(v);g=M.MeasureLayout,E.visualElement=tO(t,A,v,s,M.ProjectionNode)}return y.jsxs(dd.Provider,{value:E,children:[g&&E.visualElement?y.jsx(g,{visualElement:E.visualElement,...v}):null,$V(t,f,JV(A,E.visualElement,m),A,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=P.forwardRef(l);return u[ZV]=t,u}function iO({layoutId:t}){const e=P.useContext(by).id;return e&&t!==void 0?e+"-"+t:t}function sO(t,e){P.useContext($w).strict}function rO(t){const{drag:e,layout:n}=cl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function aO(t,e){if(typeof Proxy>"u")return Hp;const n=new Map,s=(l,u)=>Hp(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Hp(u,void 0,t,e)),n.get(u))})}function aS({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function oO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function qp(t){return t===void 0||t===1}function Dg({scale:t,scaleX:e,scaleY:n}){return!qp(t)||!qp(e)||!qp(n)}function Na(t){return Dg(t)||oS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oS(t){return tT(t.x)||tT(t.y)}function tT(t){return t&&t!=="0%"}function zf(t,e,n){const s=t-n,a=e*s;return n+a}function nT(t,e,n,s,a){return a!==void 0&&(t=zf(t,a,s)),zf(t,n,s)+e}function Mg(t,e=0,n=1,s,a){t.min=nT(t.min,e,n,s,a),t.max=nT(t.max,e,n,s,a)}function lS(t,{x:e,y:n}){Mg(t.x,e.translate,e.scale,e.originPoint),Mg(t.y,n.translate,n.scale,n.originPoint)}const iT=.999999999999,sT=1.0000000000001;function cO(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Wo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,lS(t,u)),s&&Na(l.latestValues)&&Wo(t,l.latestValues))}e.x<sT&&e.x>iT&&(e.x=1),e.y<sT&&e.y>iT&&(e.y=1)}function Xo(t,e){t.min=t.min+e,t.max=t.max+e}function rT(t,e,n,s,a=.5){const l=Tt(t.min,t.max,a);Mg(t,e,n,l,s)}function Wo(t,e){rT(t.x,e.x,e.scaleX,e.scale,e.originX),rT(t.y,e.y,e.scaleY,e.scale,e.originY)}function cS(t,e){return aS(lO(t.getBoundingClientRect(),e))}function uO(t,e,n){const s=cS(t,n),{scroll:a}=e;return a&&(Xo(s.x,a.offset.x),Xo(s.y,a.offset.y)),s}const aT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zo=()=>({x:aT(),y:aT()}),oT=()=>({min:0,max:0}),$t=()=>({x:oT(),y:oT()}),Vg={current:null},uS={current:!1};function hO(){if(uS.current=!0,!!Ty)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vg.current=t.matches;t.addEventListener("change",e),e()}else Vg.current=!1}const fO=new WeakMap;function dO(t,e,n){for(const s in e){const a=e[s],l=n[s];if(vn(a))t.addValue(s,a);else if(vn(l))t.addValue(s,ll(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,ll(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const lT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mO{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ly,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Vn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,xt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=pd(n),this.isVariantNode=Qw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in b){const A=b[E];m[E]!==void 0&&vn(A)&&A.set(m[E])}}mount(e){var n;this.current=e,fO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),uS.current||hO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Br(this.notifyUpdate),Br(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=xl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&xt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cl){const n=cl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<lT.length;s++){const a=lT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=dO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ll(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(tw(s)||iw(s))?s=parseFloat(s):!TV(s)&&zr.test(n)&&(s=Uw(e,n)),this.setBaseTarget(e,vn(s)?s.get():s)),vn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=Qy(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(s=u[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!vn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ry),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){zy.render(this.render)}}class hS extends mO{constructor(){super(...arguments),this.KeyframeResolver=uV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fS(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a==null||a.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function pO(t){return window.getComputedStyle(t)}class gO extends hS{constructor(){super(...arguments),this.type="html",this.renderInstance=fS}readValueFromInstance(e,n){var s;if(xl.has(n))return(s=this.projection)!=null&&s.isProjecting?Eg(n):NM(e,n);{const a=pO(e),l=(yw(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cS(e,n)}build(e,n,s){Ky(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Xy(e,n,s)}}const dS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yO(t,e,n,s){fS(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(dS.has(a)?a:Wy(a),e.attrs[a])}class vO extends hS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xl.has(n)){const s=Lw(n);return s&&s.default||0}return n=dS.has(n)?n:Wy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return nS(e,n,s)}build(e,n,s){Zw(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){yO(e,n,s,a)}mount(e){this.isSVGTag=eS(e.tagName),super.mount(e)}}const _O=(t,e)=>Yy(t)?new vO(e):new gO(e,{allowProjection:t!==P.Fragment});function el(t,e,n){const s=t.getProps();return Qy(s,e,n!==void 0?n:s.custom,t)}const Og=t=>Array.isArray(t);function bO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ll(n))}function xO(t){return Og(t)?t[t.length-1]||0:t}function TO(t,e){const n=el(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=xO(l[u]);bO(t,u,f)}}function EO(t){return!!(vn(t)&&t.add)}function Pg(t,e){const n=t.getValue("willChange");if(EO(n))return n.add(e);if(!n&&Hs.WillChange){const s=new Hs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function mS(t){return t.props[iS]}const wO=t=>t!==null;function SO(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(wO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const AO={type:"spring",stiffness:500,damping:25,restSpeed:10},RO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CO={type:"keyframes",duration:.8},NO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IO=(t,{keyframes:e})=>e.length>2?CO:xl.has(t)?t.startsWith("scale")?RO(e[1]):AO:NO;function DO({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const Zy=(t,e,n,s={},a,l)=>u=>{const f=Uy(s,t)||{},m=f.delay||s.delay||0;let{elapsed:g=0}=s;g=g-ns(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};DO(f)||Object.assign(v,IO(t,v)),v.duration&&(v.duration=ns(v.duration)),v.repeatDelay&&(v.repeatDelay=ns(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Cg(v),v.delay===0&&(b=!0)),(Hs.instantAnimations||Hs.skipAnimations)&&(b=!0,Cg(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const E=SO(v.keyframes,f);if(E!==void 0){xt.update(()=>{v.onUpdate(E),v.onComplete()});return}}return f.isSync?new ky(v):new ZM(v)};function MO({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function pS(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const b=t.getValue(v,t.latestValues[v]??null),E=f[v];if(E===void 0||g&&MO(g,v))continue;const A={delay:n,...Uy(l||{},v)},M=b.get();if(M!==void 0&&!b.isAnimating&&!Array.isArray(E)&&E===M&&!A.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const U=mS(t);if(U){const F=window.MotionHandoffAnimation(U,v,xt);F!==null&&(A.startTime=F,N=!0)}}Pg(t,v),b.start(Zy(v,b,E,t.shouldReduceMotion&&Pw.has(v)?{type:!1}:A,t,N));const I=b.animation;I&&m.push(I)}return u&&Promise.all(m).then(()=>{xt.update(()=>{u&&TO(t,u)})}),m}function gS(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}function jg(t,e,n={}){var m;const s=el(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(pS(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:E}=a;return VO(t,e,g,v,b,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[g,v]=f==="beforeChildren"?[l,u]:[u,l];return g().then(()=>v())}else return Promise.all([l(),u(n.delay)])}function VO(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(jg(m,e,{...u,delay:n+(typeof s=="function"?0:s)+gS(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function OO(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>jg(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=jg(t,e,n);else{const a=typeof e=="function"?el(t,e,n.custom):e;s=Promise.all(pS(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function yS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const PO=Gy.length;function vS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<PO;n++){const s=Gy[n],a=t.props[s];(Jc(a)||a===!1)&&(e[s]=a)}return e}const jO=[...qy].reverse(),kO=qy.length;function LO(t){return e=>Promise.all(e.map(({animation:n,options:s})=>OO(t,n,s)))}function UO(t){let e=LO(t),n=cT(),s=!0;const a=m=>(g,v)=>{var E;const b=el(t,v,m==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(b){const{transition:A,transitionEnd:M,...N}=b;g={...g,...N,...M}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,v=vS(t.parent)||{},b=[],E=new Set;let A={},M=1/0;for(let I=0;I<kO;I++){const U=jO[I],F=n[U],z=g[U]!==void 0?g[U]:v[U],ie=Jc(z),te=U===m?F.isActive:null;te===!1&&(M=I);let le=z===v[U]&&z!==g[U]&&ie;if(le&&s&&t.manuallyAnimateOnMount&&(le=!1),F.protectedKeys={...A},!F.isActive&&te===null||!z&&!F.prevProp||md(z)||typeof z=="boolean")continue;const D=BO(F.prevProp,z);let C=D||U===m&&F.isActive&&!le&&ie||I>M&&ie,V=!1;const L=Array.isArray(z)?z:[z];let O=L.reduce(a(U),{});te===!1&&(O={});const{prevResolvedValues:H={}}=F,j={...H,...O},Le=ue=>{C=!0,E.has(ue)&&(V=!0,E.delete(ue)),F.needsAnimating[ue]=!0;const pe=t.getValue(ue);pe&&(pe.liveStyle=!1)};for(const ue in j){const pe=O[ue],Ce=H[ue];if(A.hasOwnProperty(ue))continue;let G=!1;Og(pe)&&Og(Ce)?G=!yS(pe,Ce):G=pe!==Ce,G?pe!=null?Le(ue):E.add(ue):pe!==void 0&&E.has(ue)?Le(ue):F.protectedKeys[ue]=!0}F.prevProp=z,F.prevResolvedValues=O,F.isActive&&(A={...A,...O}),s&&t.blockInitialAnimation&&(C=!1);const We=le&&D;C&&(!We||V)&&b.push(...L.map(ue=>{const pe={type:U};if(typeof ue=="string"&&s&&!We&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ce}=t,G=el(Ce,ue);if(Ce.enteringChildren&&G){const{delayChildren:w}=G.transition||{};pe.delay=gS(Ce.enteringChildren,t,w)}}return{animation:ue,options:pe}}))}if(E.size){const I={};if(typeof g.initial!="boolean"){const U=el(t,Array.isArray(g.initial)?g.initial[0]:g.initial);U&&U.transition&&(I.transition=U.transition)}E.forEach(U=>{const F=t.getBaseTarget(U),z=t.getValue(U);z&&(z.liveStyle=!0),I[U]=F??null}),b.push({animation:I})}let N=!!b.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(N=!1),s=!1,N?e(b):Promise.resolve()}function f(m,g){var b;if(n[m].isActive===g)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(m,g)}),n[m].isActive=g;const v=u(m);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cT()}}}function BO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yS(e,t):!1}function Ca(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cT(){return{animate:Ca(!0),whileInView:Ca(),whileHover:Ca(),whileTap:Ca(),whileDrag:Ca(),whileFocus:Ca(),exit:Ca()}}class Xr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zO extends Xr{constructor(e){super(e),e.animationState||(e.animationState=UO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();md(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let FO=0;class HO extends Xr{constructor(){super(...arguments),this.id=FO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const qO={animation:{Feature:zO},exit:{Feature:HO}};function eu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function vu(t){return{point:{x:t.pageX,y:t.pageY}}}const GO=t=>e=>Fy(e)&&t(e,vu(e));function Bc(t,e,n,s){return eu(t,e,GO(n),s)}const _S=1e-4,KO=1-_S,$O=1+_S,bS=.01,YO=0-bS,QO=0+bS;function En(t){return t.max-t.min}function XO(t,e,n){return Math.abs(t-e)<=n}function uT(t,e,n,s=.5){t.origin=s,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=KO&&t.scale<=$O||isNaN(t.scale))&&(t.scale=1),(t.translate>=YO&&t.translate<=QO||isNaN(t.translate))&&(t.translate=0)}function zc(t,e,n,s){uT(t.x,e.x,n.x,s?s.originX:void 0),uT(t.y,e.y,n.y,s?s.originY:void 0)}function hT(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function WO(t,e,n){hT(t.x,e.x,n.x),hT(t.y,e.y,n.y)}function fT(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function Ff(t,e,n){fT(t.x,e.x,n.x),fT(t.y,e.y,n.y)}function si(t){return[t("x"),t("y")]}const xS=({current:t})=>t?t.ownerDocument.defaultView:null,dT=(t,e)=>Math.abs(t-e);function ZO(t,e){const n=dT(t.x,e.x),s=dT(t.y,e.y);return Math.sqrt(n**2+s**2)}class TS{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Kp(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,M=ZO(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!M)return;const{point:N}=E,{timestamp:I}=un;this.history.push({...N,timestamp:I});const{onStart:U,onMove:F}=this.handlers;A||(U&&U(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Gp(A,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:M,onSessionEnd:N,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Kp(E.type==="pointercancel"?this.lastMoveEventInfo:Gp(A,this.transformPagePoint),this.history);this.startEvent&&M&&M(E,U),N&&N(E,U)},!Fy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const f=vu(e),m=Gp(f,this.transformPagePoint),{point:g}=m,{timestamp:v}=un;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,Kp(m,this.history)),this.removeListeners=pu(Bc(this.contextWindow,"pointermove",this.handlePointerMove),Bc(this.contextWindow,"pointerup",this.handlePointerUp),Bc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Br(this.updatePoint)}}function Gp(t,e){return e?{point:e(t.point)}:t}function mT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kp({point:t},e){return{point:t,delta:mT(t,ES(e)),offset:mT(t,JO(e)),velocity:eP(e,.1)}}function JO(t){return t[0]}function ES(t){return t[t.length-1]}function eP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=ES(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ns(e)));)n--;if(!s)return{x:0,y:0};const l=li(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function tP(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Tt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Tt(n,t,s.max):Math.min(t,n)),t}function pT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nP(t,{top:e,left:n,bottom:s,right:a}){return{x:pT(t.x,n,a),y:pT(t.y,e,s)}}function gT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function iP(t,e){return{x:gT(t.x,e.x),y:gT(t.y,e.y)}}function sP(t,e){let n=.5;const s=En(t),a=En(e);return a>s?n=Xc(e.min,e.max-s,t.min):s>a&&(n=Xc(t.min,t.max-a,e.min)),Fs(0,1,n)}function rP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kg=.35;function aP(t=kg){return t===!1?t=0:t===!0&&(t=kg),{x:yT(t,"left","right"),y:yT(t,"top","bottom")}}function yT(t,e,n){return{min:vT(t,e),max:vT(t,n)}}function vT(t,e){return typeof t=="number"?t:t[e]||0}const oP=new WeakMap;class lP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vu(b).point)},u=(b,E)=>{const{drag:A,dragPropagation:M,onDragStart:N}=this.getProps();if(A&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mV(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(U=>{let F=this.getAxisMotionValue(U).get()||0;if(is.test(F)){const{projection:z}=this.visualElement;if(z&&z.layout){const ie=z.layout.layoutBox[U];ie&&(F=En(ie)*(parseFloat(F)/100))}}this.originPoint[U]=F}),N&&xt.postRender(()=>N(b,E)),Pg(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},f=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:M,onDirectionLock:N,onDrag:I}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:U}=E;if(M&&this.currentDirection===null){this.currentDirection=cP(U),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",E.point,U),this.updateAxis("y",E.point,U),this.visualElement.render(),I&&I(b,E)},m=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E,this.stop(b,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>si(b=>{var E;return this.getAnimationState(b)==="paused"&&((E=this.getAxisMotionValue(b).animation)==null?void 0:E.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new TS(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:xS(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&xt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!uf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=tP(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=nP(s.layoutBox,e):this.constraints=!1,this.elastic=aP(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&si(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=rP(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=uO(s,a.root,this.visualElement.getTransformPagePoint());let u=iP(a.layout.layoutBox,l);if(n){const f=n(oO(u));this.hasMutatedConstraints=!!f,f&&(u=aS(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=si(v=>{if(!uf(v,n,this.currentDirection))return;let b=m&&m[v]||{};u&&(b={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,M={type:"inertia",velocity:s?e[v]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,M)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Pg(this.visualElement,e),s.start(Zy(e,s,0,n,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){si(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){si(n=>{const{drag:s}=this.getProps();if(!uf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-Tt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Qo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=sP({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),si(u=>{if(!uf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];f.set(Tt(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;oP.set(this.visualElement,this);const e=this.visualElement.current,n=Bc(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Qo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),xt.read(s);const u=eu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(si(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=m[v].translate,b.set(b.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=kg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function uf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class uP extends Xr{constructor(e){super(e),this.removeGroupControls=ci,this.removeListeners=ci,this.controls=new lP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const _T=t=>(e,n)=>{t&&xt.postRender(()=>t(e,n))};class hP extends Xr{constructor(){super(...arguments),this.removePointerDownListener=ci}onPointerDown(e){this.session=new TS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:_T(e),onStart:_T(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&xt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Bc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let $p=!1;class fP extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),$p&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Sf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,$p=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||xt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;$p=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wS(t){const[e,n]=Kw(),s=P.useContext(by);return y.jsx(fP,{...t,layoutGroup:s,switchLayoutGroup:P.useContext(sS),isPresent:e,safeToRemove:n})}function dP(t,e,n){const s=vn(t)?t:ll(t);return s.start(Zy("",s,e,n)),s.animation}const mP=(t,e)=>t.depth-e.depth;class pP{constructor(){this.children=[],this.isDirty=!1}add(e){Ey(this.children,e),this.isDirty=!0}remove(e){wy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mP),this.isDirty=!1,this.children.forEach(e)}}function gP(t,e){const n=Vn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Br(s),t(l-e))};return xt.setup(s,!0),()=>Br(s)}const SS=["TopLeft","TopRight","BottomLeft","BottomRight"],yP=SS.length,bT=t=>typeof t=="string"?parseFloat(t):t,xT=t=>typeof t=="number"||Re.test(t);function vP(t,e,n,s,a,l){a?(t.opacity=Tt(0,n.opacity??1,_P(s)),t.opacityExit=Tt(e.opacity??1,0,bP(s))):l&&(t.opacity=Tt(e.opacity??1,n.opacity??1,s));for(let u=0;u<yP;u++){const f=`border${SS[u]}Radius`;let m=TT(e,f),g=TT(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||xT(m)===xT(g)?(t[f]=Math.max(Tt(bT(m),bT(g),s),0),(is.test(g)||is.test(m))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,s))}function TT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _P=AS(0,.5,hw),bP=AS(.5,.95,ci);function AS(t,e,n){return s=>s<t?0:s>e?1:n(Xc(t,e,s))}function ET(t,e){t.min=e.min,t.max=e.max}function xi(t,e){ET(t.x,e.x),ET(t.y,e.y)}function wT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ST(t,e,n,s,a){return t-=e,t=zf(t,1/n,s),a!==void 0&&(t=zf(t,1/a,s)),t}function xP(t,e=0,n=1,s=.5,a,l=t,u=t){if(is.test(e)&&(e=parseFloat(e),e=Tt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Tt(l.min,l.max,s);t===l&&(f-=e),t.min=ST(t.min,e,n,f,a),t.max=ST(t.max,e,n,f,a)}function AT(t,e,[n,s,a],l,u){xP(t,e[n],e[s],e[a],e.scale,l,u)}const TP=["x","scaleX","originX"],EP=["y","scaleY","originY"];function RT(t,e,n,s){AT(t.x,e,TP,n?n.x:void 0,s?s.x:void 0),AT(t.y,e,EP,n?n.y:void 0,s?s.y:void 0)}function CT(t){return t.translate===0&&t.scale===1}function RS(t){return CT(t.x)&&CT(t.y)}function NT(t,e){return t.min===e.min&&t.max===e.max}function wP(t,e){return NT(t.x,e.x)&&NT(t.y,e.y)}function IT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CS(t,e){return IT(t.x,e.x)&&IT(t.y,e.y)}function DT(t){return En(t.x)/En(t.y)}function MT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class SP{constructor(){this.members=[]}add(e){Ey(this.members,e),e.scheduleRender()}remove(e){if(wy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AP(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:E,skewX:A,skewY:M}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),E&&(s+=`rotateY(${E}deg) `),A&&(s+=`skewX(${A}deg) `),M&&(s+=`skewY(${M}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Yp=["","X","Y","Z"],RP=1e3;let CP=0;function Qp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function NS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&NS(s)}function IS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e==null?void 0:e()){this.id=CP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DP),this.nodes.forEach(PP),this.nodes.forEach(jP),this.nodes.forEach(MP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new pP)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ry),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Gw(u)&&!bV(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v,b=0;const E=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{b=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,v&&v(),v=gP(E,250),Sf.hasAnimatedSinceResize&&(Sf.hasAnimatedSinceResize=!1,this.nodes.forEach(PT)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||g.getDefaultTransition()||zP,{onLayoutAnimationStart:N,onLayoutAnimationComplete:I}=g.getProps(),U=!this.targetLayout||!CS(this.targetLayout,A),F=!b&&E;if(this.options.layoutRoot||this.resumeFrom||F||b&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...Uy(M,"layout"),onPlay:N,onComplete:I};(g.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(v,F)}else b||PT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(OP),this.nodes.forEach(NP),this.nodes.forEach(IP)):this.nodes.forEach(OT),this.clearAllSnapshots();const f=Vn.now();un.delta=Fs(0,1e3/60,f-un.timestamp),un.timestamp=f,un.isProcessing=!0,kp.update.process(un),kp.preRender.process(un),kp.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VP),this.sharedNodes.forEach(LP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!RS(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(f||Na(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),FP(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:u}=this.options;if(!u)return $t();const f=u.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(HP))){const{scroll:v}=this.root;v&&(Xo(f.x,v.offset.x),Xo(f.y,v.offset.y))}return f}removeElementScroll(u){var m;const f=$t();if(xi(f,u),(m=this.scroll)!=null&&m.wasRoot)return f;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:b,options:E}=v;v!==this.root&&b&&E.layoutScroll&&(b.wasRoot&&xi(f,u),Xo(f.x,b.offset.x),Xo(f.y,b.offset.y))}return f}applyTransform(u,f=!1){const m=$t();xi(m,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Wo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Na(v.latestValues)&&Wo(m,v.latestValues)}return Na(this.latestValues)&&Wo(m,this.latestValues),m}removeTransform(u){const f=$t();xi(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Na(g.latestValues))continue;Dg(g.latestValues)&&g.updateSnapshot();const v=$t(),b=g.measurePageBox();xi(v,b),RT(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Na(this.latestValues)&&RT(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var A;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=un.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xi(this.target,this.layout.layoutBox),lS(this.target,this.targetDelta)):xi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Dg(this.parent.latestValues)||oS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Ff(this.relativeTargetOrigin,f,m),xi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var M;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===un.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;xi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,E=this.treeScale.y;cO(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=$t());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wT(this.prevProjectionDelta.x,this.projectionDelta.x),wT(this.prevProjectionDelta.y,this.projectionDelta.y)),zc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==E||!MT(this.projectionDelta.x,this.prevProjectionDelta.x)||!MT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zo(),this.projectionDelta=Zo(),this.projectionDeltaWithTransform=Zo()}setAnimationOrigin(u,f=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},b=Zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=$t(),A=m?m.source:void 0,M=this.layout?this.layout.source:void 0,N=A!==M,I=this.getStack(),U=!I||I.members.length<=1,F=!!(N&&!U&&this.options.crossfade===!0&&!this.path.some(BP));this.animationProgress=0;let z;this.mixTargetDelta=ie=>{const te=ie/1e3;jT(b.x,u.x,te),jT(b.y,u.y,te),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UP(this.relativeTarget,this.relativeTargetOrigin,E,te),z&&wP(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=$t()),xi(z,this.relativeTarget)),N&&(this.animationValues=v,vP(v,g,this.latestValues,te,F,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,m,g;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(g=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Sf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ll(0)),this.currentAnimation=dP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),u.onUpdate&&u.onUpdate(v)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:v}=u;if(!(!f||!m||!g)){if(this!==u&&this.layout&&g&&DS(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||$t();const b=En(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const E=En(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+E}xi(f,m),Wo(f,v),zc(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new SP),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&Qp("z",u,g,this.animationValues);for(let v=0;v<Yp.length;v++)Qp(`rotate${Yp[v]}`,u,g,this.animationValues),Qp(`skew${Yp[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=wf(f==null?void 0:f.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=wf(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=AP(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),u.transform=b;const{x:E,y:A}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in Ig){if(v[M]===void 0)continue;const{correct:N,applyTo:I,isCSSVariable:U}=Ig[M],F=b==="none"?v[M]:N(v[M],g);if(I){const z=I.length;for(let ie=0;ie<z;ie++)u[I[ie]]=F}else U?this.options.visualElement.renderState.vars[M]=F:u[M]=F}this.options.layoutId&&(u.pointerEvents=g===this?wf(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(VT),this.root.sharedNodes.clear()}}}function NP(t){t.updateLayout()}function IP(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?si(b=>{const E=u?e.measuredBox[b]:e.layoutBox[b],A=En(E);E.min=s[b].min,E.max=E.min+A}):DS(l,e.layoutBox,s)&&si(b=>{const E=u?e.measuredBox[b]:e.layoutBox[b],A=En(s[b]);E.max=E.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+A)});const f=Zo();zc(f,s,e.layoutBox);const m=Zo();u?zc(m,t.applyTransform(a,!0),e.measuredBox):zc(m,s,e.layoutBox);const g=!RS(f);let v=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:E,layout:A}=b;if(E&&A){const M=$t();Ff(M,e.layoutBox,E.layoutBox);const N=$t();Ff(N,s,A.layoutBox),CS(M,N)||(v=!0),b.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=M,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function DP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function MP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function VP(t){t.clearSnapshot()}function VT(t){t.clearMeasurements()}function OT(t){t.isLayoutDirty=!1}function OP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function PP(t){t.resolveTargetDelta()}function jP(t){t.calcProjection()}function kP(t){t.resetSkewAndRotation()}function LP(t){t.removeLeadSnapshot()}function jT(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kT(t,e,n,s){t.min=Tt(e.min,n.min,s),t.max=Tt(e.max,n.max,s)}function UP(t,e,n,s){kT(t.x,e.x,n.x,s),kT(t.y,e.y,n.y,s)}function BP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zP={duration:.45,ease:[.4,0,.1,1]},LT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),UT=LT("applewebkit/")&&!LT("chrome/")?Math.round:ci;function BT(t){t.min=UT(t.min),t.max=UT(t.max)}function FP(t){BT(t.x),BT(t.y)}function DS(t,e,n){return t==="position"||t==="preserve-aspect"&&!XO(DT(e),DT(n),.2)}function HP(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const qP=IS({attachResizeListener:(t,e)=>eu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xp={current:void 0},MS=IS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xp.current){const t=new qP({});t.mount(window),t.setOptions({layoutScroll:!0}),Xp.current=t}return Xp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),GP={pan:{Feature:hP},drag:{Feature:uP,ProjectionNode:MS,MeasureLayout:wS}};function zT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&xt.postRender(()=>l(e,vu(e)))}class KP extends Xr{mount(){const{current:e}=this.node;e&&(this.unmount=pV(e,(n,s)=>(zT(this.node,s,"Start"),a=>zT(this.node,a,"End"))))}unmount(){}}class $P extends Xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pu(eu(this.node.current,"focus",()=>this.onFocus()),eu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&xt.postRender(()=>l(e,vu(e)))}class YP extends Xr{mount(){const{current:e}=this.node;e&&(this.unmount=_V(e,(n,s)=>(FT(this.node,s,"Start"),(a,{success:l})=>FT(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lg=new WeakMap,Wp=new WeakMap,QP=t=>{const e=Lg.get(t.target);e&&e(t)},XP=t=>{t.forEach(QP)};function WP({root:t,...e}){const n=t||document;Wp.has(n)||Wp.set(n,{});const s=Wp.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(XP,{root:t,...e})),s[a]}function ZP(t,e,n){const s=WP(e);return Lg.set(t,n),s.observe(t),()=>{Lg.delete(t),s.unobserve(t)}}const JP={some:0,all:1};class ej extends Xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:JP[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),E=g?v:b;E&&E(m)};return ZP(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tj(e,n))&&this.startObserver()}unmount(){}}function tj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nj={inView:{Feature:ej},tap:{Feature:YP},focus:{Feature:$P},hover:{Feature:KP}},ij={layout:{ProjectionNode:MS,MeasureLayout:wS}},sj={...qO,...nj,...GP,...ij},Ge=aO(sj,_O),VS="918112918006",OS="TheDecoratingVaranasi",PS="https://i.ibb.co/V0LTJJpZ/THE-DECORATINDG-VARANASI-NEW-LOGO-2.png",jS=[{id:"birthday",title:"Birthday Celebrations",description:"Magical setups for your special day. From balloon arches to themed parties.",image:"https://images.stockcake.com/public/c/8/1/c81f7134-8fd5-4e26-896f-5a0cd18eff8e_large/joyful-birthday-celebration-stockcake.jpg",priceStart:1999,features:["Balloon Arches","Themed Backdrops","Cake Table Decor"]},{id:"wedding",title:"Wedding Decorations",description:"Elegant floral arrangements and grand stage designs for your big day.",image:"https://images.unsplash.com/photo-1587271636175-90d58cdad458?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8aW5kaWFuJTIwd2VkZGluZyUyMGRlY29yfGVufDB8fDB8fHww",priceStart:15e3,features:["Floral Mandap","Entrance Gate","Stage Lighting"]},{id:"anniversary",title:"Anniversary Parties",description:"Romantic ambiance with candles, flowers, and elegant dining setups.",image:"https://m.media-amazon.com/images/I/71jLV5-8QOL._AC_UF1000,1000_QL80_.jpg",priceStart:2500,features:["Candlelight Dinner","Room Decor","Rose Petal Pathway"]},{id:"baby-shower",title:"Baby Showers",description:"Cute and cozy decorations to welcome the newest family member.",image:"https://t4.ftcdn.net/jpg/08/12/42/39/360_F_812423914_NbtgwoMQXTho1mxTTcjoWdWsmmhWbEv3.jpg",priceStart:3500,features:["Gender Reveal Props","Soft Pastels","Photo Booth"]},{id:"farewell",title:"Farewell Party",description:"Memorable send-offs with classy decor and photo corners.",image:"https://e1.pxfuel.com/desktop-wallpaper/683/418/desktop-wallpaper-fue-farewell-party-farewell.jpg",priceStart:2e3,features:["Signature Wall","Stage Setup","Memory Lane"]},{id:"inauguration",title:"Inauguration Party",description:"Professional and grand setups for shop or office openings.",image:"https://www.flowernpetals.com/wp-content/uploads/2019/07/marigold-Mala-flower-decorations-genda-flower-Mala-Decoration-16.jpg",priceStart:5e3,features:["Ribbon Cutting Area","Flower Garlands","Entrance Carpet"]}],Ho=(t,e,n,s)=>Array.from({length:s}).map((a,l)=>{const u=Math.floor(Math.random()*18501+1500),f=Math.random()>.3?Math.floor(Math.random()*20+5):0,m=f>0?Math.floor(u*(1+f/100)):u,g=`https://loremflickr.com/800/600/${n.replace(" ",",")}?lock=${t}-${l}`;return{id:`${t}-item-${l+1}`,serviceId:t,name:`${e} ${["Deluxe","Premium","Standard","Royal","Elegant"][l%5]} ${l+1}`,image:g,price:u,oldPrice:m,discount:f,shortDescription:`A beautiful ${e.toLowerCase()} setup perfect for your celebration.`,fullDescription:`Experience the best ${e.toLowerCase()} service in Varanasi. This package includes premium materials, professional installation, and breakdown. 

Includes: 
- High-quality props and decor elements 
- LED lighting setup 
- 4-hour rental duration (extendable) 
- On-site coordinator. 

Suitable for both indoor and outdoor venues. Customize colors to match your theme!`,tags:[l%3===0?"bestseller":"",l%4===0?"new":"",u<5e3?"budget":"premium","same-day"].filter(Boolean),rating:4+Math.random(),reviews:Math.floor(Math.random()*100+10)}}),kS=[...Ho("birthday","Balloon Decor","birthday,balloon",22),...Ho("wedding","Wedding Stage","wedding,flowers",20),...Ho("anniversary","Romantic Setup","rose,candle",20),...Ho("baby-shower","Baby Shower Theme","baby,pastel",20),...Ho("farewell","Party Backdrop","party,celebration",20),...Ho("inauguration","Inauguration Flower","marigold,opening",20)],HT=[{id:"bday-basic",serviceId:"birthday",name:"Basic Balloon Bliss",price:1999,image:"https://picsum.photos/id/158/400/300",includes:["200 Balloons","Happy Birthday Foil","Ribbons"]},{id:"bday-premium",serviceId:"birthday",name:"Premium Theme Setup",price:4999,image:"https://picsum.photos/id/327/400/300",includes:["Arch Setup","Backdrop","LED Lights","Name Cutout"]},{id:"wed-royal",serviceId:"wedding",name:"Royal Floral Stage",price:25e3,image:"https://picsum.photos/id/514/400/300",includes:["Fresh Flowers","Sofa Set","Stage Carpet","Backdrop Drapes"]}],rj=()=>{const[t,e]=P.useState(!1),[n,s]=P.useState(!1),a=ps(),l=a.pathname==="/"||a.pathname==="/booking";P.useEffect(()=>{const v=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]),P.useEffect(()=>{e(!1)},[a]);const u=l&&!n,f=`fixed w-full z-50 transition-all duration-500 ease-in-out ${u?"bg-transparent py-4":"bg-white/95 backdrop-blur-md shadow-md py-2"}`,m=u?"text-white":"text-gray-800",g=u?"bg-secondary":"bg-primary";return y.jsxs("nav",{className:f,children:[y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex justify-between items-center h-16",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(dt,{to:"/",className:"flex-shrink-0 flex items-center gap-2 group",children:y.jsx("img",{src:PS,alt:OS,className:`w-auto object-contain rounded-sm transition-all duration-500 ease-in-out ${n?"h-8":"h-10 md:h-12"}`})}),y.jsx(ja,{children:n&&!l&&y.jsx(Ge.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"hidden md:block",children:y.jsxs(dt,{to:"/",className:"flex items-center gap-1.5 text-xs font-bold text-gray-600 bg-gray-100 hover:bg-primary hover:text-white px-3 py-1.5 rounded-full transition-all",children:[y.jsx(ka,{className:"w-3 h-3"})," Back to Home"]})})})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[["Home","Services","Gallery","Contact"].map(v=>y.jsxs(dt,{to:v==="Home"?"/":`/${v.toLowerCase()}`,className:`relative group text-sm font-medium uppercase tracking-wider transition-colors ${m}`,children:[v,y.jsx("span",{className:`absolute -bottom-1 left-0 w-0 h-0.5 transition-all duration-300 ease-out group-hover:w-full ${g}`})]},v)),y.jsx(dt,{to:"/booking",children:y.jsx("button",{className:"bg-gradient-to-r from-primary to-purple-600 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300",children:"Book Now"})})]}),y.jsxs("div",{className:"md:hidden flex items-center gap-3",children:[y.jsx(ja,{children:n&&!l&&y.jsx(Ge.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},children:y.jsxs(dt,{to:"/",className:"flex items-center gap-1 text-xs font-bold text-gray-600 bg-gray-100 px-3 py-1.5 rounded-full",children:[y.jsx(ka,{className:"w-3 h-3"})," Home"]})})}),y.jsx("button",{onClick:()=>e(!t),className:`p-2 rounded-md ${m}`,children:t?y.jsx(mu,{className:"h-6 w-6"}):y.jsx(cD,{className:"h-6 w-6"})})]})]})}),y.jsx(ja,{children:t&&y.jsx(Ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-t border-gray-100 shadow-xl overflow-hidden",children:y.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[["Home","Services","Gallery","Contact"].map(v=>y.jsx(dt,{to:v==="Home"?"/":`/${v.toLowerCase()}`,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-purple-50 transition-colors",children:v},v)),y.jsx(dt,{to:"/booking",className:"block w-full text-center mt-4 bg-primary text-white px-4 py-3 rounded-lg font-bold",children:"Book via WhatsApp"})]})})})]})},qT=["https://images.pexels.com/photos/796606/pexels-photo-796606.jpeg","https://images.pexels.com/photos/6229135/pexels-photo-6229135.jpeg","https://images.pexels.com/photos/1045541/pexels-photo-1045541.jpeg","https://images.pexels.com/photos/169198/pexels-photo-169198.jpeg","https://images.pexels.com/photos/587741/pexels-photo-587741.jpeg","https://images.pexels.com/photos/7802432/pexels-photo-7802432.jpeg","https://images.pexels.com/photos/433452/pexels-photo-433452.jpeg","https://images.pexels.com/photos/417458/pexels-photo-417458.jpeg"],aj=()=>{const t=P.useMemo(()=>qT[Math.floor(Math.random()*qT.length)],[]);return y.jsxs("div",{className:"relative h-screen w-full overflow-hidden flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat bg-fixed transition-opacity duration-1000",style:{backgroundImage:`url("${t}")`},children:y.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"})}),y.jsxs("div",{className:"relative z-10 text-center px-4 max-w-5xl mx-auto",children:[y.jsx(Ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:y.jsx("h2",{className:"text-secondary font-sans font-bold uppercase tracking-[0.2em] mb-4 text-sm md:text-base",children:"Premium Event Styling in Varanasi"})}),y.jsxs(Ge.h1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1,delay:.2},className:"text-5xl md:text-7xl lg:text-8xl font-serif text-white font-bold leading-tight mb-6 drop-shadow-2xl",children:["Make Every Moment ",y.jsx("br",{}),y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-pink-100 to-purple-200",children:"Unforgettable"})]}),y.jsx(Ge.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-gray-200 text-lg md:text-xl mb-10 max-w-2xl mx-auto font-light",children:"From dreamy weddings to joyful birthday bashes, we craft experiences that touch the heart."}),y.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[y.jsx(dt,{to:"/booking",children:y.jsx("button",{className:"px-8 py-4 bg-secondary text-dark font-bold rounded-full shadow-[0_0_20px_rgba(251,191,36,0.4)] hover:shadow-[0_0_30px_rgba(251,191,36,0.6)] hover:scale-105 transition-all duration-300",children:"Book a Celebration"})}),y.jsx(dt,{to:"/services",children:y.jsx("button",{className:"px-8 py-4 bg-white/10 backdrop-blur-md border border-white/30 text-white font-bold rounded-full hover:bg-white/20 transition-all duration-300",children:"View Packages"})})]})]}),y.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:1},className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 text-white animate-bounce",children:y.jsx(KE,{className:"w-8 h-8"})})]})},LS=({service:t,index:e})=>y.jsxs(Ge.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},whileHover:{y:-10},className:"group relative bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[y.jsxs(dt,{to:`/services/${t.id}`,className:"block h-64 overflow-hidden relative cursor-pointer",children:[y.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors z-10"}),y.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out",loading:"lazy"}),y.jsxs("div",{className:"absolute top-4 right-4 z-20 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-primary flex items-center gap-1",children:[y.jsx(_y,{className:"w-3 h-3 fill-current"}),"Top Rated"]})]}),y.jsxs("div",{className:"p-6 relative",children:[y.jsx(dt,{to:`/services/${t.id}`,children:y.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors cursor-pointer",children:t.title})}),y.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2 text-sm",children:t.description}),y.jsx("div",{className:"space-y-2 mb-6",children:t.features.slice(0,3).map((n,s)=>y.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[y.jsx("span",{className:"w-1.5 h-1.5 bg-secondary rounded-full mr-2"}),n]},s))}),y.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"text-gray-400",children:"Starts at"}),y.jsxs("div",{className:"font-bold text-lg text-gray-900",children:["",t.priceStart.toLocaleString()]})]}),y.jsx(dt,{to:`/services/${t.id}`,children:y.jsxs("button",{className:"flex items-center gap-2 text-primary font-bold text-sm hover:gap-3 transition-all",children:["View Items ",y.jsx(PI,{className:"w-4 h-4"})]})})]})]})]});var Jy={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var G=new OffscreenCanvas(1,1),w=G.getContext("2d");w.fillRect(0,0,1,1);var K=G.transferToImageBitmap();w.createPattern(K,"no-repeat")}catch{return!1}return!0})();function m(){}function g(G){var w=n.exports.Promise,K=w!==void 0?w:e.Promise;return typeof K=="function"?new K(G):(G(m,m),null)}var v=(function(G,w){return{transform:function(K){if(G)return K;if(w.has(K))return w.get(K);var ne=new OffscreenCanvas(K.width,K.height),oe=ne.getContext("2d");return oe.drawImage(K,0,0),w.set(K,ne),ne},clear:function(){w.clear()}}})(f,new Map),b=(function(){var G=Math.floor(16.666666666666668),w,K,ne={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(he){var me=Math.random();return ne[me]=requestAnimationFrame(function de(be){oe===be||oe+G-1<be?(oe=be,delete ne[me],he()):ne[me]=requestAnimationFrame(de)}),me},K=function(he){ne[he]&&cancelAnimationFrame(ne[he])}):(w=function(he){return setTimeout(he,G)},K=function(he){return clearTimeout(he)}),{frame:w,cancel:K}})(),E=(function(){var G,w,K={};function ne(oe){function he(me,de){oe.postMessage({options:me||{},callback:de})}oe.init=function(de){var be=de.transferControlToOffscreen();oe.postMessage({canvas:be},[be])},oe.fire=function(de,be,Ee){if(w)return he(de,null),w;var et=Math.random().toString(36).slice(2);return w=g(function(Ye){function it(vt){vt.data.callback===et&&(delete K[et],oe.removeEventListener("message",it),w=null,v.clear(),Ee(),Ye())}oe.addEventListener("message",it),he(de,et),K[et]=it.bind(null,{data:{callback:et}})}),w},oe.reset=function(){oe.postMessage({reset:!0});for(var de in K)K[de](),delete K[de]}}return function(){if(G)return G;if(!s&&l){var oe=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{G=new Worker(URL.createObjectURL(new Blob([oe])))}catch(he){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",he),null}ne(G)}return G}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(G,w){return w?w(G):G}function N(G){return G!=null}function I(G,w,K){return M(G&&N(G[w])?G[w]:A[w],K)}function U(G){return G<0?0:Math.floor(G)}function F(G,w){return Math.floor(Math.random()*(w-G))+G}function z(G){return parseInt(G,16)}function ie(G){return G.map(te)}function te(G){var w=String(G).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:z(w.substring(0,2)),g:z(w.substring(2,4)),b:z(w.substring(4,6))}}function le(G){var w=I(G,"origin",Object);return w.x=I(w,"x",Number),w.y=I(w,"y",Number),w}function D(G){G.width=document.documentElement.clientWidth,G.height=document.documentElement.clientHeight}function C(G){var w=G.getBoundingClientRect();G.width=w.width,G.height=w.height}function V(G){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=G,w}function L(G,w,K,ne,oe,he,me,de,be){G.save(),G.translate(w,K),G.rotate(he),G.scale(ne,oe),G.arc(0,0,1,me,de,be),G.restore()}function O(G){var w=G.angle*(Math.PI/180),K=G.spread*(Math.PI/180);return{x:G.x,y:G.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:G.startVelocity*.5+Math.random()*G.startVelocity,angle2D:-w+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:G.color,shape:G.shape,tick:0,totalTicks:G.ticks,decay:G.decay,drift:G.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:G.gravity*3,ovalScalar:.6,scalar:G.scalar,flat:G.flat}}function H(G,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var K=w.tick++/w.totalTicks,ne=w.x+w.random*w.tiltCos,oe=w.y+w.random*w.tiltSin,he=w.wobbleX+w.random*w.tiltCos,me=w.wobbleY+w.random*w.tiltSin;if(G.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-K)+")",G.beginPath(),u&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))G.fill(ue(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(he-ne)*.1,Math.abs(me-oe)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var de=Math.PI/10*w.wobble,be=Math.abs(he-ne)*.1,Ee=Math.abs(me-oe)*.1,et=w.shape.bitmap.width*w.scalar,Ye=w.shape.bitmap.height*w.scalar,it=new DOMMatrix([Math.cos(de)*be,Math.sin(de)*be,-Math.sin(de)*Ee,Math.cos(de)*Ee,w.x,w.y]);it.multiplySelf(new DOMMatrix(w.shape.matrix));var vt=G.createPattern(v.transform(w.shape.bitmap),"no-repeat");vt.setTransform(it),G.globalAlpha=1-K,G.fillStyle=vt,G.fillRect(w.x-et/2,w.y-Ye/2,et,Ye),G.globalAlpha=1}else if(w.shape==="circle")G.ellipse?G.ellipse(w.x,w.y,Math.abs(he-ne)*w.ovalScalar,Math.abs(me-oe)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):L(G,w.x,w.y,Math.abs(he-ne)*w.ovalScalar,Math.abs(me-oe)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var Ie=Math.PI/2*3,Vt=4*w.scalar,Gt=8*w.scalar,nn=w.x,bn=w.y,ot=5,tt=Math.PI/ot;ot--;)nn=w.x+Math.cos(Ie)*Gt,bn=w.y+Math.sin(Ie)*Gt,G.lineTo(nn,bn),Ie+=tt,nn=w.x+Math.cos(Ie)*Vt,bn=w.y+Math.sin(Ie)*Vt,G.lineTo(nn,bn),Ie+=tt;else G.moveTo(Math.floor(w.x),Math.floor(w.y)),G.lineTo(Math.floor(w.wobbleX),Math.floor(oe)),G.lineTo(Math.floor(he),Math.floor(me)),G.lineTo(Math.floor(ne),Math.floor(w.wobbleY));return G.closePath(),G.fill(),w.tick<w.totalTicks}function j(G,w,K,ne,oe){var he=w.slice(),me=G.getContext("2d"),de,be,Ee=g(function(et){function Ye(){de=be=null,me.clearRect(0,0,ne.width,ne.height),v.clear(),oe(),et()}function it(){s&&!(ne.width===a.width&&ne.height===a.height)&&(ne.width=G.width=a.width,ne.height=G.height=a.height),!ne.width&&!ne.height&&(K(G),ne.width=G.width,ne.height=G.height),me.clearRect(0,0,ne.width,ne.height),he=he.filter(function(vt){return H(me,vt)}),he.length?de=b.frame(it):Ye()}de=b.frame(it),be=Ye});return{addFettis:function(et){return he=he.concat(et),Ee},canvas:G,promise:Ee,reset:function(){de&&b.cancel(de),be&&be()}}}function Le(G,w){var K=!G,ne=!!I(w||{},"resize"),oe=!1,he=I(w,"disableForReducedMotion",Boolean),me=l&&!!I(w||{},"useWorker"),de=me?E():null,be=K?D:C,Ee=G&&de?!!G.__confetti_initialized:!1,et=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ye;function it(Ie,Vt,Gt){for(var nn=I(Ie,"particleCount",U),bn=I(Ie,"angle",Number),ot=I(Ie,"spread",Number),tt=I(Ie,"startVelocity",Number),Ii=I(Ie,"decay",Number),Cl=I(Ie,"gravity",Number),Wa=I(Ie,"drift",Number),Xt=I(Ie,"colors",ie),vs=I(Ie,"ticks",Number),Ys=I(Ie,"shapes"),Zr=I(Ie,"scalar"),Di=!!I(Ie,"flat"),Za=le(Ie),Jr=nn,Qs=[],Ja=G.width*Za.x,On=G.height*Za.y;Jr--;)Qs.push(O({x:Ja,y:On,angle:bn,spread:ot,startVelocity:tt,color:Xt[Jr%Xt.length],shape:Ys[F(0,Ys.length)],ticks:vs,decay:Ii,gravity:Cl,drift:Wa,scalar:Zr,flat:Di}));return Ye?Ye.addFettis(Qs):(Ye=j(G,Qs,be,Vt,Gt),Ye.promise)}function vt(Ie){var Vt=he||I(Ie,"disableForReducedMotion",Boolean),Gt=I(Ie,"zIndex",Number);if(Vt&&et)return g(function(tt){tt()});K&&Ye?G=Ye.canvas:K&&!G&&(G=V(Gt),document.body.appendChild(G)),ne&&!Ee&&be(G);var nn={width:G.width,height:G.height};de&&!Ee&&de.init(G),Ee=!0,de&&(G.__confetti_initialized=!0);function bn(){if(de){var tt={getBoundingClientRect:function(){if(!K)return G.getBoundingClientRect()}};be(tt),de.postMessage({resize:{width:tt.width,height:tt.height}});return}nn.width=nn.height=null}function ot(){Ye=null,ne&&(oe=!1,e.removeEventListener("resize",bn)),K&&G&&(document.body.contains(G)&&document.body.removeChild(G),G=null,Ee=!1)}return ne&&!oe&&(oe=!0,e.addEventListener("resize",bn,!1)),de?de.fire(Ie,nn,ot):it(Ie,nn,ot)}return vt.reset=function(){de&&de.reset(),Ye&&Ye.reset()},vt}var We;function J(){return We||(We=Le(null,{useWorker:!0,resize:!0})),We}function ue(G,w,K,ne,oe,he,me){var de=new Path2D(G),be=new Path2D;be.addPath(de,new DOMMatrix(w));var Ee=new Path2D;return Ee.addPath(be,new DOMMatrix([Math.cos(me)*oe,Math.sin(me)*oe,-Math.sin(me)*he,Math.cos(me)*he,K,ne])),Ee}function pe(G){if(!u)throw new Error("path confetti are not supported in this browser");var w,K;typeof G=="string"?w=G:(w=G.path,K=G.matrix);var ne=new Path2D(w),oe=document.createElement("canvas"),he=oe.getContext("2d");if(!K){for(var me=1e3,de=me,be=me,Ee=0,et=0,Ye,it,vt=0;vt<me;vt+=2)for(var Ie=0;Ie<me;Ie+=2)he.isPointInPath(ne,vt,Ie,"nonzero")&&(de=Math.min(de,vt),be=Math.min(be,Ie),Ee=Math.max(Ee,vt),et=Math.max(et,Ie));Ye=Ee-de,it=et-be;var Vt=10,Gt=Math.min(Vt/Ye,Vt/it);K=[Gt,0,0,Gt,-Math.round(Ye/2+de)*Gt,-Math.round(it/2+be)*Gt]}return{type:"path",path:w,matrix:K}}function Ce(G){var w,K=1,ne="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof G=="string"?w=G:(w=G.text,K="scalar"in G?G.scalar:K,oe="fontFamily"in G?G.fontFamily:oe,ne="color"in G?G.color:ne);var he=10*K,me=""+he+"px "+oe,de=new OffscreenCanvas(he,he),be=de.getContext("2d");be.font=me;var Ee=be.measureText(w),et=Math.ceil(Ee.actualBoundingBoxRight+Ee.actualBoundingBoxLeft),Ye=Math.ceil(Ee.actualBoundingBoxAscent+Ee.actualBoundingBoxDescent),it=2,vt=Ee.actualBoundingBoxLeft+it,Ie=Ee.actualBoundingBoxAscent+it;et+=it+it,Ye+=it+it,de=new OffscreenCanvas(et,Ye),be=de.getContext("2d"),be.font=me,be.fillStyle=ne,be.fillText(w,vt,Ie);var Vt=1/K;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[Vt,0,0,Vt,-et*Vt/2,-Ye*Vt/2]}}n.exports=function(){return J().apply(this,arguments)},n.exports.reset=function(){J().reset()},n.exports.create=Le,n.exports.shapeFromPath=pe,n.exports.shapeFromText=Ce})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Jy,!1);const US=Jy.exports;Jy.exports.create;const oj=()=>{};var GT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},lj=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},zS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let E=(f&15)<<2|g>>6,A=g&63;m||(A=64,u||(E=64)),s.push(n[v],n[b],n[E],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||b==null)throw new cj;const E=l<<2|f>>4;if(s.push(E),g!==64){const A=f<<4&240|g>>2;if(s.push(A),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uj=function(t){const e=BS(t);return zS.encodeByteArray(e,!0)},Hf=function(t){return uj(t).replace(/\./g,"")},FS=function(t){try{return zS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=()=>hj().__FIREBASE_DEFAULTS__,dj=()=>{if(typeof process>"u"||typeof GT>"u")return;const t=GT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FS(t[1]);return e&&JSON.parse(e)},gd=()=>{try{return oj()||fj()||dj()||mj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HS=t=>{var e,n;return(n=(e=gd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},qS=t=>{const e=HS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},GS=()=>{var t;return(t=gd())==null?void 0:t.config},KS=t=>{var e;return(e=gd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ev(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hf(JSON.stringify(n)),Hf(JSON.stringify(u)),""].join(".")}const Fc={};function gj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fc))Fc[e]?t.emulator.push(e):t.prod.push(e);return t}function yj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let KT=!1;function tv(t,e){if(typeof window>"u"||typeof document>"u"||!qa(window.location.host)||Fc[t]===e||Fc[t]||KT)return;Fc[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=gj().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{KT=!0,u()},E}function v(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=yj(s),A=n("text"),M=document.getElementById(A)||document.createElement("span"),N=n("learnmore"),I=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),F=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;f(z),v(I,N);const ie=g();m(F,U),z.append(F,M,I,ie),document.body.appendChild(z)}l?(M.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function _j(){var e;const t=(e=gd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Tj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ej(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wj(){return!_j()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sj(){try{return typeof indexedDB=="object"}catch{return!1}}function Aj(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="FirebaseError";class gs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Rj,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?Cj(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new gs(a,f,s)}}function Cj(t,e){return t.replace(Nj,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Nj=/\{\$([^}]+)}/g;function Ij(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function La(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if($T(l)&&$T(u)){if(!La(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function $T(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Dj(t,e){const n=new Mj(t,e);return n.subscribe.bind(n)}class Mj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Vj(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Zp),a.error===void 0&&(a.error=Zp),a.complete===void 0&&(a.complete=Zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){return t&&t._delegate?t._delegate:t}class Fr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new pj;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jj(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Pj(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Pj(t){return t===Ia?void 0:t}function jj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Oj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const Lj={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},Uj=ze.INFO,Bj={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},zj=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=Bj[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nv{constructor(e){this.name=e,this._logLevel=Uj,this._logHandler=zj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const Fj=(t,e)=>e.some(n=>t instanceof n);let YT,QT;function Hj(){return YT||(YT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qj(){return QT||(QT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YS=new WeakMap,Ug=new WeakMap,QS=new WeakMap,Jp=new WeakMap,iv=new WeakMap;function Gj(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Or(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&YS.set(n,t)}).catch(()=>{}),iv.set(e,t),e}function Kj(t){if(Ug.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Ug.set(t,e)}let Bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $j(t){Bg=t(Bg)}function Yj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(eg(this),e,...n);return QS.set(s,e.sort?e.sort():[e]),Or(s)}:qj().includes(t)?function(...e){return t.apply(eg(this),e),Or(YS.get(this))}:function(...e){return Or(t.apply(eg(this),e))}}function Qj(t){return typeof t=="function"?Yj(t):(t instanceof IDBTransaction&&Kj(t),Fj(t,Hj())?new Proxy(t,Bg):t)}function Or(t){if(t instanceof IDBRequest)return Gj(t);if(Jp.has(t))return Jp.get(t);const e=Qj(t);return e!==t&&(Jp.set(t,e),iv.set(e,t)),e}const eg=t=>iv.get(t);function Xj(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Or(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Or(u.result),m.oldVersion,m.newVersion,Or(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const Wj=["get","getKey","getAll","getAllKeys","count"],Zj=["put","add","delete","clear"],tg=new Map;function XT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Zj.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Wj.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return tg.set(e,l),l}$j(t=>({...t,get:(e,n,s)=>XT(e,n)||t.get(e,n,s),has:(e,n)=>!!XT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function e4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zg="@firebase/app",WT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new nv("@firebase/app"),t4="@firebase/app-compat",n4="@firebase/analytics-compat",i4="@firebase/analytics",s4="@firebase/app-check-compat",r4="@firebase/app-check",a4="@firebase/auth",o4="@firebase/auth-compat",l4="@firebase/database",c4="@firebase/data-connect",u4="@firebase/database-compat",h4="@firebase/functions",f4="@firebase/functions-compat",d4="@firebase/installations",m4="@firebase/installations-compat",p4="@firebase/messaging",g4="@firebase/messaging-compat",y4="@firebase/performance",v4="@firebase/performance-compat",_4="@firebase/remote-config",b4="@firebase/remote-config-compat",x4="@firebase/storage",T4="@firebase/storage-compat",E4="@firebase/firestore",w4="@firebase/ai",S4="@firebase/firestore-compat",A4="firebase",R4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="[DEFAULT]",C4={[zg]:"fire-core",[t4]:"fire-core-compat",[i4]:"fire-analytics",[n4]:"fire-analytics-compat",[r4]:"fire-app-check",[s4]:"fire-app-check-compat",[a4]:"fire-auth",[o4]:"fire-auth-compat",[l4]:"fire-rtdb",[c4]:"fire-data-connect",[u4]:"fire-rtdb-compat",[h4]:"fire-fn",[f4]:"fire-fn-compat",[d4]:"fire-iid",[m4]:"fire-iid-compat",[p4]:"fire-fcm",[g4]:"fire-fcm-compat",[y4]:"fire-perf",[v4]:"fire-perf-compat",[_4]:"fire-rc",[b4]:"fire-rc-compat",[x4]:"fire-gcs",[T4]:"fire-gcs-compat",[E4]:"fire-fst",[S4]:"fire-fst-compat",[w4]:"fire-vertex","fire-js":"fire-js",[A4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,N4=new Map,Hg=new Map;function ZT(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ua(t){const e=t.name;if(Hg.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;Hg.set(e,t);for(const n of qf.values())ZT(n,t);for(const n of N4.values())ZT(n,t);return!0}function yd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ri(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new _u("app","Firebase",I4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=R4;function XS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Fg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Pr.create("bad-app-name",{appName:String(a)});if(n||(n=GS()),!n)throw Pr.create("no-options");const l=qf.get(a);if(l){if(La(n,l.options)&&La(s,l.config))return l;throw Pr.create("duplicate-app",{appName:a})}const u=new kj(a);for(const m of Hg.values())u.addComponent(m);const f=new D4(n,s,u);return qf.set(a,f),f}function sv(t=Fg){const e=qf.get(t);if(!e&&t===Fg&&GS())return XS();if(!e)throw Pr.create("no-app",{appName:t});return e}function ss(t,e,n){let s=C4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(u.join(" "));return}Ua(new Fr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firebase-heartbeat-database",V4=1,tu="firebase-heartbeat-store";let ng=null;function WS(){return ng||(ng=Xj(M4,V4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),ng}async function O4(t){try{const n=(await WS()).transaction(tu),s=await n.objectStore(tu).get(ZS(t));return await n.done,s}catch(e){if(e instanceof gs)qs.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function JT(t,e){try{const s=(await WS()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,ZS(t)),await s.done}catch(n){if(n instanceof gs)qs.warn(n.message);else{const s=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(s.message)}}}function ZS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=1024,j4=30;class k4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=e1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>j4){const u=B4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e1(),{heartbeatsToSend:s,unsentEntries:a}=L4(this._heartbeatsCache.heartbeats),l=Hf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return qs.warn(n),""}}}function e1(){return new Date().toISOString().substring(0,10)}function L4(t,e=P4){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),t1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),t1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class U4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sj()?Aj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return JT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return JT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function t1(t){return Hf(JSON.stringify({version:2,heartbeats:t})).length}function B4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){Ua(new Fr("platform-logger",e=>new Jj(e),"PRIVATE")),Ua(new Fr("heartbeat",e=>new k4(e),"PRIVATE")),ss(zg,WT,t),ss(zg,WT,"esm2020"),ss("fire-js","")}z4("");var n1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,JS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function V(){}V.prototype=C.prototype,D.F=C.prototype,D.prototype=new V,D.prototype.constructor=D,D.D=function(L,O,H){for(var j=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)j[Le-2]=arguments[Le];return C.prototype[O].apply(L,j)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,C,V){V||(V=0);const L=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)L[O]=C.charCodeAt(V++)|C.charCodeAt(V++)<<8|C.charCodeAt(V++)<<16|C.charCodeAt(V++)<<24;else for(O=0;O<16;++O)L[O]=C[V++]|C[V++]<<8|C[V++]<<16|C[V++]<<24;C=D.g[0],V=D.g[1],O=D.g[2];let H=D.g[3],j;j=C+(H^V&(O^H))+L[0]+3614090360&4294967295,C=V+(j<<7&4294967295|j>>>25),j=H+(O^C&(V^O))+L[1]+3905402710&4294967295,H=C+(j<<12&4294967295|j>>>20),j=O+(V^H&(C^V))+L[2]+606105819&4294967295,O=H+(j<<17&4294967295|j>>>15),j=V+(C^O&(H^C))+L[3]+3250441966&4294967295,V=O+(j<<22&4294967295|j>>>10),j=C+(H^V&(O^H))+L[4]+4118548399&4294967295,C=V+(j<<7&4294967295|j>>>25),j=H+(O^C&(V^O))+L[5]+1200080426&4294967295,H=C+(j<<12&4294967295|j>>>20),j=O+(V^H&(C^V))+L[6]+2821735955&4294967295,O=H+(j<<17&4294967295|j>>>15),j=V+(C^O&(H^C))+L[7]+4249261313&4294967295,V=O+(j<<22&4294967295|j>>>10),j=C+(H^V&(O^H))+L[8]+1770035416&4294967295,C=V+(j<<7&4294967295|j>>>25),j=H+(O^C&(V^O))+L[9]+2336552879&4294967295,H=C+(j<<12&4294967295|j>>>20),j=O+(V^H&(C^V))+L[10]+4294925233&4294967295,O=H+(j<<17&4294967295|j>>>15),j=V+(C^O&(H^C))+L[11]+2304563134&4294967295,V=O+(j<<22&4294967295|j>>>10),j=C+(H^V&(O^H))+L[12]+1804603682&4294967295,C=V+(j<<7&4294967295|j>>>25),j=H+(O^C&(V^O))+L[13]+4254626195&4294967295,H=C+(j<<12&4294967295|j>>>20),j=O+(V^H&(C^V))+L[14]+2792965006&4294967295,O=H+(j<<17&4294967295|j>>>15),j=V+(C^O&(H^C))+L[15]+1236535329&4294967295,V=O+(j<<22&4294967295|j>>>10),j=C+(O^H&(V^O))+L[1]+4129170786&4294967295,C=V+(j<<5&4294967295|j>>>27),j=H+(V^O&(C^V))+L[6]+3225465664&4294967295,H=C+(j<<9&4294967295|j>>>23),j=O+(C^V&(H^C))+L[11]+643717713&4294967295,O=H+(j<<14&4294967295|j>>>18),j=V+(H^C&(O^H))+L[0]+3921069994&4294967295,V=O+(j<<20&4294967295|j>>>12),j=C+(O^H&(V^O))+L[5]+3593408605&4294967295,C=V+(j<<5&4294967295|j>>>27),j=H+(V^O&(C^V))+L[10]+38016083&4294967295,H=C+(j<<9&4294967295|j>>>23),j=O+(C^V&(H^C))+L[15]+3634488961&4294967295,O=H+(j<<14&4294967295|j>>>18),j=V+(H^C&(O^H))+L[4]+3889429448&4294967295,V=O+(j<<20&4294967295|j>>>12),j=C+(O^H&(V^O))+L[9]+568446438&4294967295,C=V+(j<<5&4294967295|j>>>27),j=H+(V^O&(C^V))+L[14]+3275163606&4294967295,H=C+(j<<9&4294967295|j>>>23),j=O+(C^V&(H^C))+L[3]+4107603335&4294967295,O=H+(j<<14&4294967295|j>>>18),j=V+(H^C&(O^H))+L[8]+1163531501&4294967295,V=O+(j<<20&4294967295|j>>>12),j=C+(O^H&(V^O))+L[13]+2850285829&4294967295,C=V+(j<<5&4294967295|j>>>27),j=H+(V^O&(C^V))+L[2]+4243563512&4294967295,H=C+(j<<9&4294967295|j>>>23),j=O+(C^V&(H^C))+L[7]+1735328473&4294967295,O=H+(j<<14&4294967295|j>>>18),j=V+(H^C&(O^H))+L[12]+2368359562&4294967295,V=O+(j<<20&4294967295|j>>>12),j=C+(V^O^H)+L[5]+4294588738&4294967295,C=V+(j<<4&4294967295|j>>>28),j=H+(C^V^O)+L[8]+2272392833&4294967295,H=C+(j<<11&4294967295|j>>>21),j=O+(H^C^V)+L[11]+1839030562&4294967295,O=H+(j<<16&4294967295|j>>>16),j=V+(O^H^C)+L[14]+4259657740&4294967295,V=O+(j<<23&4294967295|j>>>9),j=C+(V^O^H)+L[1]+2763975236&4294967295,C=V+(j<<4&4294967295|j>>>28),j=H+(C^V^O)+L[4]+1272893353&4294967295,H=C+(j<<11&4294967295|j>>>21),j=O+(H^C^V)+L[7]+4139469664&4294967295,O=H+(j<<16&4294967295|j>>>16),j=V+(O^H^C)+L[10]+3200236656&4294967295,V=O+(j<<23&4294967295|j>>>9),j=C+(V^O^H)+L[13]+681279174&4294967295,C=V+(j<<4&4294967295|j>>>28),j=H+(C^V^O)+L[0]+3936430074&4294967295,H=C+(j<<11&4294967295|j>>>21),j=O+(H^C^V)+L[3]+3572445317&4294967295,O=H+(j<<16&4294967295|j>>>16),j=V+(O^H^C)+L[6]+76029189&4294967295,V=O+(j<<23&4294967295|j>>>9),j=C+(V^O^H)+L[9]+3654602809&4294967295,C=V+(j<<4&4294967295|j>>>28),j=H+(C^V^O)+L[12]+3873151461&4294967295,H=C+(j<<11&4294967295|j>>>21),j=O+(H^C^V)+L[15]+530742520&4294967295,O=H+(j<<16&4294967295|j>>>16),j=V+(O^H^C)+L[2]+3299628645&4294967295,V=O+(j<<23&4294967295|j>>>9),j=C+(O^(V|~H))+L[0]+4096336452&4294967295,C=V+(j<<6&4294967295|j>>>26),j=H+(V^(C|~O))+L[7]+1126891415&4294967295,H=C+(j<<10&4294967295|j>>>22),j=O+(C^(H|~V))+L[14]+2878612391&4294967295,O=H+(j<<15&4294967295|j>>>17),j=V+(H^(O|~C))+L[5]+4237533241&4294967295,V=O+(j<<21&4294967295|j>>>11),j=C+(O^(V|~H))+L[12]+1700485571&4294967295,C=V+(j<<6&4294967295|j>>>26),j=H+(V^(C|~O))+L[3]+2399980690&4294967295,H=C+(j<<10&4294967295|j>>>22),j=O+(C^(H|~V))+L[10]+4293915773&4294967295,O=H+(j<<15&4294967295|j>>>17),j=V+(H^(O|~C))+L[1]+2240044497&4294967295,V=O+(j<<21&4294967295|j>>>11),j=C+(O^(V|~H))+L[8]+1873313359&4294967295,C=V+(j<<6&4294967295|j>>>26),j=H+(V^(C|~O))+L[15]+4264355552&4294967295,H=C+(j<<10&4294967295|j>>>22),j=O+(C^(H|~V))+L[6]+2734768916&4294967295,O=H+(j<<15&4294967295|j>>>17),j=V+(H^(O|~C))+L[13]+1309151649&4294967295,V=O+(j<<21&4294967295|j>>>11),j=C+(O^(V|~H))+L[4]+4149444226&4294967295,C=V+(j<<6&4294967295|j>>>26),j=H+(V^(C|~O))+L[11]+3174756917&4294967295,H=C+(j<<10&4294967295|j>>>22),j=O+(C^(H|~V))+L[2]+718787259&4294967295,O=H+(j<<15&4294967295|j>>>17),j=V+(H^(O|~C))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(O+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+H&4294967295}s.prototype.v=function(D,C){C===void 0&&(C=D.length);const V=C-this.blockSize,L=this.C;let O=this.h,H=0;for(;H<C;){if(O==0)for(;H<=V;)a(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<C;)if(L[O++]=D.charCodeAt(H++),O==this.blockSize){a(this,L),O=0;break}}else for(;H<C;)if(L[O++]=D[H++],O==this.blockSize){a(this,L),O=0;break}}this.h=O,this.o+=C},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var V=D.length-8;V<D.length;++V)D[V]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,V=0;V<4;++V)for(let L=0;L<32;L+=8)D[C++]=this.g[V]>>>L&255;return D};function l(D,C){var V=f;return Object.prototype.hasOwnProperty.call(V,D)?V[D]:V[D]=C(D)}function u(D,C){this.h=C;const V=[];let L=!0;for(let O=D.length-1;O>=0;O--){const H=D[O]|0;L&&H==C||(V[O]=H,L=!1)}this.g=V}var f={};function m(D){return-128<=D&&D<128?l(D,function(C){return new u([C|0],C<0?-1:0)}):new u([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return I(g(-D));const C=[];let V=1;for(let L=0;D>=V;L++)C[L]=D/V|0,V*=4294967296;return new u(C,0)}function v(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return I(v(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=g(Math.pow(C,8));let L=b;for(let H=0;H<D.length;H+=8){var O=Math.min(8,D.length-H);const j=parseInt(D.substring(H,H+O),C);O<8?(O=g(Math.pow(C,O)),L=L.j(O).add(g(j))):(L=L.j(V),L=L.add(g(j)))}return L}var b=m(0),E=m(1),A=m(16777216);t=u.prototype,t.m=function(){if(N(this))return-I(this).m();let D=0,C=1;for(let V=0;V<this.g.length;V++){const L=this.i(V);D+=(L>=0?L:4294967296+L)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(N(this))return"-"+I(this).toString(D);const C=g(Math.pow(D,6));var V=this;let L="";for(;;){const O=ie(V,C).g;V=U(V,O.j(C));let H=((V.g.length>0?V.g[0]:V.h)>>>0).toString(D);if(V=O,M(V))return H+L;for(;H.length<6;)H="0"+H;L=H+L}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=U(this,D),N(D)?-1:M(D)?0:1};function I(D){const C=D.g.length,V=[];for(let L=0;L<C;L++)V[L]=~D.g[L];return new u(V,~D.h).add(E)}t.abs=function(){return N(this)?I(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),V=[];let L=0;for(let O=0;O<=C;O++){let H=L+(this.i(O)&65535)+(D.i(O)&65535),j=(H>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);L=j>>>16,H&=65535,j&=65535,V[O]=j<<16|H}return new u(V,V[V.length-1]&-2147483648?-1:0)};function U(D,C){return D.add(I(C))}t.j=function(D){if(M(this)||M(D))return b;if(N(this))return N(D)?I(this).j(I(D)):I(I(this).j(D));if(N(D))return I(this.j(I(D)));if(this.l(A)<0&&D.l(A)<0)return g(this.m()*D.m());const C=this.g.length+D.g.length,V=[];for(var L=0;L<2*C;L++)V[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<D.g.length;O++){const H=this.i(L)>>>16,j=this.i(L)&65535,Le=D.i(O)>>>16,We=D.i(O)&65535;V[2*L+2*O]+=j*We,F(V,2*L+2*O),V[2*L+2*O+1]+=H*We,F(V,2*L+2*O+1),V[2*L+2*O+1]+=j*Le,F(V,2*L+2*O+1),V[2*L+2*O+2]+=H*Le,F(V,2*L+2*O+2)}for(D=0;D<C;D++)V[D]=V[2*D+1]<<16|V[2*D];for(D=C;D<2*C;D++)V[D]=0;return new u(V,0)};function F(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function z(D,C){this.g=D,this.h=C}function ie(D,C){if(M(C))throw Error("division by zero");if(M(D))return new z(b,b);if(N(D))return C=ie(I(D),C),new z(I(C.g),I(C.h));if(N(C))return C=ie(D,I(C)),new z(I(C.g),C.h);if(D.g.length>30){if(N(D)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var V=E,L=C;L.l(D)<=0;)V=te(V),L=te(L);var O=le(V,1),H=le(L,1);for(L=le(L,2),V=le(V,2);!M(L);){var j=H.add(L);j.l(D)<=0&&(O=O.add(V),H=j),L=le(L,1),V=le(V,1)}return C=U(D,O.j(C)),new z(O,C)}for(O=b;D.l(C)>=0;){for(V=Math.max(1,Math.floor(D.m()/C.m())),L=Math.ceil(Math.log(V)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),H=g(V),j=H.j(C);N(j)||j.l(D)>0;)V-=L,H=g(V),j=H.j(C);M(H)&&(H=E),O=O.add(H),D=U(D,j)}return new z(O,D)}t.B=function(D){return ie(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),V=[];for(let L=0;L<C;L++)V[L]=this.i(L)&D.i(L);return new u(V,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),V=[];for(let L=0;L<C;L++)V[L]=this.i(L)|D.i(L);return new u(V,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),V=[];for(let L=0;L<C;L++)V[L]=this.i(L)^D.i(L);return new u(V,this.h^D.h)};function te(D){const C=D.g.length+1,V=[];for(let L=0;L<C;L++)V[L]=D.i(L)<<1|D.i(L-1)>>>31;return new u(V,D.h)}function le(D,C){const V=C>>5;C%=32;const L=D.g.length-V,O=[];for(let H=0;H<L;H++)O[H]=C>0?D.i(H+V)>>>C|D.i(H+V+1)<<32-C:D.i(H+V);return new u(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,JS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,jr=u}).apply(typeof n1<"u"?n1:typeof self<"u"?self:typeof window<"u"?window:{});var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eA,Pc,tA,Af,qg,nA,iA,sA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof hf=="object"&&hf];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var T=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var $=h[R];if(!($ in T))break e;T=T[$]}h=h[h.length-1],R=T[h],_=_(R),_!=R&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&T.push([R,_[R]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=m,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,$,W){for(var fe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)fe[Ve-2]=arguments[Ve];return _.prototype[$].apply(R,fe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const _=h.length;if(_>0){const T=Array(_);for(let R=0;R<_;R++)T[R]=h[R];return T}return[]}function M(h,_){for(let R=1;R<arguments.length;R++){const $=arguments[R];var T=typeof $;if(T=T!="object"?T:$?Array.isArray($)?"array":T:"null",T=="array"||T=="object"&&typeof $.length=="number"){T=h.length||0;const W=$.length||0;h.length=T+W;for(let fe=0;fe<W;fe++)h[T+fe]=$[fe]}else h.push($)}}class N{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(h){u.setTimeout(()=>{throw h},0)}function U(){var h=D;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,T){const R=z.get();R.set(_,T),this.h?this.h.next=R:this.g=R,this.h=R}}var z=new N(()=>new ie,h=>h.reset());class ie{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let te,le=!1,D=new F,C=()=>{const h=Promise.resolve(void 0);te=()=>{h.then(V)}};function V(){for(var h;h=U();){try{h.h.call(h.g)}catch(T){I(T)}var _=z;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}le=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function j(h){return/^[\s\xa0]*$/.test(h)}function Le(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(Le,O),Le.prototype.init=function(h,_){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),J=0;function ue(h,_,T,R,$){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!R,this.ha=$,this.key=++J,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h,_,T){for(const R in h)_.call(T,h[R],R,h)}function G(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function w(h){const _={};for(const T in h)_[T]=h[T];return _}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(h,_){let T,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(T in R)h[T]=R[T];for(let W=0;W<K.length;W++)T=K[W],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,_,T,R,$){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const fe=me(h,_,R,$);return fe>-1?(_=h[fe],T||(_.fa=!1)):(_=new ue(_,this.src,W,!!R,$),_.fa=T,h.push(_)),_};function he(h,_){const T=_.type;if(T in h.g){var R=h.g[T],$=Array.prototype.indexOf.call(R,_,void 0),W;(W=$>=0)&&Array.prototype.splice.call(R,$,1),W&&(pe(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function me(h,_,T,R){for(let $=0;$<h.length;++$){const W=h[$];if(!W.da&&W.listener==_&&W.capture==!!T&&W.ha==R)return $}return-1}var de="closure_lm_"+(Math.random()*1e6|0),be={};function Ee(h,_,T,R,$){if(Array.isArray(_)){for(let W=0;W<_.length;W++)Ee(h,_[W],T,R,$);return null}return T=bn(T),h&&h[We]?h.J(_,T,f(R)?!!R.capture:!1,$):et(h,_,T,!1,R,$)}function et(h,_,T,R,$,W){if(!_)throw Error("Invalid event type");const fe=f($)?!!$.capture:!!$;let Ve=Gt(h);if(Ve||(h[de]=Ve=new oe(h)),T=Ve.add(_,T,R,fe,W),T.proxy)return T;if(R=Ye(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)H||($=fe),$===void 0&&($=!1),h.addEventListener(_.toString(),R,$);else if(h.attachEvent)h.attachEvent(Ie(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ye(){function h(T){return _.call(h.src,h.listener,T)}const _=Vt;return h}function it(h,_,T,R,$){if(Array.isArray(_))for(var W=0;W<_.length;W++)it(h,_[W],T,R,$);else R=f(R)?!!R.capture:!!R,T=bn(T),h&&h[We]?(h=h.i,W=String(_).toString(),W in h.g&&(_=h.g[W],T=me(_,T,R,$),T>-1&&(pe(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[W],h.h--)))):h&&(h=Gt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=me(_,T,R,$)),(T=h>-1?_[h]:null)&&vt(T))}function vt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[We])he(_.i,h);else{var T=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(T,R,h.capture):_.detachEvent?_.detachEvent(Ie(T),R):_.addListener&&_.removeListener&&_.removeListener(R),(T=Gt(_))?(he(T,h),T.h==0&&(T.src=null,_[de]=null)):pe(h)}}}function Ie(h){return h in be?be[h]:be[h]="on"+h}function Vt(h,_){if(h.da)h=!0;else{_=new Le(_,this);const T=h.listener,R=h.ha||h.src;h.fa&&vt(h),h=T.call(R,_)}return h}function Gt(h){return h=h[de],h instanceof oe?h:null}var nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function bn(h){return typeof h=="function"?h:(h[nn]||(h[nn]=function(_){return h.handleEvent(_)}),h[nn])}function ot(){L.call(this),this.i=new oe(this),this.M=this,this.G=null}b(ot,L),ot.prototype[We]=!0,ot.prototype.removeEventListener=function(h,_,T,R){it(this,h,_,T,R)};function tt(h,_){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var $=_;_=new O(R,h),ne(_,$)}$=!0;let W,fe;if(T)for(fe=T.length-1;fe>=0;fe--)W=_.g=T[fe],$=Ii(W,R,!0,_)&&$;if(W=_.g=h,$=Ii(W,R,!0,_)&&$,$=Ii(W,R,!1,_)&&$,T)for(fe=0;fe<T.length;fe++)W=_.g=T[fe],$=Ii(W,R,!1,_)&&$}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let R=0;R<T.length;R++)pe(T[R]);delete h.g[_],h.h--}}this.G=null},ot.prototype.J=function(h,_,T,R){return this.i.add(String(h),_,!1,T,R)},ot.prototype.K=function(h,_,T,R){return this.i.add(String(h),_,!0,T,R)};function Ii(h,_,T,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let W=0;W<_.length;++W){const fe=_[W];if(fe&&!fe.da&&fe.capture==T){const Ve=fe.listener,Nt=fe.ha||fe.src;fe.fa&&he(h.i,fe),$=Ve.call(Nt,R)!==!1&&$}}return $&&!R.defaultPrevented}function Cl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Wa(h){h.g=Cl(()=>{h.g=null,h.i&&(h.i=!1,Wa(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Xt extends L{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Wa(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(h){L.call(this),this.h=h,this.g={}}b(vs,L);var Ys=[];function Zr(h){Ce(h.g,function(_,T){this.g.hasOwnProperty(T)&&vt(_)},h),h.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Zr(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=u.JSON.stringify,Za=u.JSON.parse,Jr=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Qs(){}function Ja(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sn(){O.call(this,"d")}b(sn,O);function Gn(){O.call(this,"c")}b(Gn,O);var Ct={},Ou=null;function eo(){return Ou=Ou||new ot}Ct.Ia="serverreachability";function Pu(h){O.call(this,Ct.Ia,h)}b(Pu,O);function Mi(h){const _=eo();tt(_,new Pu(_))}Ct.STAT_EVENT="statevent";function ea(h,_){O.call(this,Ct.STAT_EVENT,h),this.stat=_}b(ea,O);function Ot(h){const _=eo();tt(_,new ea(_,h))}Ct.Ja="timingevent";function Vi(h,_){O.call(this,Ct.Ja,h),this.size=_}b(Vi,O);function Oi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function Vd(h,_,T,R,$,W){h.info(function(){if(h.g)if(W){var fe="",Ve=W.split("&");for(let Ze=0;Ze<Ve.length;Ze++){var Nt=Ve[Ze].split("=");if(Nt.length>1){const _t=Nt[0];Nt=Nt[1];const Qn=_t.split("_");fe=Qn.length>=2&&Qn[1]=="type"?fe+(_t+"="+Nt+"&"):fe+(_t+"=redacted&")}}}else fe=null;else fe=W;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+T+`
`+fe})}function ju(h,_,T,R,$,W,fe){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+T+`
`+W+" "+fe})}function Pi(h,_,T,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Od(h,T)+(R?" "+R:"")})}function ta(h,_){h.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function Od(h,_){if(!h.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var T=W[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var $=R[0];if($!="noop"&&$!="stop"&&$!="close")for(let fe=1;fe<R.length;fe++)R[fe]=""}}}}return Di(W)}catch{return _}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Il;function ia(){}b(ia,Qs),ia.prototype.g=function(){return new XMLHttpRequest},Il=new ia;function _s(h){return encodeURIComponent(String(h))}function ku(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function hi(h,_,T,R){this.j=h,this.i=_,this.l=T,this.S=R||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Pt={},Wt={};function ji(h,_,T){h.M=1,h.A=sa(kt(_)),h.u=T,h.R=!0,to(h,null)}function to(h,_){h.F=Date.now(),ki(h),h.B=kt(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),ro(T.i,"t",R),h.C=0,T=h.j.L,h.h=new fi,h.g=Zu(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Xt(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,R=h.ba;var $="readystatechange";Array.isArray($)||($&&(Ys[0]=$.toString()),$=Ys);for(let W=0;W<$.length;W++){const fe=Ee(T,$[W],R||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=h.J?w(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Mi(),Vd(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const _=this.O;_&&pi(h)==3?_.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=pi(this.g),Nt=this.g.ya(),Ze=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||Ve!=4||Nt==7||(Nt==8||Ze<=0?Mi(3):Mi(2)),Li(this);var _=this.g.ca();this.X=_;var T=Pd(this);if(this.o=_==200,ju(this.i,this.v,this.B,this.l,this.S,Ve,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,$=this.g;if((R=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(R)){var W=R;break t}}W=null}if(h=W)Pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,h);else{this.o=!1,this.m=3,Ot(12),Pn(this),Kn(this);break e}}if(this.R){h=!0;let _t;for(;!this.K&&this.C<T.length;)if(_t=Uu(this,T),_t==Wt){Ve==4&&(this.m=4,Ot(14),h=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Pt){this.m=4,Ot(15),Pi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Pi(this.i,this.l,_t,null),Ui(this,_t);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||T.length!=0||this.h.h||(this.m=1,Ot(16),h=!1),this.o=this.o&&h,!h)Pi(this.i,this.l,T,"[Invalid Chunked Response]"),Pn(this),Kn(this);else if(T.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Gl(fe),fe.P=!0,Ot(11))}}else Pi(this.i,this.l,T,null),Ui(this,T);Ve==4&&Pn(this),this.o&&!this.K&&(Ve==4?Yu(this.j,this):(this.o=!1,ki(this)))}else xs(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Pn(this),Kn(this)}}}catch{}finally{}};function Pd(h){if(!Lu(h))return h.g.la();const _=rn(h.g);if(_==="")return"";let T="";const R=_.length,$=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Pn(h),Kn(h),"";h.h.i=new u.TextDecoder}for(let W=0;W<R;W++)h.h.h=!0,T+=h.h.i.decode(_[W],{stream:!($&&W==R-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Lu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Uu(h,_){var T=h.C,R=_.indexOf(`
`,T);return R==-1?Wt:(T=Number(_.substring(T,R)),isNaN(T)?Pt:(R+=1,R+T>_.length?Wt:(_=_.slice(R,R+T),h.C=R+T,_)))}hi.prototype.cancel=function(){this.K=!0,Pn(this)};function ki(h){h.T=Date.now()+h.H,no(h,h.H)}function no(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Oi(g(h.aa,h),_)}function Li(h){h.D&&(u.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ta(this.i,this.B),this.M!=2&&(Mi(),Ot(17)),Pn(this),this.m=2,Kn(this)):no(this,this.T-h)};function Kn(h){h.j.I==0||h.K||Yu(h.j,h)}function Pn(h){Li(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Zr(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ui(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||zi(T.h,h))){if(!h.L&&zi(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)uo(T),ir(T);else break e;ha(T),Ot(18)}}else T.xa=$[1],0<T.xa-T.K&&$[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Oi(g(T.Va,T),6e3));Bi(T.h)<=1&&T.ta&&(T.ta=void 0)}else $i(T,11)}else if((h.L||T.g==h)&&uo(T),!j(_))for($=T.Ba.g.parse(_),_=0;_<$.length;_++){let Ze=$[_];const _t=Ze[0];if(!(_t<=T.K))if(T.K=_t,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const Qn=Ze[3];Qn!=null&&(T.ka=Qn,T.j.info("VER="+T.ka));const Yi=Ze[4];Yi!=null&&(T.za=Yi,T.j.info("SVER="+T.za));const gi=Ze[5];gi!=null&&typeof gi=="number"&&gi>0&&(R=1.5*gi,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const yi=h.g;if(yi){const fa=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var W=R.h;W.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Vl(W,W.h),W.h=null))}if(R.G){const ho=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(R.wa=ho,st(R.J,R.G,ho))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var fe=h;if(R.na=Wu(R,R.L?R.ba:null,R.W),fe.L){Ol(R.h,fe);var Ve=fe,Nt=R.O;Nt&&(Ve.H=Nt),Ve.D&&(Li(Ve),ki(Ve)),R.g=fe}else Ku(R);T.i.length>0&&Ki(T)}else Ze[0]!="stop"&&Ze[0]!="close"||$i(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?$i(T,7):Hl(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Mi(4)}catch{}}var jt=class{constructor(h,_){this.g=h,this.map=_}};function Dl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Bi(h){return h.h?1:h.g?h.g.size:0}function zi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Vl(h,_){h.g?h.g.add(_):h.h=_}function Ol(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Dl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return A(h.i)}var Bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let $,W=null;R>=0?($=h[T].substring(0,R),W=h[T].substring(R+1)):$=h[T],_($,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof jn?(this.l=h.l,Zt(this,h.j),this.o=h.o,this.g=h.g,Xs(this,h.u),this.h=h.h,jl(this,qu(h.i)),this.m=h.m):h&&(_=String(h).match(Bu))?(this.l=!1,Zt(this,_[1]||"",!0),this.o=Fi(_[2]||""),this.g=Fi(_[3]||"",!0),Xs(this,_[4]),this.h=Fi(_[5]||"",!0),jl(this,_[6]||"",!0),this.m=Fi(_[7]||"")):(this.l=!1,this.i=new Zs(null,this.l))}jn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ra(_,so,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ra(_,so,!0),"@"),h.push(_s(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ra(T,T.charAt(0)=="/"?kl:zu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ra(T,Fu)),h.join("")},jn.prototype.resolve=function(h){const _=kt(this);let T=!!h.j;T?Zt(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var R=h.h;if(T)Xs(_,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var $=_.h.lastIndexOf("/");$!=-1&&(R=_.h.slice(0,$+1)+R)}if($=R,$==".."||$==".")R="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){R=$.lastIndexOf("/",0)==0,$=$.split("/");const W=[];for(let fe=0;fe<$.length;){const Ve=$[fe++];Ve=="."?R&&fe==$.length&&W.push(""):Ve==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&fe==$.length&&W.push("")):(W.push(Ve),R=!0)}R=W.join("/")}else R=$}return T?_.h=R:T=h.i.toString()!=="",T?jl(_,qu(h.i)):T=!!h.m,T&&(_.m=h.m),_};function kt(h){return new jn(h)}function Zt(h,_,T){h.j=T?Fi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Xs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function jl(h,_,T){_ instanceof Zs?(h.i=_,ao(h.i,h.l)):(T||(_=ra(_,Ws)),h.i=new Zs(_,h.l))}function st(h,_,T){h.i.set(_,T)}function sa(h){return st(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Fi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ra(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Sn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var so=/[#\/\?@]/g,zu=/[#\?:]/g,kl=/[#\?]/g,Ws=/[#\?@]/g,Fu=/#/g;function Zs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function An(h){h.g||(h.g=new Map,h.h=0,h.i&&io(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Zs.prototype,t.add=function(h,_){An(this),this.i=null,h=Js(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Hu(h,_){An(h),_=Js(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ll(h,_){return An(h),_=Js(h,_),h.g.has(_)}t.forEach=function(h,_){An(this),this.g.forEach(function(T,R){T.forEach(function($){h.call(_,$,R,this)},this)},this)};function Ul(h,_){An(h);let T=[];if(typeof _=="string")Ll(h,_)&&(T=T.concat(h.g.get(Js(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}t.set=function(h,_){return An(this),this.i=null,h=Js(this,h),Ll(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Ul(this,h),h.length>0?String(h[0]):_):_};function ro(h,_,T){Hu(h,_),T.length>0&&(h.i=null,h.g.set(Js(h,_),A(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var T=_[R];const $=_s(T);T=Ul(this,T);for(let W=0;W<T.length;W++){let fe=$;T[W]!==""&&(fe+="="+_s(T[W])),h.push(fe)}}return this.i=h.join("&")};function qu(h){const _=new Zs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Js(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ao(h,_){_&&!h.j&&(An(h),h.i=null,h.g.forEach(function(T,R){const $=R.toLowerCase();R!=$&&(Hu(this,R),ro(this,$,T))},h)),h.j=_}function di(h,_){const T=new ui;if(u.Image){const R=new Image;R.onload=v($n,T,"TestLoadImage: loaded",!0,_,R),R.onerror=v($n,T,"TestLoadImage: error",!1,_,R),R.onabort=v($n,T,"TestLoadImage: abort",!1,_,R),R.ontimeout=v($n,T,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function Bl(h,_){const T=new ui,R=new AbortController,$=setTimeout(()=>{R.abort(),$n(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(W=>{clearTimeout($),W.ok?$n(T,"TestPingServer: ok",!0,_):$n(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),$n(T,"TestPingServer: error",!1,_)})}function $n(h,_,T,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(T)}catch{}}function er(){this.g=new Jr}function Hi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Hi,Qs),Hi.prototype.g=function(){return new aa(this.i,this.h)};function aa(h,_){ot.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(aa,ot),t=aa.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,mi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?tr(this):mi(this),this.readyState==3&&oo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,tr(this))},t.Na=function(h){this.g&&(this.response=h,tr(this))},t.ga=function(){this.g&&tr(this)};function tr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Yn(h){let _="";return Ce(h,function(T,R){_+=R,_+=":",_+=T,_+=`\r
`}),_}function oa(h,_,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Yn(T),typeof h=="string"?T!=null&&_s(T):st(h,_,T))}function lt(h){ot.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(lt,ot);var qi=/^https?$/i,zl=["POST","PUT"];t=lt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Il.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(W){la(this,W);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)T.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())T.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),$=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(zl,_,void 0)>=0)||R||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,fe]of T)this.g.setRequestHeader(W,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){la(this,W)}};function la(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Fl(h),bs(h)}function Fl(h){h.A||(h.A=!0,tt(h,"complete"),tt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,tt(this,"complete"),tt(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},t.Xa=function(){ca(this)};function ca(h){if(h.h&&typeof l<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(tt(h,"readystatechange"),pi(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var R;if(R=W===0){let fe=String(h.D).match(Bu)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),R=!qi.test(fe?fe.toLowerCase():"")}T=R}if(T)tt(h,"complete"),tt(h,"success");else{h.o=6;try{var $=pi(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",Fl(h)}}finally{bs(h)}}}}function bs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||tt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Za(_)}};function rn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(h){const _={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(j(h[R]))continue;var T=ku(h[R]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=_[$]||[];_[$]=W,W.push(T)}G(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function nr(h){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,h),this.Za=Gi("retryDelaySeedMs",1e4,h),this.Ta=Gi("forwardChannelMaxRetries",2,h),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(h&&h.concurrentRequestLimit),this.Ba=new er,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,T,R){Ot(0),this.W=h,this.H=_||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=Wu(this,null,this.W),Ki(this)};function Hl(h){if(lo(h),h.I==3){var _=h.V++,T=kt(h.J);if(st(T,"SID",h.M),st(T,"RID",_),st(T,"TYPE","terminate"),ua(h,T),_=new hi(h,h.j,_),_.M=2,_.A=sa(kt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=Zu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ki(_)}Xu(h)}function ir(h){h.g&&(Gl(h),h.g.cancel(),h.g=null)}function lo(h){ir(h),h.v&&(u.clearTimeout(h.v),h.v=null),uo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Ki(h){if(!Ml(h.h)&&!h.m){h.m=!0;var _=h.Ea;te||C(),le||(te(),le=!0),D.add(_,h),h.D=0}}function co(h,_){return Bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Oi(g(h.Ea,h,_),Qu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new hi(this,this.j,h);let W=this.o;if(this.U&&(W?(W=w(W),ne(W,this.U)):W=this.U),this.u!==null||this.R||($.J=W,W=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Gu(this,$,_),T=kt(this.J),st(T,"RID",h),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),ua(this,T),W&&(this.R?_="headers="+_s(Yn(W))+"&"+_:this.u&&oa(T,this.u,W)),Vl(this.h,$),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",_),st(T,"SID","null"),$.U=!0,ji($,T,null)):ji($,T,_),this.I=2}}else this.I==3&&(h?ql(this,h):this.i.length==0||Ml(this.h)||ql(this))};function ql(h,_){var T;_?T=_.l:T=h.V++;const R=kt(h.J);st(R,"SID",h.M),st(R,"RID",T),st(R,"AID",h.K),ua(h,R),h.u&&h.o&&oa(R,h.u,h.o),T=new hi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Gu(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Vl(h.h,T),ji(T,R,_)}function ua(h,_){h.H&&Ce(h.H,function(T,R){st(_,R,T)}),h.l&&Ce({},function(T,R){st(_,R,T)})}function Gu(h,_,T){T=Math.min(h.i.length,T);const R=h.l?g(h.l.Ka,h.l,h):null;e:{var $=h.i;let Ve=-1;for(;;){const Nt=["count="+T];Ve==-1?T>0?(Ve=$[0].g,Nt.push("ofs="+Ve)):Ve=0:Nt.push("ofs="+Ve);let Ze=!0;for(let _t=0;_t<T;_t++){var W=$[_t].g;const Qn=$[_t].map;if(W-=Ve,W<0)Ve=Math.max(0,$[_t].g-100),Ze=!1;else try{W="req"+W+"_"||"";try{var fe=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Yi,gi]of fe){let yi=gi;f(gi)&&(yi=Di(gi)),Nt.push(W+Yi+"="+encodeURIComponent(yi))}}catch(Yi){throw Nt.push(W+"type="+encodeURIComponent("_badmap")),Yi}}catch{R&&R(Qn)}}if(Ze){fe=Nt.join("&");break e}}fe=void 0}return h=h.i.splice(0,T),_.G=h,fe}function Ku(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;te||C(),le||(te(),le=!0),D.add(_,h),h.A=0}}function ha(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Oi(g(h.Da,h),Qu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,$u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Oi(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),ir(this),$u(this))};function Gl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function $u(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=kt(h.na);st(_,"RID","rpc"),st(_,"SID",h.M),st(_,"AID",h.K),st(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&st(_,"TO",h.ia),st(_,"TYPE","xmlhttp"),ua(h,_),h.u&&h.o&&oa(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=sa(kt(_)),T.u=null,T.R=!0,to(T,h)}t.Va=function(){this.C!=null&&(this.C=null,ir(this),ha(this),Ot(19))};function uo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Yu(h,_){var T=null;if(h.g==_){uo(h),Gl(h),h.g=null;var R=2}else if(zi(h.h,_))T=_.G,Ol(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var $=h.D;R=eo(),tt(R,new Vi(R,T)),Ki(h)}else Ku(h);else if($=_.m,$==3||$==0&&_.X>0||!(R==1&&co(h,_)||R==2&&ha(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),$){case 1:$i(h,5);break;case 4:$i(h,10);break;case 3:$i(h,6);break;default:$i(h,2)}}}function Qu(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function $i(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),R=h.Ua;const $=!R;R=new jn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Zt(R,"https"),sa(R),$?di(R.toString(),T):Bl(R.toString(),T)}else Ot(2);h.I=0,h.l&&h.l.pa(_),Xu(h),lo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Xu(h){if(h.I=0,h.ja=[],h.l){const _=Pl(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ja,_),M(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function Wu(h,_,T){var R=T instanceof jn?kt(T):new jn(T);if(R.g!="")_&&(R.g=_+"."+R.g),Xs(R,R.u);else{var $=u.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const W=new jn(null);R&&Zt(W,R),_&&(W.g=_),$&&Xs(W,$),T&&(W.h=T),R=W}return T=h.G,_=h.wa,T&&_&&st(R,T,_),st(R,"VER",h.ka),ua(h,R),R}function Zu(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new lt(new Hi({ab:T})):new lt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}t=Ju.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sr(){}sr.prototype.g=function(h,_){return new xn(h,_)};function xn(h,_){ot.call(this),this.g=new nr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!j(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!j(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ts(this)}b(xn,ot),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Hl(this.g)},xn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Di(h),h=T);_.i.push(new jt(_.Ya++,h)),_.I==3&&Ki(_)},xn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,xn.Z.N.call(this)};function eh(h){sn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(eh,sn);function th(){Gn.call(this),this.status=1}b(th,Gn);function Ts(h){this.g=h}b(Ts,Ju),Ts.prototype.ra=function(){tt(this.g,"a")},Ts.prototype.qa=function(h){tt(this.g,new eh(h))},Ts.prototype.pa=function(h){tt(this.g,new th)},Ts.prototype.oa=function(){tt(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,sA=function(){return new sr},iA=function(){return eo()},nA=Ct,qg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Af=na,Nl.COMPLETE="complete",tA=Nl,Ja.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Pc=Ja,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,eA=lt}).apply(typeof hf<"u"?hf:typeof self<"u"?self:typeof window<"u"?window:{});const i1="@firebase/firestore",s1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new nv("@firebase/firestore");function qo(){return Ba.logLevel}function ge(t,...e){if(Ba.logLevel<=ze.DEBUG){const n=e.map(rv);Ba.debug(`Firestore (${Tl}): ${t}`,...n)}}function Gs(t,...e){if(Ba.logLevel<=ze.ERROR){const n=e.map(rv);Ba.error(`Firestore (${Tl}): ${t}`,...n)}}function ul(t,...e){if(Ba.logLevel<=ze.WARN){const n=e.map(rv);Ba.warn(`Firestore (${Tl}): ${t}`,...n)}}function rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,rA(t,s,n)}function rA(t,e,n){let s=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Gs(s),new Error(s)}function nt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||rA(e,a,s)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class H4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q4{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new kr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new kr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new aA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class G4{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K4{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new G4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const s=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new r1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Y4(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Fe(t,e){return t<e?-1:t>e?1:0}function Gg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return ig(a)===ig(l)?Fe(a,l):ig(a)?1:-1}return Fe(t.length,e.length)}const Q4=55296,X4=57343;function ig(t){const e=t.charCodeAt(0);return e>=Q4&&e<=X4}function hl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="__name__";class es{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=es.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Fe(e.length,n.length)}static compareSegments(e,n){const s=es.isNumericId(e),a=es.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?es.extractNumericId(e).compare(es.extractNumericId(n)):Gg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class mt extends es{construct(e,n,s){return new mt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const W4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends es{construct(e,n,s){return new fn(e,n,s)}static isValidIdentifier(e){return W4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a1}static keyField(){return new fn([a1])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new _e(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(mt.fromString(e))}static fromName(e){return new Te(mt.fromString(e).popFirst(5))}static empty(){return new Te(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e,n){if(!n)throw new _e(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z4(t,e,n,s){if(e===!0&&s===!0)throw new _e(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o1(t){if(!Te.isDocumentKey(t))throw new _e(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l1(t){if(Te.isDocumentKey(t))throw new _e(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lv(t);throw new _e(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function xu(t,e){if(!oA(t))throw new _e(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new _e(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=-62135596800,u1=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*u1);return new yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<c1)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u1}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:qt("string",yt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new yt(0,0))}static max(){return new Ne(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function J4(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new yt(n+1,0):new yt(n,s));return new qr(a,Te.empty(),e)}function ek(t){return new qr(t.readTime,t.key,nu)}class qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new qr(Ne.min(),Te.empty(),nu)}static max(){return new qr(Ne.max(),Te.empty(),nu)}}function tk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ik{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==nk)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((a=>a?ae.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{u[g]=v,++f,f===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new ae(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function sk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-1;function _d(t){return t==null}function Gf(t){return t===0&&1/t==-1/0}function rk(t){return typeof t=="number"&&Number.isInteger(t)&&!Gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="";function ak(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=h1(e)),e=ok(t.get(n),e);return h1(e)}function ok(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case lA:n+="";break;default:n+=l}}return n}function h1(t){return t+lA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new hn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d1(this.data.getIterator())}getIteratorFrom(e){return new d1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class d1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Ei([])}unionWith(e){let n=new Qt(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new uA("Invalid base64 string: "+l):l}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=lk.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="server_timestamp",fA="__type__",dA="__previous_value__",mA="__local_write_time__";function uv(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fA])==null?void 0:s.stringValue)===hA}function bd(t){const e=t.mapValue.fields[dA];return uv(e)?bd(e):e}function iu(t){const e=Gr(t.mapValue.fields[mA].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,s,a,l,u,f,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Kf="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Kf}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="__type__",uk="__max__",df={mapValue:{}},gA="__vector__",$f="value";function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uv(t)?4:fk(t)?9007199254740991:hk(t)?10:11:Ae(28295,{value:t})}function hs(t,e){if(t===e)return!0;const n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iu(t).isEqual(iu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Gr(a.timestampValue),f=Gr(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Kr(a.bytesValue).isEqual(Kr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Mt(a.doubleValue),f=Mt(l.doubleValue);return u===f?Gf(u)===Gf(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return hl(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(f1(u)!==f1(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!hs(u[m],f[m])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function ru(t,e){return(t.values||[]).find((n=>hs(n,e)))!==void 0}function fl(t,e){if(t===e)return 0;const n=$r(t),s=$r(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Mt(l.integerValue||l.doubleValue),m=Mt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return m1(t.timestampValue,e.timestampValue);case 4:return m1(iu(t),iu(e));case 5:return Gg(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Kr(l),m=Kr(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let g=0;g<f.length&&g<m.length;g++){const v=Fe(f[g],m[g]);if(v!==0)return v}return Fe(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Fe(Mt(l.latitude),Mt(u.latitude));return f!==0?f:Fe(Mt(l.longitude),Mt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return p1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){var E,A,M,N;const f=l.fields||{},m=u.fields||{},g=(E=f[$f])==null?void 0:E.arrayValue,v=(A=m[$f])==null?void 0:A.arrayValue,b=Fe(((M=g==null?void 0:g.values)==null?void 0:M.length)||0,((N=v==null?void 0:v.values)==null?void 0:N.length)||0);return b!==0?b:p1(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===df.mapValue&&u===df.mapValue)return 0;if(l===df.mapValue)return 1;if(u===df.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const E=Gg(m[b],v[b]);if(E!==0)return E;const A=fl(f[m[b]],g[v[b]]);if(A!==0)return A}return Fe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function m1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Gr(t),s=Gr(e),a=Fe(n.seconds,s.seconds);return a!==0?a:Fe(n.nanos,s.nanos)}function p1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=fl(n[a],s[a]);if(l)return l}return Fe(n.length,s.length)}function dl(t){return Kg(t)}function Kg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Kr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Kg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Kg(n.fields[u])}`;return a+"}"})(t.mapValue):Ae(61005,{value:t})}function Rf(t){switch($r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bd(t);return e?16+Rf(e):16;case 5:return 2*t.stringValue.length;case 6:return Kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Rf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ka(s.fields,((l,u)=>{a+=l.length+Rf(u)})),a})(t.mapValue);default:throw Ae(13486,{value:t})}}function $g(t){return!!t&&"integerValue"in t}function hv(t){return!!t&&"arrayValue"in t}function g1(t){return!!t&&"nullValue"in t}function y1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cf(t){return!!t&&"mapValue"in t}function hk(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pA])==null?void 0:s.stringValue)===gA}function Hc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ka(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Hc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hc(t.arrayValue.values[n]);return e}return{...t}}function fk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hc(n)}setAll(e){let n=fn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=Hc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Cf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ka(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new ai(Hc(this.value))}}function yA(t){const e=[];return Ka(t.fields,((n,s)=>{const a=new fn([n]);if(Cf(s)){const l=yA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new yn(e,0,Ne.min(),Ne.min(),Ne.min(),ai.empty(),0)}static newFoundDocument(e,n,s,a){return new yn(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new yn(e,2,n,Ne.min(),Ne.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ne.min(),Ne.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.position=e,this.inclusive=n}}function v1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Te.comparator(Te.fromName(u.referenceValue),n.key):s=fl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function _1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function dk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{}class Yt extends vA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new pk(e,n,s):n==="array-contains"?new vk(e,s):n==="in"?new _k(e,s):n==="not-in"?new bk(e,s):n==="array-contains-any"?new xk(e,s):new Yt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new gk(e,s):new yk(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fl(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fs extends vA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fs(e,n)}matches(e){return _A(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _A(t){return t.op==="and"}function bA(t){return mk(t)&&_A(t)}function mk(t){for(const e of t.filters)if(e instanceof fs)return!1;return!0}function Yg(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(bA(t))return t.filters.map((e=>Yg(e))).join(",");{const e=t.filters.map((n=>Yg(n))).join(",");return`${t.op}(${e})`}}function xA(t,e){return t instanceof Yt?(function(s,a){return a instanceof Yt&&s.op===a.op&&s.field.isEqual(a.field)&&hs(s.value,a.value)})(t,e):t instanceof fs?(function(s,a){return a instanceof fs&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&xA(u,a.filters[f])),!0):!1})(t,e):void Ae(19439)}function TA(t){return t instanceof Yt?(function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`})(t):t instanceof fs?(function(n){return n.op.toString()+" {"+n.getFilters().map(TA).join(" ,")+"}"})(t):"Filter"}class pk extends Yt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class gk extends Yt{constructor(e,n){super(e,"in",n),this.keys=EA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yk extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=EA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function EA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Te.fromName(s.referenceValue)))}class vk extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hv(n)&&ru(n.arrayValue,this.value)}}class _k extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class bk extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class xk extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function b1(t,e=null,n=[],s=[],a=null,l=null,u=null){return new Tk(t,e,n,s,a,l,u)}function fv(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Yg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),_d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>dl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>dl(s))).join(",")),e.Te=n}return e.Te}function dv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_1(t.startAt,e.startAt)&&_1(t.endAt,e.endAt)}function Qg(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ek(t,e,n,s,a,l,u,f){return new Tu(t,e,n,s,a,l,u,f)}function wA(t){return new Tu(t)}function x1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wk(t){return t.collectionGroup!==null}function qc(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Qt(fn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qf(l,s))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new Qf(fn.keyField(),s))}return e.Ie}function rs(t){const e=Me(t);return e.Ee||(e.Ee=Sk(e,qc(t))),e.Ee}function Sk(t,e){if(t.limitType==="F")return b1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qf(a.field,l)}));const n=t.endAt?new Yf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Yf(t.startAt.position,t.startAt.inclusive):null;return b1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Xg(t,e,n){return new Tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return dv(rs(t),rs(e))&&t.limitType===e.limitType}function SA(t){return`${fv(rs(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>TA(a))).join(", ")}]`),_d(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>dl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>dl(a))).join(",")),`Target(${s})`})(rs(t))}; limitType=${t.limitType})`}function Td(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Te.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of qc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,m){const g=v1(u,f,m);return u.inclusive?g<=0:g<0})(s.startAt,qc(s),a)||s.endAt&&!(function(u,f,m){const g=v1(u,f,m);return u.inclusive?g>=0:g>0})(s.endAt,qc(s),a))})(t,e)}function Ak(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AA(t){return(e,n)=>{let s=!1;for(const a of qc(t)){const l=Rk(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function Rk(t,e,n){const s=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),g=f.data.field(l);return m!==null&&g!==null?fl(m,g):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return cA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new wt(Te.comparator);function Ks(){return Ck}const RA=new wt(Te.comparator);function jc(...t){let e=RA;for(const n of t)e=e.insert(n.key,n);return e}function CA(t){let e=RA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Va(){return Gc()}function NA(){return Gc()}function Gc(){return new $a((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Nk=new wt(Te.comparator),Ik=new Qt(Te.comparator);function He(...t){let e=Ik;for(const n of t)e=e.add(n);return e}const Dk=new Qt(Fe);function Mk(){return Dk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(e)?"-0":e}}function IA(t){return{integerValue:""+t}}function Vk(t,e){return rk(e)?IA(e):mv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this._=void 0}}function Ok(t,e,n){return t instanceof au?(function(a,l){const u={fields:{[fA]:{stringValue:hA},[mA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&uv(l)&&(l=bd(l)),l&&(u.fields[dA]=l),{mapValue:u}})(n,e):t instanceof ou?MA(t,e):t instanceof lu?VA(t,e):(function(a,l){const u=DA(a,l),f=T1(u)+T1(a.Ae);return $g(u)&&$g(a.Ae)?IA(f):mv(a.serializer,f)})(t,e)}function Pk(t,e,n){return t instanceof ou?MA(t,e):t instanceof lu?VA(t,e):n}function DA(t,e){return t instanceof Xf?(function(s){return $g(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class au extends Ed{}class ou extends Ed{constructor(e){super(),this.elements=e}}function MA(t,e){const n=OA(e);for(const s of t.elements)n.some((a=>hs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends Ed{constructor(e){super(),this.elements=e}}function VA(t,e){let n=OA(e);for(const s of t.elements)n=n.filter((a=>!hs(a,s)));return{arrayValue:{values:n}}}class Xf extends Ed{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T1(t){return Mt(t.integerValue||t.doubleValue)}function OA(t){return hv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.field=e,this.transform=n}}function kk(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof ou&&a instanceof ou||s instanceof lu&&a instanceof lu?hl(s.elements,a.elements,hs):s instanceof Xf&&a instanceof Xf?hs(s.Ae,a.Ae):s instanceof au&&a instanceof au})(t.transform,e.transform)}class Lk{constructor(e,n){this.version=e,this.transformResults=n}}class Ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function PA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pv(t.key,Ai.none()):new Eu(t.key,t.data,Ai.none());{const n=t.data,s=ai.empty();let a=new Qt(fn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ya(t.key,s,new Ei(a.toArray()),Ai.none())}}function Uk(t,e,n){t instanceof Eu?(function(a,l,u){const f=a.value.clone(),m=w1(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Ya?(function(a,l,u){if(!Nf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=w1(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(jA(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Kc(t,e,n,s){return t instanceof Eu?(function(l,u,f,m){if(!Nf(l.precondition,u))return f;const g=l.value.clone(),v=S1(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ya?(function(l,u,f,m){if(!Nf(l.precondition,u))return f;const g=S1(l.fieldTransforms,m,u),v=u.data;return v.setAll(jA(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,u,f){return Nf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function Bk(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=DA(s.transform,a||null);l!=null&&(n===null&&(n=ai.empty()),n.set(s.field,l))}return n||null}function E1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&hl(s,a,((l,u)=>kk(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eu extends wd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ya extends wd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function w1(t,e,n){const s=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,Pk(u,f,n[a]))}return s}function S1(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,Ok(l,u,e))}return s}class pv extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zk extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Uk(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Kc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Kc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=NA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=PA(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((n,s)=>E1(n,s)))&&hl(this.baseMutations,e.baseMutations,((n,s)=>E1(n,s)))}}class gv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return Nk})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new gv(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Ke;function Gk(t){switch(t){case ce.OK:return Ae(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function kA(t){if(t===void 0)return Gs("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Ft.OK:return ce.OK;case Ft.CANCELLED:return ce.CANCELLED;case Ft.UNKNOWN:return ce.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ce.INTERNAL;case Ft.UNAVAILABLE:return ce.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ce.NOT_FOUND;case Ft.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ft.ABORTED:return ce.ABORTED;case Ft.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ft.DATA_LOSS:return ce.DATA_LOSS;default:return Ae(39323,{code:t})}}(Ke=Ft||(Ft={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new jr([4294967295,4294967295],0);function A1(t){const e=Kk().encode(t),n=new JS;return n.update(e),new Uint8Array(n.digest())}function R1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new jr([n,s],0),new jr([a,l],0)]}class yv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new kc(`Invalid padding: ${n}`);if(s<0)throw new kc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new kc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(jr.fromNumber(s)));return a.compare($k)===1&&(a=new jr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=A1(e),[s,a]=R1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new yv(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=A1(e),[s,a]=R1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Sd(Ne.min(),a,new wt(Fe),Ks(),He())}}class wu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wu(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class LA{constructor(e,n){this.targetId=e,this.Ce=n}}class UA{constructor(e,n,s=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class C1{constructor(){this.ve=0,this.Fe=N1(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}})),new wu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=N1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Yk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ks(),this.Je=mf(),this.He=mf(),this.Ye=new wt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Qg(l))if(s===0){const u=new Te(l.path);this.et(n,u,yn.newNoDocument(u,Ne.min()))}else nt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Kr(s).toUint8Array()}catch(m){if(m instanceof uA)return ul("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new yv(u,a,l)}catch(m){return ul(m instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Qg(f.target)){const m=new Te(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,yn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=He();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Sd(e,n,this.Ye,this.je,s);return this.je=Ks(),this.Je=mf(),this.He=mf(),this.Ye=new wt(Fe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new C1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mf(){return new wt(Te.comparator)}function N1(){return new wt(Te.comparator)}const Qk={asc:"ASCENDING",desc:"DESCENDING"},Xk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wk={and:"AND",or:"OR"};class Zk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wg(t,e){return t.useProto3Json||_d(e)?e:{value:e}}function Wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Jk(t,e){return Wf(t,e.toTimestamp())}function as(t){return nt(!!t,49232),Ne.fromTimestamp((function(n){const s=Gr(n);return new yt(s.seconds,s.nanos)})(t))}function vv(t,e){return Zg(t,e).canonicalString()}function Zg(t,e){const n=(function(a){return new mt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zA(t){const e=mt.fromString(t);return nt(KA(e),10190,{key:e.toString()}),e}function Jg(t,e){return vv(t.databaseId,e.path)}function sg(t,e){const n=zA(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(HA(n))}function FA(t,e){return vv(t.databaseId,e)}function e3(t){const e=zA(t);return e.length===4?mt.emptyPath():HA(e)}function ey(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HA(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function I1(t,e,n){return{name:Jg(t,e),fields:n.value.mapValue.fields}}function t3(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(nt(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(nt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const v=g.code===void 0?ce.UNKNOWN:kA(g.code);return new _e(v,g.message||"")})(u);n=new UA(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=sg(t,s.document.name),l=as(s.document.updateTime),u=s.document.createTime?as(s.document.createTime):Ne.min(),f=new ai({mapValue:{fields:s.document.fields}}),m=yn.newFoundDocument(a,l,u,f),g=s.targetIds||[],v=s.removedTargetIds||[];n=new If(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=sg(t,s.document),l=s.readTime?as(s.readTime):Ne.min(),u=yn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new If([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=sg(t,s.document),l=s.removedTargetIds||[];n=new If([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new qk(a,l),f=s.targetId;n=new LA(f,u)}}return n}function n3(t,e){let n;if(e instanceof Eu)n={update:I1(t,e.key,e.value)};else if(e instanceof pv)n={delete:Jg(t,e.key)};else if(e instanceof Ya)n={update:I1(t,e.key,e.data),updateMask:h3(e.fieldMask)};else{if(!(e instanceof zk))return Ae(16599,{Vt:e.type});n={verify:Jg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof au)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ou)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof lu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xf)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ae(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Jk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(t,e.precondition)),n}function i3(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?as(a.updateTime):as(l);return u.isEqual(Ne.min())&&(u=as(l)),new Lk(u,a.transformResults||[])})(n,e)))):[]}function s3(t,e){return{documents:[FA(t,e.path)]}}function r3(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=FA(t,a);const l=(function(g){if(g.length!==0)return GA(fs.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:Ko(E.field),direction:l3(E.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Wg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function a3(t){let e=e3(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){nt(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const E=qA(b);return E instanceof fs&&bA(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((E=>(function(M){return new Qf($o(M.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let E;return E=typeof b=="object"?b.value:b,_d(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(b){const E=!!b.before,A=b.values||[];return new Yf(A,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const E=!b.before,A=b.values||[];return new Yf(A,E)})(n.endAt)),Ek(e,a,u,l,f,"F",m,g)}function o3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$o(n.unaryFilter.field);return Yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=$o(n.unaryFilter.field);return Yt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=$o(n.unaryFilter.field);return Yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$o(n.unaryFilter.field);return Yt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Yt.create($o(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return fs.create(n.compositeFilter.filters.map((s=>qA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function l3(t){return Qk[t]}function c3(t){return Xk[t]}function u3(t){return Wk[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function $o(t){return fn.fromServerFormat(t.fieldPath)}function GA(t){return t instanceof Yt?(function(n){if(n.op==="=="){if(y1(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(g1(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y1(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(g1(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:c3(n.op),value:n.value}}})(t):t instanceof fs?(function(n){const s=n.getFilters().map((a=>GA(a)));return s.length===1?s[0]:{compositeFilter:{op:u3(n.op),filters:s}}})(t):Ae(54877,{filter:t})}function h3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,s,a,l=Ne.min(),u=Ne.min(),f=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.yt=e}}function d3(t){const e=a3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(){this.Cn=new p3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(qr.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class p3{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Qt(mt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Qt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$A=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn($A,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="LruGarbageCollector",g3=1048576;function V1([t,e],[n,s]){const a=Fe(t,n);return a===0?Fe(e,s):a}class y3{constructor(e){this.Ir=e,this.buffer=new Qt(V1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();V1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class v3{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(M1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?ge(M1,"Ignoring IndexedDB error during garbage collection: ",n):await El(n)}await this.Vr(3e5)}))}}class _3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(vd.ce);const s=new y3(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(D1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,f,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),qo()<=ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function b3(t,e){return new _3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.changes=new $a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Kc(s.mutation,a,Ei.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const a=Va();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=jc();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Va();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=Ks();const u=Gc(),f=(function(){return Gc()})();return n.forEach(((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ya)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Kc(v.mutation,g,v.mutation.getFieldMask(),yt.now())):u.set(g.key,Ei.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>f.set(g,new T3(v,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Gc();let a=new wt(((u,f)=>u-f)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Ei.empty();v=f.applyToLocalView(g,v),s.set(m,v);const b=(a.get(f.batchId)||He()).add(m);a=a.insert(f.batchId,b)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,v=m.value,b=NA();v.forEach((E=>{if(!l.has(E)){const A=PA(n.get(E),s.get(E));A!==null&&b.set(E,A),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ae.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(Va());let f=nu,m=l;return u.next((g=>ae.forEach(g,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{m=m.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,He()))).next((v=>({batchId:f,changes:CA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let a=jc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=jc();return this.indexManager.getCollectionParents(e,l).next((f=>ae.forEach(f,(m=>{const g=(function(b,E){return new Tu(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((b,E)=>{u=u.insert(b,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,yn.newInvalidDocument(v)))}));let f=jc();return u.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Kc(v.mutation,g,Ei.empty(),yt.now()),Td(n,g)&&(f=f.insert(m,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:as(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:d3(a.bundledQuery),readTime:as(a.readTime)}})(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.overlays=new wt(Te.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Va();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=Va(),l=n.length+1,u=new Te(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new wt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Va(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Va(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=a)););return ae.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new Hk(n,s));let l=this.qr.get(n);l===void 0&&(l=He(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.Qr=new Qt(en.$r),this.Ur=new Qt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new en(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new en(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Te(new mt([])),s=new en(n,e),a=new en(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new mt([])),s=new en(n,e),a=new en(n,e+1);let l=He();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new en(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class en{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(en.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Fk(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new en(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?cv:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new en(n,0),a=new en(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Qt(Fe);return n.forEach((a=>{const l=new en(a,0),u=new en(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{s=s.add(f.Yr)}))})),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Te.isDocumentKey(l)||(l=l.child(""));const u=new en(new Te(l),0);let f=new Qt(Fe);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),u),ae.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,(a=>{const l=new en(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new en(n,0),a=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.ri=e,this.docs=(function(){return new wt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let s=Ks();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():yn.newInvalidDocument(a))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ks();const u=n.path,f=new Te(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||tk(ek(v),s)<=0||(a.has(v.key)||Td(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ae(9500)}ii(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new N3(this)}getSize(e){return ae.resolve(this.size)}}class N3 extends x3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.persistence=e,this.si=new $a((n=>fv(n)),dv),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new _v,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.ui={},this.overlays={},this.ci=new vd(0),this.li=!1,this.li=!0,this.hi=new A3,this.referenceDelegate=e(this),this.Pi=new I3(this),this.indexManager=new m3,this.remoteDocumentCache=(function(a){return new C3(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new f3(n),this.Ii=new w3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new R3(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const a=new D3(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ae.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class D3 extends ik{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Ri=new _v,this.Vi=null}static mi(e){return new bv(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(s=>{const a=Te.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zf{constructor(e,n){this.persistence=e,this.pi=new $a((s=>ak(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=b3(this,n)}static mi(e,n){return new Zf(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rf(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=He(),a=He();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new xv(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wj()?8:sk(_n())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new M3;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(qo()<=ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(qo()<=ze.DEBUG&&ge("QueryEngine","Query:",Go(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(qo()<=ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(n))):ae.resolve())}ys(e,n){if(x1(n))return ae.resolve(null);let s=rs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Xg(n,null,"F"),s=rs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=He(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,f);return this.Cs(n,g,u,m.readTime)?this.ys(e,Xg(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return x1(n)||a.isEqual(Ne.min())?ae.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?ae.resolve(null):(qo()<=ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(n)),this.vs(e,u,n,J4(a,nu)).next((f=>f)))}))}Ds(e,n){let s=new Qt(AA(e));return n.forEach(((a,l)=>{Td(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return qo()<=ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Go(n)),this.ps.getDocumentsMatchingQuery(e,n,qr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="LocalStore",O3=3e8;class P3{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new wt(Fe),this.xs=new $a((l=>fv(l)),dv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function j3(t,e,n,s){return new P3(t,e,n,s)}async function QA(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let m=He();for(const g of a){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function k3(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,v){const b=g.batch,E=b.keys();let A=ae.resolve();return E.forEach((M=>{A=A.next((()=>v.getEntry(m,M))).next((N=>{const I=g.docVersions.get(M);nt(I!==null,48541),N.version.compareTo(I)<0&&(b.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),v.addEntry(N)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=He();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function XA(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function L3(t,e){const n=Me(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const E=a.get(b);if(!E)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let A=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(dn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,s)),a=a.insert(b,A),(function(N,I,U){return N.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=O3?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,A,v)&&f.push(n.Pi.updateTargetData(l,A))}));let m=Ks(),g=He();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(U3(l,u,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(Ne.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return ae.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function U3(t,e,n){let s=He(),a=He();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Ks();return n.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):ge(Tv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function B3(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function z3(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Vr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ty(t,e,n){const s=Me(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!wl(u))throw u;ge(Tv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function O1(t,e,n){const s=Me(t);let a=Ne.min(),l=He();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const b=Me(m),E=b.xs.get(v);return E!==void 0?ae.resolve(b.Ms.get(E)):b.Pi.getTargetData(g,v)})(s,u,rs(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ne.min(),n?l:He()))).next((f=>(F3(s,Ak(e),f),{documents:f,Qs:l})))))}function F3(t,e,n){let s=t.Os.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class P1{constructor(){this.activeTargetIds=Mk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H3{constructor(){this.Mo=new P1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new P1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="ConnectivityMonitor";class k1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(j1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(j1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf=null;function ny(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="RestConnection",G3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Kf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=ny(),f=this.zo(e,n.toUriEncodedString());ge(rg,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),v=qa(g);return this.Jo(e,f,m,s,v).then((b=>(ge(rg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw ul(rg,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=G3[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class Y3 extends K3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=ny();return new Promise(((f,m)=>{const g=new eA;g.setWithCredentials(!0),g.listenOnce(tA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Af.NO_ERROR:const b=g.getResponseJson();ge(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case Af.TIMEOUT:ge(pn,`RPC '${e}' ${u} timed out`),m(new _e(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Af.HTTP_ERROR:const E=g.getStatus();if(ge(pn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A==null?void 0:A.error;if(M&&M.status&&M.message){const N=(function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(F)>=0?F:ce.UNKNOWN})(M.status);m(new _e(N,M.message))}else m(new _e(ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new _e(ce.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ge(pn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);ge(pn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=ny(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=sA(),f=iA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");ge(pn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=u.createWebChannel(v,m);this.I_(b);let E=!1,A=!1;const M=new $3({Yo:I=>{A?ge(pn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(E||(ge(pn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),ge(pn,`RPC '${e}' stream ${a} sending:`,I),b.send(I))},Zo:()=>b.close()}),N=(I,U,F)=>{I.listen(U,(z=>{try{F(z)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return N(b,Pc.EventType.OPEN,(()=>{A||(ge(pn,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),N(b,Pc.EventType.CLOSE,(()=>{A||(A=!0,ge(pn,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(b))})),N(b,Pc.EventType.ERROR,(I=>{A||(A=!0,ul(pn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),M.a_(new _e(ce.UNAVAILABLE,"The operation could not be completed")))})),N(b,Pc.EventType.MESSAGE,(I=>{var U;if(!A){const F=I.data[0];nt(!!F,16349);const z=F,ie=(z==null?void 0:z.error)||((U=z[0])==null?void 0:U.error);if(ie){ge(pn,`RPC '${e}' stream ${a} received error:`,ie);const te=ie.status;let le=(function(V){const L=Ft[V];if(L!==void 0)return kA(L)})(te),D=ie.message;le===void 0&&(le=ce.INTERNAL,D="Unknown error status: "+te+" with message "+ie.message),A=!0,M.a_(new _e(le,D)),b.close()}else ge(pn,`RPC '${e}' stream ${a} received:`,F),M.u_(F)}})),N(f,nA.STAT_EVENT,(I=>{I.stat===qg.PROXY?ge(pn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===qg.NOPROXY&&ge(pn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){return new Zk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="PersistentStream";class ZA{constructor(e,n,s,a,l,u,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Gs(n.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(L1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(L1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Q3 extends ZA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=t3(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?as(u.readTime):Ne.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ey(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=Qg(m)?{documents:s3(l,m)}:{query:r3(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=BA(l,u.resumeToken);const g=Wg(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ne.min())>0){f.readTime=Wf(l,u.snapshotVersion.toTimestamp());const g=Wg(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=o3(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ey(this.serializer),n.removeTarget=e,this.q_(n)}}class X3 extends ZA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=i3(e.writeResults,e.commitTime),s=as(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ey(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>n3(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{}class Z3 extends W3{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Zg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ce.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Zg(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class J3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gs(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class e6{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Qa(this)&&(ge(za,"Restarting streams for network reachability change."),await(async function(m){const g=Me(m);g.Ea.add(4),await Su(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rd(g)})(this))}))})),this.Ra=new J3(s,a)}}async function Rd(t){if(Qa(t))for(const e of t.da)await e(!0)}async function Su(t){for(const e of t.da)await e(!1)}function JA(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Av(n)?Sv(n):Sl(n).O_()&&wv(n,e))}function Ev(t,e){const n=Me(t),s=Sl(n);n.Ia.delete(e),s.O_()&&e2(n,e),n.Ia.size===0&&(s.O_()?s.L_():Qa(n)&&n.Ra.set("Unknown"))}function wv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sl(t).Y_(e)}function e2(t,e){t.Va.Ue(e),Sl(t).Z_(e)}function Sv(t){t.Va=new Yk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sl(t).start(),t.Ra.ua()}function Av(t){return Qa(t)&&!Sl(t).x_()&&t.Ia.size>0}function Qa(t){return Me(t).Ea.size===0}function t2(t){t.Va=void 0}async function t6(t){t.Ra.set("Online")}async function n6(t){t.Ia.forEach(((e,n)=>{wv(t,e)}))}async function i6(t,e){t2(t),Av(t)?(t.Ra.ha(e),Sv(t)):t.Ra.set("Unknown")}async function s6(t,e,n){if(t.Ra.set("Online"),e instanceof UA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){ge(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jf(t,s)}else if(e instanceof If?t.Va.Ze(e):e instanceof LA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const s=await XA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),e2(l,m);const b=new Vr(v.target,m,g,v.sequenceNumber);wv(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){ge(za,"Failed to raise snapshot:",s),await Jf(t,s)}}async function Jf(t,e,n){if(!wl(e))throw e;t.Ea.add(1),await Su(t),t.Ra.set("Offline"),n||(n=()=>XA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(za,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rd(t)}))}function n2(t,e){return e().catch((n=>Jf(t,n,e)))}async function Cd(t){const e=Me(t),n=Yr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cv;for(;r6(e);)try{const a=await B3(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,a6(e,a)}catch(a){await Jf(e,a)}i2(e)&&s2(e)}function r6(t){return Qa(t)&&t.Ta.length<10}function a6(t,e){t.Ta.push(e);const n=Yr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function i2(t){return Qa(t)&&!Yr(t).x_()&&t.Ta.length>0}function s2(t){Yr(t).start()}async function o6(t){Yr(t).ra()}async function l6(t){const e=Yr(t);for(const n of t.Ta)e.ea(n.mutations)}async function c6(t,e,n){const s=t.Ta.shift(),a=gv.from(s,e,n);await n2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Cd(t)}async function u6(t,e){e&&Yr(t).X_&&await(async function(s,a){if((function(u){return Gk(u)&&u!==ce.ABORTED})(a.code)){const l=s.Ta.shift();Yr(s).B_(),await n2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Cd(s)}})(t,e),i2(t)&&s2(t)}async function U1(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ge(za,"RemoteStore received new credentials");const s=Qa(n);n.Ea.add(3),await Su(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rd(n)}async function h6(t,e){const n=Me(t);e?(n.Ea.delete(2),await Rd(n)):e||(n.Ea.add(2),await Su(n),n.Ra.set("Unknown"))}function Sl(t){return t.ma||(t.ma=(function(n,s,a){const l=Me(n);return l.sa(),new Q3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:t6.bind(null,t),t_:n6.bind(null,t),r_:i6.bind(null,t),H_:s6.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Av(t)?Sv(t):t.Ra.set("Unknown")):(await t.ma.stop(),t2(t))}))),t.ma}function Yr(t){return t.fa||(t.fa=(function(n,s,a){const l=Me(n);return l.sa(),new X3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:o6.bind(null,t),r_:u6.bind(null,t),ta:l6.bind(null,t),na:c6.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cd(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(za,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new Rv(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(t,e){if(Gs("AsyncQueue",`${e}: ${t}`),wl(t))return new _e(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=jc(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.ga=new wt(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class pl{constructor(e,n,s,a,l,u,f,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new pl(e,n,tl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class d6{constructor(){this.queries=z1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Me(n),l=a.queries;a.queries=z1(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new _e(ce.ABORTED,"Firestore shutting down"))}}function z1(){return new $a((t=>SA(t)),xd)}async function m6(t,e){const n=Me(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new f6,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=Cv(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Nv(n)}async function p6(t,e){const n=Me(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function g6(t,e){const n=Me(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(s=!0);u.wa=a}}s&&Nv(n)}function y6(t,e,n){const s=Me(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Nv(t){t.Ca.forEach((e=>{e.next()}))}var iy,F1;(F1=iy||(iy={})).Ma="default",F1.Cache="cache";class v6{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new pl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.key=e}}class a2{constructor(e){this.key=e}}class _6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=AA(e),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new B1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const E=a.get(v),A=Td(this.query,b)?b:null,M=!!E&&this.mutatedKeys.has(E.key),N=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;E&&A?E.data.isEqual(A.data)?M!==N&&(s.track({type:3,doc:A}),I=!0):this.su(E,A)||(s.track({type:2,doc:A}),I=!0,(m&&this.eu(A,m)>0||g&&this.eu(A,g)<0)&&(f=!0)):!E&&A?(s.track({type:0,doc:A}),I=!0):E&&!A&&(s.track({type:1,doc:E}),I=!0,(m||g)&&(f=!0)),I&&(A?(u=u.add(A),l=N?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(A,M){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:I})}};return N(A)-N(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new pl(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new a2(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new r2(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Iv="SyncEngine";class b6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class x6{constructor(e){this.key=e,this.hu=!1}}class T6{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new $a((f=>SA(f)),xd),this.Iu=new Map,this.Eu=new Set,this.du=new wt(Te.comparator),this.Au=new Map,this.Ru=new _v,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E6(t,e,n=!0){const s=f2(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await o2(s,e,n,!0),a}async function w6(t,e){const n=f2(t);await o2(n,e,!0,!1)}async function o2(t,e,n,s){const a=await z3(t.localStore,rs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await S6(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&JA(t.remoteStore,a),f}async function S6(t,e,n,s,a){t.pu=(b,E,A)=>(async function(N,I,U,F){let z=I.view.ru(U);z.Cs&&(z=await O1(N.localStore,I.query,!1).then((({documents:D})=>I.view.ru(D,z))));const ie=F&&F.targetChanges.get(I.targetId),te=F&&F.targetMismatches.get(I.targetId)!=null,le=I.view.applyChanges(z,N.isPrimaryClient,ie,te);return q1(N,I.targetId,le.au),le.snapshot})(t,b,E,A);const l=await O1(t.localStore,e,!0),u=new _6(e,l.Qs),f=u.ru(l.documents),m=wu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(f,t.isPrimaryClient,m);q1(t,n,g.au);const v=new b6(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function A6(t,e,n){const s=Me(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!xd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ty(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Ev(s.remoteStore,a.targetId),sy(s,a.targetId)})).catch(El)):(sy(s,a.targetId),await ty(s.localStore,a.targetId,!0))}async function R6(t,e){const n=Me(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ev(n.remoteStore,s.targetId))}async function C6(t,e,n){const s=P6(t);try{const a=await(function(u,f){const m=Me(u),g=yt.now(),v=f.reduce(((A,M)=>A.add(M.key)),He());let b,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=Ks(),N=He();return m.Ns.getEntries(A,v).next((I=>{M=I,M.forEach(((U,F)=>{F.isValidDocument()||(N=N.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,M))).next((I=>{b=I;const U=[];for(const F of f){const z=Bk(F,b.get(F.key).overlayedDocument);z!=null&&U.push(new Ya(F.key,z,yA(z.value.mapValue),Ai.exists(!0)))}return m.mutationQueue.addMutationBatch(A,g,U,f)})).next((I=>{E=I;const U=I.applyToLocalDocumentSet(b,N);return m.documentOverlayCache.saveOverlays(A,I.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:CA(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new wt(Fe)),g=g.insert(f,m),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await Au(s,a.changes),await Cd(s.remoteStore)}catch(a){const l=Cv(a,"Failed to persist write");n.reject(l)}}async function l2(t,e){const n=Me(t);try{const s=await L3(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?nt(u.hu,14607):a.removedDocuments.size>0&&(nt(u.hu,42227),u.hu=!1))})),await Au(n,s,e)}catch(s){await El(s)}}function H1(t,e,n){const s=Me(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Me(u);m.onlineState=f;let g=!1;m.queries.forEach(((v,b)=>{for(const E of b.Sa)E.va(f)&&(g=!0)})),g&&Nv(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function N6(t,e,n){const s=Me(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new wt(Te.comparator);u=u.insert(l,yn.newNoDocument(l,Ne.min()));const f=He().add(l),m=new Sd(Ne.min(),new Map,new wt(Fe),u,f);await l2(s,m),s.du=s.du.remove(l),s.Au.delete(e),Dv(s)}else await ty(s.localStore,e,!1).then((()=>sy(s,e,n))).catch(El)}async function I6(t,e){const n=Me(t),s=e.batch.batchId;try{const a=await k3(n.localStore,e);u2(n,s,null),c2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,a)}catch(a){await El(a)}}async function D6(t,e,n){const s=Me(t);try{const a=await(function(u,f){const m=Me(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,f).next((b=>(nt(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);u2(s,e,n),c2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Au(s,a)}catch(a){await El(a)}}function c2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function u2(t,e,n){const s=Me(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||h2(t,s)}))}function h2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ev(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Dv(t))}function q1(t,e,n){for(const s of n)s instanceof r2?(t.Ru.addReference(s.key,e),M6(t,s)):s instanceof a2?(ge(Iv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||h2(t,s.key)):Ae(19791,{wu:s})}function M6(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ge(Iv,"New document in limbo: "+n),t.Eu.add(s),Dv(t))}function Dv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(mt.fromString(e)),s=t.fu.next();t.Au.set(s,new x6(n)),t.du=t.du.insert(n,s),JA(t.remoteStore,new Vr(rs(wA(n.path)),s,"TargetPurposeLimboResolution",vd.ce))}}async function Au(t,e,n){const s=Me(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){a.push(g);const b=xv.As(m.targetId,g);l.push(b)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,g){const v=Me(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ae.forEach(g,(E=>ae.forEach(E.Es,(A=>v.persistence.referenceDelegate.addReference(b,E.targetId,A))).next((()=>ae.forEach(E.ds,(A=>v.persistence.referenceDelegate.removeReference(b,E.targetId,A)))))))))}catch(b){if(!wl(b))throw b;ge(Tv,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const A=v.Ms.get(E),M=A.snapshotVersion,N=A.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(E,N)}}})(s.localStore,l))}async function V6(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ge(Iv,"User change. New user:",e.toKey());const s=await QA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new _e(ce.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Ls)}}function O6(t,e){const n=Me(t),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let a=He();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function f2(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N6.bind(null,e),e.Pu.H_=g6.bind(null,e.eventManager),e.Pu.yu=y6.bind(null,e.eventManager),e}function P6(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D6.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return j3(this.persistence,new V3,e.initialUser,this.serializer)}Cu(e){return new YA(bv.mi,this.serializer)}Du(e){return new H3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class j6 extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof Zf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new v3(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new YA((s=>Zf.mi(s,n)),this.serializer)}}class ry{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>H1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=V6.bind(null,this.syncEngine),await h6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d6})()}createDatastore(e){const n=Ad(e.databaseInfo.databaseId),s=(function(l){return new Y3(l)})(e.databaseInfo);return(function(l,u,f,m){return new Z3(l,u,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new e6(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>H1(this.syncEngine,n,0)),(function(){return k1.v()?new k1:new q3})())}createSyncEngine(e,n){return(function(a,l,u,f,m,g,v){const b=new T6(a,l,u,f,m,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Me(a);ge(za,"RemoteStore shutting down."),l.Ea.add(5),await Su(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ry.provider={build:()=>new ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="FirestoreClient";class L6{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=av.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ge(Qr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ge(Qr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Cv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await QA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function G1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U6(t);ge(Qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>U1(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>U1(e.remoteStore,a))),t._onlineComponents=e}async function U6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Qr,"Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new ed)}}else ge(Qr,"Using default OfflineComponentProvider"),await og(t,new j6(void 0));return t._offlineComponents}async function d2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Qr,"Using user provided OnlineComponentProvider"),await G1(t,t._uninitializedComponentsProvider._online)):(ge(Qr,"Using default OnlineComponentProvider"),await G1(t,new ry))),t._onlineComponents}function B6(t){return d2(t).then((e=>e.syncEngine))}async function z6(t){const e=await d2(t),n=e.eventManager;return n.onListen=E6.bind(null,e.syncEngine),n.onUnlisten=A6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R6.bind(null,e.syncEngine),n}function F6(t,e,n={}){const s=new kr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,g){const v=new k6({next:E=>{v.Nu(),u.enqueueAndForget((()=>p6(l,b))),E.fromCache&&m.source==="server"?g.reject(new _e(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new v6(f,v,{includeMetadataChanges:!0,qa:!0});return m6(l,b)})(await z6(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="firestore.googleapis.com",$1=!0;class Y1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p2,this.ssl=$1}else this.host=e.host,this.ssl=e.ssl??$1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$A;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g3)throw new _e(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ru{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new F4;switch(s.type){case"firstParty":return new K4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=K1.get(n);s&&(ge("ComponentProvider","Removing Datastore"),K1.delete(n),s.terminate())})(this),Promise.resolve()}}function H6(t,e,n,s={}){var g;t=Hr(t,Ru);const a=qa(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(ev(`https://${f}`),tv("Firestore",!0)),l.host!==p2&&l.host!==f&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!La(m,u)&&(t._setSettings(m),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=gn.MOCK_USER;else{v=$S(s.mockUserToken,(g=t._app)==null?void 0:g.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new _e(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new gn(E)}t._authCredentials=new H4(new aA(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cu(this.firestore,e,this._query)}}class tn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(xu(n,tn._jsonSchema))return new tn(e,s||null,new Te(mt.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:qt("string",tn._jsonSchemaVersion),referencePath:qt("string")};class Lr extends Cu{constructor(e,n,s){super(e,n,wA(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new Te(e))}withConverter(e){return new Lr(this.firestore,e,this._path)}}function $c(t,e,...n){if(t=wn(t),ov("collection","path",e),t instanceof Ru){const s=mt.fromString(e,...n);return l1(s),new Lr(t,null,s)}{if(!(t instanceof tn||t instanceof Lr))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(mt.fromString(e,...n));return l1(s),new Lr(t.firestore,null,s)}}function q6(t,e){if(t=Hr(t,Ru),ov("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cu(t,null,(function(s){return new Tu(mt.emptyPath(),s)})(e))}function Nu(t,e,...n){if(t=wn(t),arguments.length===1&&(e=av.newId()),ov("doc","path",e),t instanceof Ru){const s=mt.fromString(e,...n);return o1(s),new tn(t,null,new Te(s))}{if(!(t instanceof tn||t instanceof Lr))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(mt.fromString(e,...n));return o1(s),new tn(t.firestore,t instanceof Lr?t.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="AsyncQueue";class X1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WA(this,"async_queue_retry"),this._c=()=>{const s=ag();s&&ge(Q1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;ge(Q1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Gs("INTERNAL UNHANDLED ERROR: ",W1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Rv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:W1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function W1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Iu extends Ru{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new X1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X1(e),this._firestoreClient=void 0,await e}}}function G6(t,e){const n=typeof t=="object"?t:sv(),s=typeof t=="string"?t:Kf,a=yd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=qS("firestore");l&&H6(a,...l)}return a}function g2(t){if(t._terminated)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||K6(t),t._firestoreClient}function K6(t){var s,a,l;const e=t._freezeSettings(),n=(function(f,m,g,v){return new ck(f,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,m2(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new L6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(dn.fromBase64String(e))}catch(n){throw new _e(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oi(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xu(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:qt("string",oi._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:os._jsonSchemaVersion}}static fromJSON(e){if(xu(e,os._jsonSchema))return new os(e.latitude,e.longitude)}}os._jsonSchemaVersion="firestore/geoPoint/1.0",os._jsonSchema={type:qt("string",os._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xu(e,ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ls(e.vectorValues);throw new _e(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:qt("string",ls._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=/^__.*__$/;class Y6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}function y2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class Ov{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ov({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return td(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(y2(this.Ac)&&$6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Q6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ad(e)}Cc(e,n,s,a=!1){return new Ov({Ac:e,methodName:n,Dc:s,path:fn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v2(t){const e=t._freezeSettings(),n=Ad(t._databaseId);return new Q6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _2(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);E2("Data must be an object, but it was:",u,s);const f=x2(s,u);let m,g;if(l.merge)m=new Ei(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const E=X6(e,b,n);if(!u.contains(E))throw new _e(ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Z6(v,E)||v.push(E)}m=new Ei(v),g=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=u.fieldTransforms;return new Y6(new ai(f),m,g)}class Pv extends Vv{_toFieldTransform(e){return new jk(e.path,new au)}isEqual(e){return e instanceof Pv}}function b2(t,e){if(T2(t=wn(t)))return E2("Unsupported field value:",e,t),x2(t,e);if(t instanceof Vv)return(function(s,a){if(!y2(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let m=b2(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Vk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=yt.fromDate(s);return{timestampValue:Wf(a.serializer,l)}}if(s instanceof yt){const l=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wf(a.serializer,l)}}if(s instanceof os)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oi)return{bytesValue:BA(a.serializer,s._byteString)};if(s instanceof tn){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ls)return(function(u,f){return{mapValue:{fields:{[pA]:{stringValue:gA},[$f]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return mv(f.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${lv(s)}`)})(t,e)}function x2(t,e){const n={};return cA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(t,((s,a)=>{const l=b2(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function T2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof os||t instanceof oi||t instanceof tn||t instanceof Vv||t instanceof ls)}function E2(t,e,n){if(!T2(n)||!oA(n)){const s=lv(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function X6(t,e,n){if((e=wn(e))instanceof Mv)return e._internalPath;if(typeof e=="string")return w2(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const W6=new RegExp("[~\\*/\\[\\]]");function w2(t,e,n){if(e.search(W6)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mv(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new _e(ce.INVALID_ARGUMENT,f+t+m)}function Z6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J6 extends S2{data(){return super.data()}}function A2(t,e){return typeof e=="string"?w2(t,e):e instanceof Mv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t5{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ka(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[$f].arrayValue)==null?void 0:a.values)==null?void 0:l.map((u=>Mt(u.doubleValue)));return new ls(n)}convertGeoPoint(e){return new os(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=mt.fromString(e);nt(KA(s),9688,{name:e});const a=new su(s.get(1),s.get(3)),l=new Te(s.popFirst(5));return a.isEqual(n)||Gs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class gf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nl extends S2{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(A2("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",nl._jsonSchema={type:qt("string",nl._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Df extends nl{data(e={}){return super.data(e)}}class il{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new gf(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Df(this._firestore,this._userDataWriter,s.key,s,new gf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Df(a._firestore,a._userDataWriter,f.doc.key,f.doc,new gf(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Df(a._firestore,a._userDataWriter,f.doc.key,f.doc,new gf(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:n5(f.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=av.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function n5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}il._jsonSchemaVersion="firestore/querySnapshot/1.0",il._jsonSchema={type:qt("string",il._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class i5 extends t5{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function yf(t){t=Hr(t,Cu);const e=Hr(t.firestore,Iu),n=g2(e),s=new i5(e);return e5(t._query),F6(n,t._query).then((a=>new il(e,s,t,a)))}function C2(t,e,n){t=Hr(t,tn);const s=Hr(t.firestore,Iu),a=R2(t.converter,e,n);return jv(s,[_2(v2(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ai.none())])}function N2(t){return jv(Hr(t.firestore,Iu),[new pv(t._key,Ai.none())])}function I2(t,e){const n=Hr(t.firestore,Iu),s=Nu(t),a=R2(t.converter,e);return jv(n,[_2(v2(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Ai.exists(!1))]).then((()=>s))}function jv(t,e){return(function(s,a){const l=new kr;return s.asyncQueue.enqueueAndForget((async()=>C6(await B6(s),a,l))),l.promise})(g2(t),e)}function gl(){return new Pv("serverTimestamp")}(function(e,n=!0){(function(a){Tl=a})(Ga),Ua(new Fr("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Iu(new q4(s.getProvider("auth-internal")),new $4(u,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ss(i1,s1,e),ss(i1,s1,"esm2020")})();var s5="firebase",r5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(s5,r5,"app");function D2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a5=D2,M2=new _u("auth","Firebase",D2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new nv("@firebase/auth");function o5(t,...e){nd.logLevel<=ze.WARN&&nd.warn(`Auth (${Ga}): ${t}`,...e)}function Mf(t,...e){nd.logLevel<=ze.ERROR&&nd.error(`Auth (${Ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,...e){throw kv(t,...e)}function cs(t,...e){return kv(t,...e)}function V2(t,e,n){const s={...a5(),[e]:n};return new _u("auth","Firebase",s).create(e,{appName:t.name})}function Ur(t){return V2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return M2.create(t,...e)}function Se(t,e,...n){if(!t)throw kv(e,...n)}function Ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mf(e),new Error(e)}function $s(t,e){t||Ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function l5(){return Z1()==="http:"||Z1()==="https:"}function Z1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l5()||xj()||"connection"in navigator)?navigator.onLine:!0}function u5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=vj()||Tj()}get(){return c5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d5=new Du(3e4,6e4);function Xa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wr(t,e,n,s,a={}){return P2(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=bu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return bj()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&qa(t.emulatorConfig.host)&&(g.credentials="include"),O2.fetch()(await j2(t,t.config.apiHost,n,f),g)})}async function P2(t,e,n){t._canInitEmulator=!1;const s={...h5,...e};try{const a=new p5(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw vf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw vf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw vf(t,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw V2(t,v,g);Ri(t,v)}}catch(a){if(a instanceof gs)throw a;Ri(t,"network-request-failed",{message:String(a)})}}async function Nd(t,e,n,s,a={}){const l=await Wr(t,e,n,s,a);return"mfaPendingCredential"in l&&Ri(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function j2(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Lv(t.config,a):`${t.config.apiScheme}://${a}`;return f5.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function m5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class p5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(cs(this.auth,"network-request-failed")),d5.get())})}}function vf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=cs(t,e,s);return a.customData._tokenResponse=n,a}function J1(t){return t!==void 0&&t.enterprise!==void 0}class g5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return m5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function y5(t,e){return Wr(t,"GET","/v2/recaptchaConfig",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e){return Wr(t,"POST","/v1/accounts:delete",e)}async function id(t,e){return Wr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _5(t,e=!1){const n=wn(t),s=await n.getIdToken(e),a=Uv(s);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Yc(lg(a.auth_time)),issuedAtTime:Yc(lg(a.iat)),expirationTime:Yc(lg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function lg(t){return Number(t)*1e3}function Uv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const a=FS(n);return a?JSON.parse(a):(Mf("Failed to decode base64 JWT payload"),null)}catch(a){return Mf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function eE(t){const e=Uv(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gs&&b5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function b5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t){var b;const e=t.auth,n=await t.getIdToken(),s=await cu(t,id(e,{idToken:n}));Se(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(b=a.providerUserInfo)!=null&&b.length?k2(a.providerUserInfo):[],u=E5(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),g=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function T5(t){const e=wn(t);await sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E5(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function k2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e){const n=await P2(t,{},async()=>{const s=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await j2(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&qa(t.emulatorConfig.host)&&(m.credentials="include"),O2.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S5(t,e){return Wr(t,"POST","/v2/accounts:revokeToken",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=eE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await w5(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new sl;return s&&(Se(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new x5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new oy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _5(this,e)}reload(){return T5(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await sd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await cu(this,v5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:A,providerData:M,stsTokenManager:N}=n;Se(b&&N,e,"internal-error");const I=sl.fromJSON(this.name,N);Se(typeof b=="string",e,"internal-error"),Rr(s,e.name),Rr(a,e.name),Se(typeof E=="boolean",e,"internal-error"),Se(typeof A=="boolean",e,"internal-error"),Rr(l,e.name),Rr(u,e.name),Rr(f,e.name),Rr(m,e.name),Rr(g,e.name),Rr(v,e.name);const U=new wi({uid:b,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:I,createdAt:g,lastLoginAt:v});return M&&Array.isArray(M)&&(U.providerData=M.map(F=>({...F}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,s=!1){const a=new sl;a.updateFromServerResponse(n);const l=new wi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await sd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?k2(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new sl;f.updateFromIdToken(s);const m=new wi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;function Us(t){$s(t instanceof Function,"Expected a class definition");let e=tE.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}L2.type="NONE";const nE=L2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e,n){return`firebase:${t}:${e}:${n}`}class rl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Vf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Vf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await id(this.auth,{idToken:e}).catch(()=>{});return n?wi._fromGetAccountInfoResponse(this.auth,n,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new rl(Us(nE),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Us(nE);const u=Vf(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const v=await g._get(u);if(v){let b;if(typeof v=="string"){const E=await id(e,{idToken:v}).catch(()=>{});if(!E)break;b=await wi._fromGetAccountInfoResponse(e,E,v)}else b=wi._fromJSON(e,v);g!==l&&(f=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new rl(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new rl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q2(e))return"Blackberry";if(G2(e))return"Webos";if(B2(e))return"Safari";if((e.includes("chrome/")||z2(e))&&!e.includes("edge/"))return"Chrome";if(H2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function U2(t=_n()){return/firefox\//i.test(t)}function B2(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z2(t=_n()){return/crios\//i.test(t)}function F2(t=_n()){return/iemobile/i.test(t)}function H2(t=_n()){return/android/i.test(t)}function q2(t=_n()){return/blackberry/i.test(t)}function G2(t=_n()){return/webos/i.test(t)}function Bv(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A5(t=_n()){var e;return Bv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function R5(){return Ej()&&document.documentMode===10}function K2(t=_n()){return Bv(t)||H2(t)||G2(t)||q2(t)||/windows phone/i.test(t)||F2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e=[]){let n;switch(t){case"Browser":n=iE(_n());break;case"Worker":n=`${iE(_n())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ga}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e={}){return Wr(t,"GET","/v2/passwordPolicy",Xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=6;class D5{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??I5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new C5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Us(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await id(this,{idToken:e}),s=await wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ri(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&(m!=null&&m.user)&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(Ur(this));const n=e?wn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N5(this),n=new D5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await S5(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Us(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[Us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&o5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Al(t){return wn(t)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Dj(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V5(t){Id=t}function Y2(t){return Id.loadJS(t)}function O5(){return Id.recaptchaEnterpriseScript}function P5(){return Id.gapiScript}function j5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class k5{constructor(){this.enterprise=new L5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class L5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const U5="recaptcha-enterprise",Q2="NO_RECAPTCHA";class B5{constructor(e){this.type=U5,this.auth=Al(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{y5(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new g5(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;J1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(Q2)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k5().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&J1(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=O5();m.length!==0&&(m+=f),Y2(m).then(()=>{a(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function rE(t,e,n,s=!1,a=!1){const l=new B5(t);let u;if(a)u=Q2;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function aE(t,e,n,s,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await rE(t,e,n,n==="getOobCode");return s(t,u)}else return s(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await rE(t,e,n,n==="getOobCode");return s(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t,e){const n=yd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(La(l,e??{}))return a;Ri(a,"already-initialized")}return n.initialize({options:e})}function F5(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Us);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function H5(t,e,n){const s=Al(t);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=X2(e),{host:u,port:f}=q5(e),m=f===null?"":`:${f}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(La(g,s.config.emulator)&&La(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,qa(u)?(ev(`${l}//${u}${m}`),tv("Auth",!0)):G5()}function X2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q5(t){const e=X2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:oE(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:oE(u)}}}function oE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ls("not implemented")}_getIdTokenResponse(e){return Ls("not implemented")}_linkToIdToken(e,n){return Ls("not implemented")}_getReauthenticationResolver(e){return Ls("not implemented")}}async function K5(t,e){return Wr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return Nd(t,"POST","/v1/accounts:signInWithPassword",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e){return Nd(t,"POST","/v1/accounts:signInWithEmailLink",Xa(t,e))}async function Q5(t,e){return Nd(t,"POST","/v1/accounts:signInWithEmailLink",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends zv{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aE(e,n,"signInWithPassword",$5);case"emailLink":return Y5(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aE(e,s,"signUpPassword",K5);case"emailLink":return Q5(e,{idToken:n,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e){return Nd(t,"POST","/v1/accounts:signInWithIdp",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="http://localhost";class Fa extends zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new Fa(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,al(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:X5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z5(t){const e=Vc(Oc(t)).link,n=e?Vc(Oc(e)).deep_link_id:null,s=Vc(Oc(t)).deep_link_id;return(s?Vc(Oc(s)).link:null)||s||n||e||t}class Fv{constructor(e){const n=Vc(Oc(e)),s=n.apiKey??null,a=n.oobCode??null,l=W5(n.mode??null);Se(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Z5(e);try{return new Fv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Fv.parseLink(n);return Se(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends W2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Mu{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fa._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ir.credential(n,s)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Mu{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Mu{constructor(){super("twitter.com")}static credential(e,n){return Fa._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Mr.credential(n,s)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await wi._fromIdTokenResponse(e,s,a),u=lE(s);return new yl({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=lE(s);return new yl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function lE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends gs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new rd(e,n,s,a)}}function Z2(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(t,l,e,s):l})}async function J5(t,e,n=!1){const s=await cu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e,n=!1){const{auth:s}=t;if(ri(s.app))return Promise.reject(Ur(s));const a="reauthenticate";try{const l=await cu(t,Z2(s,a,e,t),n);Se(l.idToken,s,"internal-error");const u=Uv(l.idToken);Se(u,s,"internal-error");const{sub:f}=u;return Se(t.uid===f,s,"user-mismatch"),yl._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ri(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(t,e,n=!1){if(ri(t.app))return Promise.reject(Ur(t));const s="signIn",a=await Z2(t,s,e),l=await yl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function tL(t,e){return J2(Al(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t){const e=Al(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function iL(t,e,n){return ri(t.app)?Promise.reject(Ur(t)):tL(wn(t),Rl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nL(t),s})}function sL(t,e,n,s){return wn(t).onIdTokenChanged(e,n,s)}function rL(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}function aL(t,e,n,s){return wn(t).onAuthStateChanged(e,n,s)}function oL(t){return wn(t).signOut()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=1e3,cL=10;class tR extends eR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);R5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cL):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},lL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tR.type="LOCAL";const uL=tR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR extends eR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nR.type="SESSION";const iR=nR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Dd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async g=>g(n.origin,l)),m=await hL(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const g=Hv("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return window}function dL(t){us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function mL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gL(){return sR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebaseLocalStorageDb",yL=1,od="firebaseLocalStorage",aR="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Md(t,e){return t.transaction([od],e?"readwrite":"readonly").objectStore(od)}function vL(){const t=indexedDB.deleteDatabase(rR);return new Vu(t).toPromise()}function ly(){const t=indexedDB.open(rR,yL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(od,{keyPath:aR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(od)?e(s):(s.close(),await vL(),e(await ly()))})})}async function cE(t,e,n){const s=Md(t,!0).put({[aR]:e,value:n});return new Vu(s).toPromise()}async function _L(t,e){const n=Md(t,!1).get(e),s=await new Vu(n).toPromise();return s===void 0?null:s.value}function uE(t,e){const n=Md(t,!0).delete(e);return new Vu(n).toPromise()}const bL=800,xL=3;class oR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ly(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>xL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dd._getInstance(gL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await mL(),!this.activeServiceWorker)return;this.sender=new fL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ly();return await cE(e,ad,"1"),await uE(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>cE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_L(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Md(a,!1).getAll();return new Vu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oR.type="LOCAL";const TL=oR;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){return e?Us(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wL(t){return J2(t.auth,new qv(t),t.bypassAuthState)}function SL(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),eL(n,new qv(t),t.bypassAuthState)}async function AL(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),J5(n,new qv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wL;case"linkViaPopup":case"linkViaRedirect":return AL;case"reauthViaPopup":case"reauthViaRedirect":return SL;default:Ri(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new Du(2e3,1e4);class Jo extends lR{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=Hv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RL.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="pendingRedirect",Of=new Map;class NL extends lR{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const s=await IL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IL(t,e){const n=VL(e),s=ML(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function DL(t,e){Of.set(t._key(),e)}function ML(t){return Us(t._redirectPersistence)}function VL(t){return Vf(CL,t.config.apiKey,t.name)}async function OL(t,e,n=!1){if(ri(t.app))return Promise.reject(Ur(t));const s=Al(t),a=EL(s,e),u=await new NL(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=600*1e3;class jL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!cR(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(cs(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PL&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e={}){return Wr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BL=/^https?/;async function zL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LL(t);for(const n of e)try{if(FL(n))return}catch{}Ri(t,"unauthorized-domain")}function FL(t){const e=ay(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!BL.test(n))return!1;if(UL.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new Du(3e4,6e4);function fE(){const t=us().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qL(t){return new Promise((e,n)=>{var a,l,u;function s(){fE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fE(),n(cs(t,"network-request-failed"))},timeout:HL.get()})}if((l=(a=us().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((u=us().gapi)!=null&&u.load)s();else{const f=j5("iframefcb");return us()[f]=()=>{gapi.load?s():n(cs(t,"network-request-failed"))},Y2(`${P5()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw Pf=null,e})}let Pf=null;function GL(t){return Pf=Pf||qL(t),Pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new Du(5e3,15e3),$L="__/auth/iframe",YL="emulator/auth/iframe",QL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WL(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lv(e,YL):`https://${t.config.authDomain}/${$L}`,s={apiKey:e.apiKey,appName:t.name,v:Ga},a=XL.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${bu(s).slice(1)}`}async function ZL(t){const e=await GL(t),n=us().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:WL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QL,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=cs(t,"network-request-failed"),f=us().setTimeout(()=>{l(u)},KL.get());function m(){us().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e9=500,t9=600,n9="_blank",i9="http://localhost";class dE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s9(t,e,n,s=e9,a=t9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...JL,width:s.toString(),height:a.toString(),top:l,left:u},g=_n().toLowerCase();n&&(f=z2(g)?n9:n),U2(g)&&(e=e||i9,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[A,M])=>`${E}${A}=${M},`,"");if(A5(g)&&f!=="_self")return r9(e||"",f),new dE(null);const b=window.open(e||"",f,v);Se(b,t,"popup-blocked");try{b.focus()}catch{}return new dE(b)}function r9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="__/auth/handler",o9="emulator/auth/handler",l9=encodeURIComponent("fac");async function mE(t,e,n,s,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ga,eventId:a};if(e instanceof W2){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Ij(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof Mu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),g=m?`#${l9}=${encodeURIComponent(m)}`:"";return`${c9(t)}?${bu(f).slice(1)}${g}`}function c9({config:t}){return t.emulator?Lv(t,o9):`https://${t.authDomain}/${a9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="webStorageSupport";class u9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iR,this._completeRedirectFn=OL,this._overrideRedirectResult=DL}async _openPopup(e,n,s,a){var u;$s((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const l=await mE(e,n,s,ay(),a);return s9(e,l,Hv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await mE(e,n,s,ay(),a);return dL(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):($s(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ZL(e),s=new jL(e);return n.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cg,{type:cg},a=>{var u;const l=(u=a==null?void 0:a[0])==null?void 0:u[cg];l!==void 0&&n(!!l),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return K2()||B2()||Bv()}}const h9=u9;var pE="@firebase/auth",gE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m9(t){Ua(new Fr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$2(t)},g=new M5(s,a,l,m);return F5(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ua(new Fr("auth-internal",e=>{const n=Al(e.getProvider("auth").getImmediate());return(s=>new f9(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(pE,gE,d9(t)),ss(pE,gE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=300,g9=KS("authIdTokenMaxAge")||p9;let yE=null;const y9=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>g9)return;const a=n==null?void 0:n.token;yE!==a&&(yE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function v9(t=sv()){const e=yd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=z5(t,{popupRedirectResolver:h9,persistence:[TL,uL,iR]}),s=KS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=y9(l.toString());rL(n,u,()=>u(n.currentUser)),sL(n,f=>u(f))}}const a=HS("auth");return a&&H5(n,`http://${a}`),n}function _9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}V5({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=cs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",_9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m9("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebasestorage.googleapis.com",b9="storageBucket",x9=120*1e3,T9=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends gs{constructor(e,n,s=0){super(ug(e),`Firebase Storage: ${n} (${ug(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ys.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ug(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ds;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ds||(ds={}));function ug(t){return"storage/"+t}function E9(){const t="An unknown error occurred, please check the error payload for server response.";return new ys(ds.UNKNOWN,t)}function w9(){return new ys(ds.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function S9(){return new ys(ds.CANCELED,"User canceled the upload/download.")}function A9(t){return new ys(ds.INVALID_URL,"Invalid URL '"+t+"'.")}function R9(t){return new ys(ds.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vE(t){return new ys(ds.INVALID_ARGUMENT,t)}function hR(){return new ys(ds.APP_DELETED,"The Firebase app was deleted.")}function C9(t){return new ys(ds.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Si.makeFromUrl(e,n)}catch{return new Si(e,"")}if(s.path==="")return s;throw R9(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${b}/${v}/b/${a}/o${E}`,"i"),M={bucket:1,path:3},N=n===uR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",U=new RegExp(`^https?://${N}/${a}/${I}`,"i"),z=[{regex:f,indices:m,postModify:l},{regex:A,indices:M,postModify:g},{regex:U,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<z.length;ie++){const te=z[ie],le=te.regex.exec(e);if(le){const D=le[te.indices.bucket];let C=le[te.indices.path];C||(C=""),s=new Si(D,C),te.postModify(s);break}}if(s==null)throw A9(e);return s}}class N9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let g=!1;function v(...I){g||(g=!0,e.apply(null,I))}function b(I){a=setTimeout(()=>{a=null,t(A,m())},I)}function E(){l&&clearTimeout(l)}function A(I,...U){if(g){E();return}if(I){E(),v.call(null,I,...U);return}if(m()||u){E(),v.call(null,I,...U);return}s<64&&(s*=2);let z;f===1?(f=2,z=0):z=(s+Math.random())*1e3,b(z)}let M=!1;function N(I){M||(M=!0,E(),!g&&(a!==null?(I||(f=2),clearTimeout(a),b(0)):I||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,N(!0)},n),N}function D9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){return t!==void 0}function _E(t,e,n,s){if(s<e)throw vE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw vE(`Invalid value for '${t}'. Expected ${n} or less.`)}function V9(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var ld;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ld||(ld={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n,s,a,l,u,f,m,g,v,b,E=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=E,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,N)=>{this.resolve_=M,this.reject_=N,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new _f(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===ld.NO_ERROR,m=l.getStatus();if(!f||O9(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===ld.ABORT;s(!1,new _f(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new _f(g,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());M9(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=E9();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?hR():S9();u(m)}else{const m=w9();u(m)}};this.canceled_?n(!1,new _f(!1,null,!0)):this.backoffId_=I9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&D9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _f{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function j9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function U9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function B9(t,e,n,s,a,l,u=!0,f=!1){const m=V9(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return L9(v,e),j9(v,n),k9(v,l),U9(v,s),new P9(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function F9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this._service=e,n instanceof Si?this._location=n:this._location=Si.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cd(e,n)}get root(){const e=new Si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return F9(this._location.path)}get storage(){return this._service}get parent(){const e=z9(this._location.path);if(e===null)return null;const n=new Si(this._location.bucket,e);return new cd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C9(e)}}function bE(t,e){const n=e==null?void 0:e[b9];return n==null?null:Si.makeFromBucketSpec(n,t)}function H9(t,e,n,s={}){t.host=`${e}:${n}`;const a=qa(e);a&&(ev(`https://${t.host}/b`),tv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:$S(l,t.app.options.projectId))}class q9{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=uR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x9,this._maxUploadRetryTime=T9,this._requests=new Set,a!=null?this._bucket=Si.makeFromBucketSpec(a,this._host):this._bucket=bE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Si.makeFromBucketSpec(this._url,e):this._bucket=bE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cd(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new N9(hR());{const u=B9(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const xE="@firebase/storage",TE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="storage";function G9(t=sv(),e){t=wn(t);const s=yd(t,fR).getImmediate({identifier:e}),a=qS("storage");return a&&K9(s,...a),s}function K9(t,e,n,s={}){H9(t,e,n,s)}function $9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new q9(n,s,a,e,Ga)}function Y9(){Ua(new Fr(fR,$9,"PUBLIC").setMultipleInstances(!0)),ss(xE,TE,""),ss(xE,TE,"esm2020")}Y9();const Q9={apiKey:"AIzaSyA6ZwxrEPmpvA9j7HYX65qSa-AN4QrHSs8",authDomain:"thedecoratingvaranasi-27aeb.firebaseapp.com",projectId:"thedecoratingvaranasi-27aeb",storageBucket:"thedecoratingvaranasi-27aeb.firebasestorage.app",messagingSenderId:"806526508170",appId:"1:806526508170:web:37ea4a5deeffc7da33a173",measurementId:"G-PFXJQ1YS6L"},Gv=XS(Q9),hg=v9(Gv),ts=G6(Gv);G9(Gv);const dR=P.createContext({services:jS,products:kS,capturedMoments:[],testimonials:[],loading:!1,refreshData:async()=>{}}),Ni=()=>P.useContext(dR),X9=({children:t})=>{const[e,n]=P.useState(jS),[s,a]=P.useState(kS),[l,u]=P.useState([]),[f,m]=P.useState([]),[g,v]=P.useState(!0),b=async()=>{v(!0);try{const E=$c(ts,"services"),A=await yf(E),M=q6(ts,"items"),N=await yf(M);if(!A.empty){const ie=A.docs.map(te=>{const le=te.data();return{id:te.id,title:le.service||le.title,description:le.description,image:le.image,features:le.tags||[],priceStart:le.priceStart||0,...le}});n(ie)}if(!N.empty){const ie=N.docs.map(te=>{var D;const le=te.data();return{id:te.id,serviceId:((D=te.ref.parent.parent)==null?void 0:D.id)||"",...le}});a(ie)}const I=$c(ts,"captured_moments"),U=await yf(I);if(!U.empty){const ie=U.docs.map(te=>({id:te.id,...te.data()}));u(ie)}const F=$c(ts,"testimonials"),z=await yf(F);if(!z.empty){const ie=z.docs.map(te=>({id:te.id,...te.data()}));m(ie)}}catch(E){E.code==="permission-denied"?console.warn("Firestore permission denied. Falling back to static data. Ensure Firestore Security Rules allow public read access."):console.error("Error fetching data:",E)}finally{v(!1)}};return P.useEffect(()=>{b()},[]),y.jsx(dR.Provider,{value:{services:e,products:s,capturedMoments:l,testimonials:f,loading:g,refreshData:b},children:t})},W9=()=>{var L;const[t]=TI(),e=hy(),n=t.get("service"),s=t.get("package"),{services:a,products:l}=Ni(),[u,f]=P.useState({fullName:"",phone:"",email:"",serviceId:n||((L=a[0])==null?void 0:L.id)||"birthday",packageId:s||"",date:"",time:"",address:"",guests:50,message:""}),[m,g]=P.useState({}),[v,b]=P.useState(!1),[E,A]=P.useState(!1),[M,N]=P.useState(!1);P.useEffect(()=>{n&&f(O=>({...O,serviceId:n})),s&&f(O=>({...O,packageId:s}))},[n,s]);const I=()=>{const O={},H=/^[6-9]\d{9}$/,j=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(u.fullName.trim()?u.fullName.length<3&&(O.fullName="Name must be at least 3 characters"):O.fullName="Full Name is required",u.phone?H.test(u.phone)||(O.phone="Enter a valid 10-digit Indian number"):O.phone="Phone number is required",u.email&&!j.test(u.email)&&(O.email="Enter a valid email address"),!u.date)O.date="Event date is required";else{const Le=new Date(u.date),We=new Date;We.setHours(0,0,0,0),Le<We&&(O.date="Date cannot be in the past")}return u.address.trim()||(O.address="Venue address is required"),u.guests<5&&(O.guests="Minimum 5 guests required"),g(O),Object.keys(O).length===0},U=O=>{const{name:H,value:j}=O.target;f({...u,[H]:j}),m[H]&&g(Le=>({...Le,[H]:void 0}))},F=O=>{f({...u,serviceId:O.target.value,packageId:""})},z=HT.filter(O=>O.serviceId===u.serviceId),ie=a.find(O=>O.id===u.serviceId),te=l.find(O=>O.id===u.packageId),le=HT.find(O=>O.id===u.packageId),D=async O=>{if(O.preventDefault(),!I())return;b(!0),N(!0);let H="Location: Not shared by user";try{const ue=await new Promise((G,w)=>{navigator.geolocation.getCurrentPosition(G,w,{timeout:8e3,enableHighAccuracy:!0})}),{latitude:pe,longitude:Ce}=ue.coords;H=`Google Maps Location:
https://www.google.com/maps?q=${pe},${Ce}`}catch(ue){console.log("Location access denied or timed out",ue)}finally{N(!1)}const j=(te==null?void 0:te.name)||(le==null?void 0:le.name)||"Custom / Not Selected",Le=te?`${te.price.toLocaleString()}`:le?`${le.price.toLocaleString()}`:"Contact for pricing",We=`
New Booking - TheDecoratingVaranasi

Service: ${(ie==null?void 0:ie.title)||"General Inquiry"}

Product Details:
Product Name: ${j}
Price: ${Le}

Customer Details:
Name: ${u.fullName}
Phone: ${u.phone}
Preferred Date: ${u.date}
Address: ${u.address}

${H}

Additional Notes:
${u.message||"None"}
`.trim();A(!0),US({particleCount:150,spread:70,origin:{y:.6},colors:["#7c3aed","#fbbf24","#ffffff"]});const J=`https://wa.me/${VS}?text=${encodeURIComponent(We)}`;setTimeout(()=>{window.open(J,"_blank"),b(!1)},1500)},C=()=>e(-1);if(E)return y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:y.jsxs(Ge.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl p-8 max-w-md w-full text-center shadow-2xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-500"}),y.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6 text-green-600",children:y.jsx($E,{className:"w-10 h-10"})}),y.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900 mb-2",children:"Order Initiated!"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Opening WhatsApp with your order details and location..."}),y.jsx("button",{onClick:C,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-3 rounded-xl transition-colors",children:"Close"})]})});const V=O=>`
    w-full p-3 bg-gray-50 rounded-lg border outline-none transition-all
    ${m[O]?"border-red-500 focus:ring-2 focus:ring-red-200 bg-red-50":"border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20"}
  `;return y.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:y.jsxs(Ge.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col md:flex-row relative my-8",children:[y.jsx("button",{onClick:C,className:"absolute top-4 right-4 z-10 bg-white/80 p-2 rounded-full hover:bg-white transition-colors",children:y.jsx(mu,{className:"w-6 h-6 text-gray-600"})}),y.jsxs("div",{className:"w-full md:w-1/3 bg-gray-50 p-6 md:p-8 flex flex-col justify-between border-r border-gray-100",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-gray-400 uppercase tracking-wide mb-6",children:"Summary"}),te?y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-primary/20 shadow-sm mb-6",children:[y.jsx("span",{className:"text-xs font-bold text-secondary uppercase",children:"Selected Item"}),y.jsx("div",{className:"font-bold text-gray-800 text-lg leading-tight mb-1",children:te.name}),y.jsxs("div",{className:"text-primary font-bold text-xl",children:["",te.price.toLocaleString()]}),te.image&&y.jsx("img",{src:te.image,className:"w-full h-32 object-cover rounded-lg mt-3",alt:"product"})]}):le?y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-primary/20 shadow-sm mb-6",children:[y.jsx("span",{className:"text-xs font-bold text-secondary uppercase",children:"Selected Package"}),y.jsx("div",{className:"font-bold text-gray-800",children:le.name}),y.jsxs("div",{className:"text-primary font-bold",children:["",le.price.toLocaleString()]})]}):ie?y.jsxs("div",{className:"mb-6",children:[y.jsx("img",{src:ie.image,alt:"Service",className:"w-full h-32 object-cover rounded-lg mb-4 shadow-md"}),y.jsx("h4",{className:"font-serif text-xl font-bold text-primary",children:ie.title}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Starting @ ",ie.priceStart]})]}):null]}),y.jsxs("div",{className:"mt-8 space-y-3",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-blue-50 p-3 rounded-lg border border-blue-100",children:[y.jsx(gy,{className:"w-4 h-4 text-blue-500"}),y.jsx("span",{className:"text-xs",children:"Location will be attached to order"})]}),y.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:y.jsx("span",{children:"Booking handled via WhatsApp"})})]})]}),y.jsxs("div",{className:"w-full md:w-2/3 p-6 md:p-8",children:[y.jsx("h2",{className:"text-3xl font-serif font-bold text-gray-900 mb-6",children:"Complete Booking"}),y.jsxs("form",{onSubmit:D,className:"space-y-4",noValidate:!0,children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Full Name"}),y.jsx("input",{type:"text",name:"fullName",value:u.fullName,onChange:U,className:V("fullName"),placeholder:"John Doe"}),m.fullName&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Fo,{className:"w-3 h-3"})," ",m.fullName]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Phone (+91)"}),y.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:U,className:V("phone"),placeholder:"Phone number",maxLength:10}),m.phone&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Fo,{className:"w-3 h-3"})," ",m.phone]})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase",children:["Email Address ",y.jsx("span",{className:"text-gray-300 font-normal normal-case",children:"(Optional)"})]}),y.jsx("input",{type:"email",name:"email",value:u.email,onChange:U,className:V("email"),placeholder:"you@example.com"}),m.email&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Fo,{className:"w-3 h-3"})," ",m.email]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Service Type"}),y.jsx("select",{name:"serviceId",value:u.serviceId,onChange:F,className:V("serviceId"),disabled:!!s,children:a.map(O=>y.jsx("option",{value:O.id,children:O.title},O.id))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Package / Item"}),te?y.jsx("div",{className:"w-full p-3 bg-gray-100 rounded-lg border border-gray-200 text-gray-600 truncate",children:te.name}):y.jsxs("select",{name:"packageId",value:u.packageId,onChange:U,className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",children:[y.jsx("option",{value:"",children:"Select a package (Optional)"}),z.map(O=>y.jsxs("option",{value:O.id,children:[O.name," - ",O.price]},O.id))]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Event Date"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"date",name:"date",value:u.date,onChange:U,className:V("date"),min:new Date().toISOString().split("T")[0]}),y.jsx(LI,{className:"absolute right-3 top-3 text-gray-400 w-5 h-5 pointer-events-none"})]}),m.date&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Fo,{className:"w-3 h-3"})," ",m.date]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Guest Count"}),y.jsx("input",{type:"number",name:"guests",value:u.guests,onChange:U,className:V("guests"),min:"5"}),m.guests&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Fo,{className:"w-3 h-3"})," ",m.guests]})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Venue Address"}),y.jsx("input",{type:"text",name:"address",value:u.address,onChange:U,className:V("address"),placeholder:"Area, Street, City"}),m.address&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Fo,{className:"w-3 h-3"})," ",m.address]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Special Request / Message"}),y.jsx("textarea",{name:"message",value:u.message,onChange:U,className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none h-24 resize-none transition-all",placeholder:"Specific theme colors, timing constraints, etc."})]}),y.jsxs("div",{className:"pt-4",children:[y.jsx("button",{type:"submit",disabled:v,className:"w-full bg-primary hover:bg-purple-700 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transform active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:v?y.jsx("span",{className:"flex items-center gap-2",children:M?"Fetching Location...":"Opening WhatsApp..."}):y.jsx(y.Fragment,{children:"Book via WhatsApp"})}),y.jsx("p",{className:"text-center text-xs text-gray-400 mt-3",children:'Clicking "Book" will request your location to help us find you easily.'})]})]})]})]})})},Z9=({product:t,onQuickView:e})=>{const[n,s]=P.useState(!1);return y.jsxs(Ge.article,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{y:-8,scale:1.02},transition:{type:"spring",stiffness:300,damping:20},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),className:"group bg-white rounded-xl shadow-sm hover:shadow-2xl border border-gray-100 overflow-hidden flex flex-col relative",children:[t.discountText&&y.jsx(Ge.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-3 left-3 z-20 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-md shadow-lg",children:t.discountText}),y.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[y.jsx("img",{src:t.image,alt:t.name,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-110"}),y.jsxs("div",{className:`absolute inset-0 bg-black/40 backdrop-blur-[2px] transition-opacity duration-300 flex items-center justify-center gap-3 ${n?"opacity-100":"opacity-0"}`,children:[y.jsxs(Ge.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>e(t),className:"bg-white text-gray-900 px-4 py-2 rounded-full font-bold text-sm flex items-center gap-2 shadow-xl",children:[y.jsx(QI,{className:"w-4 h-4"})," View"]}),y.jsx(dt,{to:`/booking?service=${t.serviceId}&package=${t.id}`,children:y.jsxs(Ge.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"bg-primary text-white px-4 py-2 rounded-full font-bold text-sm flex items-center gap-2 shadow-xl",children:[y.jsx(pg,{className:"w-4 h-4"})," Book"]})})]})]}),y.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[y.jsx("div",{className:"flex justify-between items-start mb-2",children:y.jsxs("div",{children:[y.jsx("h3",{className:"font-serif font-bold text-gray-900 group-hover:text-primary transition-colors line-clamp-1 text-lg",children:t.name}),y.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[y.jsxs("div",{className:"flex text-yellow-400 text-xs",children:["".repeat(Math.floor(t.rating)),y.jsx("span",{className:"text-gray-300",children:"".repeat(5-Math.floor(t.rating))})]}),y.jsxs("span",{className:"text-xs text-gray-400",children:["(",t.reviews,")"]})]})]})}),y.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:t.shortDescription}),y.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:t.tags.slice(0,3).map(a=>y.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider px-2 py-1 bg-gray-100 text-gray-600 rounded-sm",children:a},a))}),y.jsxs("div",{className:"mt-auto pt-3 border-t border-gray-50 flex items-center justify-between",children:[y.jsxs("div",{children:[t.oldPrice>t.price&&y.jsxs("span",{className:"text-xs text-gray-400 line-through mr-2",children:["",t.oldPrice.toLocaleString()]}),y.jsxs("span",{className:"text-xl font-bold text-primary",children:["",t.price.toLocaleString()]})]}),y.jsx(dt,{to:`/booking?service=${t.serviceId}&package=${t.id}`,className:"md:hidden",children:y.jsx("button",{className:"bg-primary/10 text-primary p-2 rounded-lg",children:y.jsx(pg,{className:"w-5 h-5"})})})]})]})]})},J9=({product:t,onClose:e})=>t?y.jsx(ja,{children:y.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[y.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),y.jsxs(Ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-h-[90vh]",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-20 bg-white/50 backdrop-blur-md p-2 rounded-full hover:bg-white transition-colors",children:y.jsx(mu,{className:"w-6 h-6 text-gray-800"})}),y.jsxs("div",{className:"w-full md:w-1/2 h-64 md:h-auto bg-gray-100 relative",children:[y.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute bottom-4 left-4 flex gap-2",children:y.jsxs("button",{className:"bg-white/90 backdrop-blur text-xs font-bold px-3 py-1.5 rounded-lg shadow-sm hover:bg-white flex items-center gap-1",children:[y.jsx(vD,{className:"w-3 h-3"})," Share"]})})]}),y.jsxs("div",{className:"w-full md:w-1/2 p-6 md:p-8 overflow-y-auto",children:[y.jsx("div",{className:"mb-1",children:y.jsx("span",{className:"text-primary font-bold text-xs uppercase tracking-wider",children:t.tags[0]||"Featured"})}),y.jsx("h2",{className:"text-3xl font-serif font-bold text-gray-900 mb-2",children:t.name}),y.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",t.price.toLocaleString()]}),t.oldPrice>t.price&&y.jsxs("span",{className:"text-gray-400 line-through mb-1",children:["",t.oldPrice.toLocaleString()]})]}),t.discountText&&y.jsxs("span",{className:"bg-green-100 text-green-700 font-bold px-2 py-1 rounded text-xs",children:["Save ",t.discountText]})]}),y.jsxs("div",{className:"space-y-4 mb-8",children:[y.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-line",children:t.fullDescription}),y.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-600",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(GE,{className:"w-4 h-4 text-green-500"}),y.jsx("span",{children:"Professional Setup"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(GI,{className:"w-4 h-4 text-blue-500"}),y.jsx("span",{children:"4-6 Hour Duration"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(bD,{className:"w-4 h-4 text-purple-500"}),y.jsx("span",{children:"Quality Guarantee"})]})]})]}),y.jsx("div",{className:"flex gap-4 sticky bottom-0 bg-white pt-4 border-t border-gray-100",children:y.jsx(dt,{to:`/booking?service=${t.serviceId}&package=${t.id}`,className:"flex-1",children:y.jsxs("button",{className:"w-full bg-primary hover:bg-purple-700 text-white font-bold py-3.5 rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2",children:[y.jsx(pg,{className:"w-5 h-5"})," Book Now"]})})})]})]})]})}):null,EE=()=>{const{id:t}=VN(),{services:e,products:n}=Ni(),[s,a]=P.useState(null),[l,u]=P.useState("all"),[f,m]=P.useState("popular"),[g,v]=P.useState("");P.useEffect(()=>{window.scrollTo(0,0)},[t]);const b=e.find(N=>N.id===t),E=P.useMemo(()=>n.filter(N=>N.serviceId===t),[t,n]),A=P.useMemo(()=>{const N=new Set;return E.forEach(I=>I.tags.forEach(U=>N.add(U))),Array.from(N)},[E]),M=P.useMemo(()=>{let N=[...E];if(l!=="all"&&(N=N.filter(I=>I.tags.includes(l))),g){const I=g.toLowerCase();N=N.filter(U=>U.name.toLowerCase().includes(I)||U.shortDescription.toLowerCase().includes(I))}switch(f){case"price-asc":N.sort((I,U)=>I.price-U.price);break;case"price-desc":N.sort((I,U)=>U.price-I.price);break;case"newest":N=N.filter(I=>I.tags.includes("new")).concat(N.filter(I=>!I.tags.includes("new")));break;default:N.sort((I,U)=>U.rating-I.rating)}return N},[E,l,f,g]);return b?y.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20 pb-20",children:[y.jsxs("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-30 shadow-sm transition-all",children:[y.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-gray-900 mb-2",children:b.title}),y.jsx("p",{className:"text-gray-500 max-w-2xl",children:b.description})]}),y.jsxs("div",{className:"text-right hidden md:block",children:[y.jsx("div",{className:"text-sm text-gray-400",children:"Starting from"}),y.jsxs("div",{className:"text-2xl font-bold text-primary",children:["",b.priceStart.toLocaleString()]})]})]})}),y.jsx("div",{className:"border-t border-gray-100 bg-white px-4 py-3",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row gap-4 justify-between items-center",children:[y.jsxs("div",{className:"relative w-full md:w-64",children:[y.jsx(gD,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search items...",value:g,onChange:N=>v(N.target.value),className:"w-full pl-9 pr-4 py-2 bg-gray-100 border-none rounded-full text-sm focus:ring-2 focus:ring-primary/20 outline-none"})]}),y.jsxs("div",{className:"flex gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 no-scrollbar",children:[y.jsx("button",{onClick:()=>u("all"),className:`px-4 py-1.5 rounded-full text-sm font-bold whitespace-nowrap transition-colors ${l==="all"?"bg-black text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All Items"}),A.map(N=>y.jsx("button",{onClick:()=>u(N),className:`px-4 py-1.5 rounded-full text-sm font-bold whitespace-nowrap capitalize transition-colors ${l===N?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:N},N))]}),y.jsxs("div",{className:"relative group min-w-[140px]",children:[y.jsxs("select",{value:f,onChange:N=>m(N.target.value),className:"appearance-none w-full bg-white border border-gray-200 px-4 py-2 rounded-lg text-sm font-bold text-gray-700 cursor-pointer hover:border-primary focus:outline-none",children:[y.jsx("option",{value:"popular",children:"Most Popular"}),y.jsx("option",{value:"price-asc",children:"Price: Low to High"}),y.jsx("option",{value:"price-desc",children:"Price: High to Low"}),y.jsx("option",{value:"newest",children:"New Arrivals"})]}),y.jsx(KE,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]})})]}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[y.jsx(Ge.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:M.map(N=>y.jsx(Z9,{product:N,onQuickView:a},N.id))}),M.length===0&&y.jsxs("div",{className:"text-center py-20 text-gray-400",children:[y.jsx("p",{children:"No items found matching your criteria."}),y.jsx("button",{onClick:()=>{u("all"),v("")},className:"mt-4 text-primary font-bold hover:underline",children:"Clear filters"})]})]}),y.jsx(J9,{product:s,onClose:()=>a(null)})]}):y.jsxs("div",{className:"p-20 text-center",children:["Service not found. ",y.jsx(dt,{to:"/",className:"text-primary underline",children:"Go Home"})]})},eU=({onBack:t,onSuccess:e})=>{const{capturedMoments:n,services:s,refreshData:a}=Ni(),[l,u]=P.useState(!1),[f,m]=P.useState({name:"",type:"",imageUrl:""}),g=async N=>{N.preventDefault(),u(!0);try{let I=f.imageUrl;if(!I){alert("Please provide an image URL."),u(!1);return}const U={name:f.name,type:f.type||"General",imageUrl:I,timestamp:gl()};await I2($c(ts,"captured_moments"),U),m({name:"",type:"",imageUrl:""}),await a(),alert("Moment captured successfully!")}catch(I){console.error(I),alert("Failed to save moment.")}finally{u(!1)}},[v,b]=P.useState(null),[E,A]=P.useState(null),M=async N=>{console.log("Deleting moment:",N),b(N),A(null);try{await N2(Nu(ts,"captured_moments",N)),await a()}catch(I){console.error(I),alert("Failed to delete.")}finally{b(null)}};return y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("button",{onClick:t,className:"text-gray-500 hover:text-gray-900 flex items-center gap-2 mb-6",children:[y.jsx(ka,{className:"w-4 h-4"})," Back to Dashboard"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsx("div",{children:y.jsxs("div",{className:"bg-white p-6 rounded-xl border shadow-sm mb-8",children:[y.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[y.jsx(qE,{className:"w-5 h-5 text-primary"}),"Add New Moment"]}),y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Moment Name"}),y.jsx("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary outline-none",value:f.name,onChange:N=>m({...f,name:N.target.value}),placeholder:"e.g. Birthday Bash at Grand Hotel",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Service Type"}),y.jsxs("select",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary outline-none",value:f.type,onChange:N=>m({...f,type:N.target.value}),required:!0,children:[y.jsx("option",{value:"",children:"Select Service..."}),s.map(N=>y.jsx("option",{value:N.title,children:N.title},N.id)),y.jsx("option",{value:"General",children:"General/Other"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Photo"}),y.jsx("div",{className:"space-y-3",children:y.jsx("input",{type:"url",placeholder:"Paste Image URL",className:"w-full p-2 border rounded-lg text-sm",value:f.imageUrl,onChange:N=>m({...f,imageUrl:N.target.value})})}),f.imageUrl&&y.jsx("div",{className:"mt-4 relative h-40 rounded-lg overflow-hidden bg-gray-100 border",children:y.jsx("img",{src:f.imageUrl,alt:"Preview",className:"w-full h-full object-contain"})})]}),y.jsxs("button",{type:"submit",disabled:l,className:"w-full bg-primary text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 hover:bg-purple-700 transition-colors",children:[l?y.jsx(ol,{className:"animate-spin w-5 h-5"}):y.jsx(vy,{className:"w-5 h-5"}),"Save Moment"]})]})]})}),y.jsx("div",{children:y.jsxs("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b bg-gray-50 font-bold text-gray-700",children:["Recent Moments (",n.length,")"]}),y.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:n.length===0?y.jsx("div",{className:"p-8 text-center text-gray-500",children:"No moments added yet."}):n.map(N=>y.jsxs("div",{className:"p-4 flex items-center gap-4 hover:bg-gray-50 transition-colors group",children:[y.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-16 h-16 rounded-lg object-cover bg-gray-200"}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("h4",{className:"font-bold text-gray-900",children:N.name}),y.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:N.type})]}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{type:"button",onClick:()=>A(E===N.id?null:N.id),className:`text-gray-400 hover:text-red-500 p-2 transition-opacity disabled:opacity-50 ${E===N.id?"opacity-100 text-red-500":"opacity-0 group-hover:opacity-100"}`,title:"Delete",disabled:v===N.id,children:v===N.id?y.jsx(ol,{className:"w-5 h-5 animate-spin text-red-500"}):y.jsx(JE,{className:"w-5 h-5"})}),E===N.id&&y.jsxs("div",{className:"absolute right-0 top-10 z-10 bg-white shadow-xl border border-gray-200 rounded-lg p-3 w-48 text-center animate-in fade-in zoom-in duration-200",children:[y.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-3",children:"Delete this moment?"}),y.jsxs("div",{className:"flex gap-2 justify-center",children:[y.jsx("button",{onClick:()=>A(null),className:"px-3 py-1.5 text-xs font-bold text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),y.jsx("button",{onClick:()=>M(N.id),className:"px-3 py-1.5 text-xs font-bold text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors",children:"Delete"})]}),y.jsx("div",{className:"absolute -top-1.5 right-3 w-3 h-3 bg-white border-t border-l border-gray-200 transform rotate-45"})]})]})]},N.id))})]})})]})]})},tU=({onBack:t,onSuccess:e})=>{const{testimonials:n,refreshData:s}=Ni(),[a,l]=P.useState(!1),[u,f]=P.useState({name:"",rating:"5",message:"",imageUrl:""}),m=async M=>{M.preventDefault(),l(!0);try{let N=u.imageUrl;N||(N=`https://ui-avatars.com/api/?name=${u.name}&background=random`);const I={name:u.name,rating:Number(u.rating),comment:u.message,image:N};await I2($c(ts,"testimonials"),{...I,createdAt:gl()}),f({name:"",rating:"5",message:"",imageUrl:""}),await s(),alert("Testimonial added successfully!")}catch(N){console.error(N),alert("Failed to save testimonial.")}finally{l(!1)}},[g,v]=P.useState(null),[b,E]=P.useState(null),A=async M=>{console.log("Deleting testimonial:",M),v(M),E(null);try{await N2(Nu(ts,"testimonials",M)),console.log("Document deleted, refreshing data..."),await s(),console.log("Data refreshed.")}catch(N){console.error("Error deleting testimonial:",N),alert("Failed to delete. Check console for details.")}finally{v(null)}};return y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("button",{onClick:t,className:"text-gray-500 hover:text-gray-900 flex items-center gap-2 mb-6",children:[y.jsx(ka,{className:"w-4 h-4"})," Back to Dashboard"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsx("div",{children:y.jsxs("div",{className:"bg-white p-6 rounded-xl border shadow-sm mb-8",children:[y.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[y.jsx(QE,{className:"w-5 h-5 text-red-500"}),"Add Client Love"]}),y.jsxs("form",{onSubmit:m,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Client Name"}),y.jsx("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary outline-none",value:u.name,onChange:M=>f({...u,name:M.target.value}),placeholder:"e.g. Priya Sharma",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Rating"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("input",{type:"range",min:"1",max:"5",step:"0.5",className:"flex-grow accent-primary",value:u.rating,onChange:M=>f({...u,rating:M.target.value})}),y.jsxs("span",{className:"font-bold text-lg flex items-center gap-1 w-16",children:[u.rating," ",y.jsx(_y,{className:"w-4 h-4 text-yellow-500 fill-current"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Message"}),y.jsx("textarea",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary outline-none min-h-[100px]",value:u.message,onChange:M=>f({...u,message:M.target.value}),placeholder:"What did they say?",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Photo (Optional)"}),y.jsx("div",{className:"space-y-3",children:y.jsx("input",{type:"url",placeholder:"Paste Image URL",className:"w-full p-2 border rounded-lg text-sm",value:u.imageUrl,onChange:M=>f({...u,imageUrl:M.target.value})})})]}),y.jsxs("button",{type:"submit",disabled:a,className:"w-full bg-primary text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 hover:bg-purple-700 transition-colors",children:[a?y.jsx(ol,{className:"animate-spin w-5 h-5"}):y.jsx(vy,{className:"w-5 h-5"}),"Save Review"]})]})]})}),y.jsx("div",{children:y.jsxs("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden h-full flex flex-col",children:[y.jsxs("div",{className:"p-4 border-b bg-gray-50 font-bold text-gray-700",children:["Recent Reviews (",n.length,")"]}),y.jsx("div",{className:"divide-y overflow-y-auto flex-grow",style:{maxHeight:"600px"},children:n.length===0?y.jsx("div",{className:"p-8 text-center text-gray-500",children:"No testimonials yet."}):n.map(M=>y.jsxs("div",{className:"p-4 flex gap-4 hover:bg-gray-50 transition-colors group relative",children:[y.jsx("img",{src:M.image,alt:M.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h4",{className:"font-bold text-gray-900",children:M.name}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{type:"button",onClick:()=>E(b===M.id?null:M.id),className:`text-gray-400 hover:text-red-500 p-1 transition-opacity disabled:opacity-50 ${b===M.id?"opacity-100 text-red-500":"opacity-0 group-hover:opacity-100"}`,title:"Delete",disabled:g===M.id,children:g===M.id?y.jsx(ol,{className:"w-4 h-4 animate-spin text-red-500"}):y.jsx(JE,{className:"w-4 h-4"})}),b===M.id&&y.jsxs("div",{className:"absolute right-0 top-8 z-10 bg-white shadow-xl border border-gray-200 rounded-lg p-3 w-48 text-center animate-in fade-in zoom-in duration-200",children:[y.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-3",children:"Delete this review?"}),y.jsxs("div",{className:"flex gap-2 justify-center",children:[y.jsx("button",{onClick:()=>E(null),className:"px-3 py-1.5 text-xs font-bold text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),y.jsx("button",{onClick:()=>A(M.id),className:"px-3 py-1.5 text-xs font-bold text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors",children:"Delete"})]}),y.jsx("div",{className:"absolute -top-1.5 right-2 w-3 h-3 bg-white border-t border-l border-gray-200 transform rotate-45"})]})]})]}),y.jsx("div",{className:"flex text-yellow-500 text-xs mb-1",children:"".repeat(Math.round(M.rating))}),y.jsxs("p",{className:"text-gray-600 text-sm line-clamp-2 italic",children:['"',M.comment,'"']})]})]},M.id))})]})})]})]})},nU=()=>{const[t,e]=P.useState(null),[n,s]=P.useState(""),[a,l]=P.useState(""),[u,f]=P.useState(!1),[m,g]=P.useState(""),{services:v,refreshData:b}=Ni(),[E,A]=P.useState(null),[M,N]=P.useState("list");P.useEffect(()=>{const F=aL(hg,z=>{e(z)});return()=>F()},[]);const I=async F=>{F.preventDefault(),f(!0),g("");try{await iL(hg,n,a),await b()}catch(z){g("Login failed: "+z.message)}finally{f(!1)}},U=()=>{oL(hg)};return t?y.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[y.jsxs("header",{className:"bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[y.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Dashboard"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:"text-sm text-gray-500 hidden md:inline",children:t.email}),y.jsx("button",{onClick:U,className:"text-red-500 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Logout",children:y.jsx(rD,{className:"w-5 h-5"})})]})]}),y.jsxs("main",{className:"flex-grow p-6 max-w-7xl mx-auto w-full",children:[M==="list"&&y.jsx(iU,{services:v,onAddService:()=>{A(null),N("service-form")},onEditService:F=>{A(F),N("service-form")},onManageMoments:()=>N("moments"),onManageTestimonials:()=>N("testimonials")}),M==="moments"&&y.jsx(eU,{onBack:()=>N("list"),onSuccess:()=>{b()}}),M==="testimonials"&&y.jsx(tU,{onBack:()=>N("list"),onSuccess:()=>{b()}}),M==="service-form"&&y.jsx(sU,{serviceId:E,onBack:()=>N("list"),onSuccess:()=>{b(),N("list")},onManageItems:F=>{A(F),N("item-form")}}),M==="item-form"&&E&&y.jsx(aU,{serviceId:E,onBack:()=>N("service-form"),onSuccess:()=>b()})]})]}):y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(iD,{className:"w-8 h-8 text-primary"})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Portal"}),y.jsx("p",{className:"text-gray-500 text-sm",children:"TheDecoratingVaranasi"})]}),y.jsxs("form",{onSubmit:I,className:"space-y-4",children:[y.jsx("input",{type:"email",placeholder:"Admin Email",value:n,onChange:F=>s(F.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary outline-none",required:!0}),y.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:F=>l(F.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary outline-none",required:!0}),m&&y.jsx("p",{className:"text-red-500 text-sm",children:m}),y.jsx("button",{type:"submit",disabled:u,className:"w-full bg-primary text-white py-3 rounded-lg font-bold hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:u?y.jsx(ol,{className:"animate-spin w-5 h-5"}):"Login"})]}),y.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:y.jsx(dt,{to:"/",className:"hover:text-primary",children:" Back to Website"})})]})})},iU=({services:t,onAddService:e,onEditService:n,onManageMoments:s,onManageTestimonials:a})=>y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Services"}),y.jsxs("button",{onClick:e,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2 font-bold hover:bg-purple-700 transition-colors",children:[y.jsx(ZE,{className:"w-5 h-5"})," Add Service"]})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("button",{onClick:s,className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all flex flex-col items-center justify-center gap-3 group",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-50 text-primary flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors",children:y.jsx(qE,{className:"w-6 h-6"})}),y.jsx("span",{className:"font-bold text-gray-800",children:"Captured Moments"})]}),y.jsxs("button",{onClick:a,className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all flex flex-col items-center justify-center gap-3 group",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-red-50 text-red-500 flex items-center justify-center group-hover:bg-red-500 group-hover:text-white transition-colors",children:y.jsx(QE,{className:"w-6 h-6"})}),y.jsx("span",{className:"font-bold text-gray-800",children:"Client Love"})]})]}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-8 mb-4",children:"Service Management"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>y.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[y.jsxs("div",{className:"h-40 bg-gray-100 relative",children:[y.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute top-2 right-2 bg-white/90 px-2 py-1 rounded text-xs font-bold shadow-sm",children:l.id})]}),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:l.title}),y.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-2",children:l.description}),l.priceStart>0&&y.jsxs("p",{className:"text-sm font-bold text-primary mb-4",children:["Starts from ",l.priceStart.toLocaleString()]}),y.jsxs("button",{onClick:()=>n(l.id),className:"w-full border border-primary text-primary font-bold py-2 rounded-lg hover:bg-primary/5 transition-colors flex items-center justify-center gap-2",children:[y.jsx(gg,{className:"w-4 h-4"})," Manage"]})]})]},l.id))})]}),sU=({serviceId:t,onBack:e,onSuccess:n,onManageItems:s})=>{const{services:a}=Ni(),l=a.find(F=>F.id===t),[u,f]=P.useState({title:(l==null?void 0:l.title)||"",slug:(l==null?void 0:l.id)||"",description:(l==null?void 0:l.description)||"",tags:(l==null?void 0:l.features)||[],imageUrl:"",priceStart:(l==null?void 0:l.priceStart)||""}),[m,g]=P.useState(""),[v,b]=P.useState(!1),[E,A]=P.useState(!t),M=["Balloon Arches","Themed Backdrops","Cake Table Decor"],N=F=>{f(z=>{const ie=z.tags.includes(F)?z.tags.filter(te=>te!==F):[...z.tags,F];return{...z,tags:ie}})},I=()=>{m&&!u.tags.includes(m)&&(f(F=>({...F,tags:[...F.tags,m]})),g(""))},U=async F=>{F.preventDefault(),b(!0);try{let z=u.imageUrl||(l==null?void 0:l.image)||"";const ie={service:u.title,slug:u.slug,description:u.description,tags:u.tags,image:z,priceStart:Number(u.priceStart)||0,updatedAt:gl(),createdAt:(l==null?void 0:l.createdAt)||gl()};await C2(Nu(ts,"services",u.slug),ie,{merge:!0}),alert("Service Saved!"),n()}catch(z){console.error(z),alert("Error saving service")}finally{b(!1)}};return y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsxs("button",{onClick:e,className:"text-gray-500 hover:text-gray-900 flex items-center gap-2 mb-6",children:[y.jsx(ka,{className:"w-4 h-4"})," Back to Dashboard"]}),t&&y.jsxs("button",{onClick:()=>s(t),className:"w-full bg-secondary text-white py-4 rounded-xl font-bold text-lg mb-6 shadow-md hover:bg-purple-700 transition-all flex items-center justify-center gap-2",children:[y.jsx(gg,{className:"w-5 h-5"})," Manage ",l==null?void 0:l.title," Items"]}),t&&y.jsxs("button",{onClick:()=>A(!E),className:`w-full py-3 rounded-lg font-bold border mb-6 transition-all flex items-center justify-center gap-2 ${E?"bg-gray-100 text-gray-700 border-gray-300":"bg-primary text-white border-primary hover:bg-purple-700"}`,children:[y.jsx(gg,{className:"w-4 h-4"})," ",E?`Hide ${l==null?void 0:l.title} Details`:`Edit ${l==null?void 0:l.title} Details`]}),E&&y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-8",children:[y.jsx("div",{className:"flex justify-between items-start mb-6",children:y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Service":"New Service"})}),y.jsxs("form",{onSubmit:U,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Service Title"}),y.jsx("input",{className:"w-full p-3 border rounded-lg",value:u.title,onChange:F=>f({...u,title:F.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Slug (ID)"}),y.jsx("input",{className:"w-full p-3 border rounded-lg bg-gray-50",value:u.slug,onChange:F=>f({...u,slug:F.target.value.toLowerCase().replace(/\s+/g,"-")}),required:!0,disabled:!!t})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Starting Price"}),y.jsx("input",{type:"number",className:"w-full p-3 border rounded-lg",value:u.priceStart,onChange:F=>f({...u,priceStart:F.target.value}),placeholder:"0"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),y.jsx("textarea",{className:"w-full p-3 border rounded-lg h-32",value:u.description,onChange:F=>f({...u,description:F.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Features / Tags"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:u.tags.map(F=>y.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold flex items-center gap-2",children:[F,y.jsx("button",{type:"button",onClick:()=>N(F),className:"hover:text-red-500",children:""})]},F))}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:M.map(F=>u.tags.includes(F)?null:y.jsxs("button",{type:"button",onClick:()=>N(F),className:"px-3 py-1 rounded-full text-sm border border-gray-200 text-gray-600 hover:border-primary hover:text-primary transition-colors",children:["+ ",F]},F))}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:m,onChange:F=>g(F.target.value),placeholder:"Add extra tag...",className:"flex-grow p-2 border rounded",onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),I())}}),y.jsx("button",{type:"button",onClick:I,className:"bg-gray-100 px-4 py-2 rounded font-bold hover:bg-gray-200 text-sm",children:"Add"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Hero Image"}),y.jsxs("div",{className:"flex items-center gap-4",children:[u.imageUrl&&y.jsx("img",{src:u.imageUrl,className:"w-16 h-16 rounded object-cover",alt:"Preview"}),!u.imageUrl&&(l==null?void 0:l.image)&&y.jsx("img",{src:l.image,alt:"Current",className:"w-16 h-16 object-cover rounded"})]}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{type:"text",placeholder:"Or paste image URL",className:"w-full p-2 border rounded text-sm",value:u.imageUrl,onChange:F=>f({...u,imageUrl:F.target.value})})})]}),y.jsx("div",{className:"pt-4 border-t flex justify-end",children:y.jsxs("button",{type:"submit",disabled:v,className:"bg-primary text-white px-8 py-3 rounded-lg font-bold hover:bg-purple-700 transition-all flex items-center gap-2",children:[v?y.jsx(ol,{className:"animate-spin"}):y.jsx(vy,{className:"w-5 h-5"})," Save Service"]})})]})]})]})},rU=["bestseller","new","premium","same-day","budget"],aU=({serviceId:t,onBack:e,onSuccess:n})=>{const{products:s}=Ni(),a=s.filter(A=>A.serviceId===t),[l,u]=P.useState(null),[f,m]=P.useState({name:"",id:"",price:"",oldPrice:"",shortDesc:"",fullDesc:"",tags:[],stock:"",imageUrl:"",rating:"",reviews:""}),[g,v]=P.useState(!1);P.useEffect(()=>{l&&l.id?m({name:l.name,id:l.id,price:l.price,oldPrice:l.oldPrice||"",shortDesc:l.shortDescription,fullDesc:l.fullDescription,tags:l.tags||[],stock:l.stockQty||"",imageUrl:l.image||l.heroImage||"",rating:l.rating||"",reviews:l.reviewsCount||l.reviews||""}):m({name:"",id:"",price:"",oldPrice:"",shortDesc:"",fullDesc:"",tags:[],stock:"",imageUrl:"",rating:"",reviews:""})},[l]);const b=A=>{m(M=>{const N=M.tags.includes(A)?M.tags.filter(I=>I!==A):[...M.tags,A];return{...M,tags:N}})},E=async A=>{A.preventDefault(),v(!0),console.log("formData",f);try{let M=f.imageUrl||(l==null?void 0:l.image)||"";const N=Number(f.price)||0,I=Number(f.oldPrice)||0,U=I>N?Math.round((I-N)/I*100):0,F={id:f.id,name:f.name,image:M,heroImage:M,images:[M],price:N,oldPrice:I,discountPercent:U,discountText:U>0?`${U}% OFF`:null,shortDescription:f.shortDesc,fullDescription:f.fullDesc,tags:f.tags,rating:f.rating===""?5:Number(f.rating),reviews:f.reviews===""?0:Number(f.reviews),reviewsCount:f.reviews===""?0:Number(f.reviews),stockQty:f.stock===""?10:Number(f.stock),updatedAt:gl(),createdAt:(l==null?void 0:l.createdAt)||gl(),currency:"INR",availability:"available",deliveryTimeEstimate:"24-48 hours"},z=Nu(ts,"services",t,"items",f.id);await C2(z,F,{merge:!0}),alert("Item Saved!"),n(),n(),u(null)}catch(M){console.error(M),alert("Error saving item")}finally{v(!1)}};return l!==null?y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsxs("button",{onClick:()=>u(null),className:"text-gray-500 mb-6 flex gap-2",children:[y.jsx(ka,{className:"w-4 h-4"})," Back to Item List"]}),y.jsxs("div",{className:"bg-white p-8 rounded-xl border shadow-sm",children:[y.jsx("h2",{className:"text-xl font-bold mb-6",children:l.id?"Edit Item":"New Item"}),y.jsxs("form",{onSubmit:E,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"col-span-2 md:col-span-1",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Item Name"}),y.jsx("input",{className:"w-full p-2 border rounded",value:f.name,onChange:A=>{const M=A.target.value;m(N=>({...N,name:M,id:l.id?N.id:M.toLowerCase().trim().replace(/\s+/g,"-")}))},required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Price"}),y.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:f.price,onChange:A=>m({...f,price:A.target.value}),required:!0,placeholder:"0"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Old Price"}),y.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:f.oldPrice,onChange:A=>m({...f,oldPrice:A.target.value}),placeholder:"0"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Rating (0-5)"}),y.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",className:"w-full p-2 border rounded",value:f.rating,onChange:A=>m({...f,rating:A.target.value}),placeholder:"5"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Reviews Count"}),y.jsx("input",{type:"number",min:"0",className:"w-full p-2 border rounded",value:f.reviews,onChange:A=>m({...f,reviews:A.target.value}),placeholder:"0"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Short Description"}),y.jsx("textarea",{className:"w-full p-2 border rounded h-20",value:f.shortDesc,onChange:A=>m({...f,shortDesc:A.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Full Description"}),y.jsx("textarea",{className:"w-full p-2 border rounded h-32",value:f.fullDesc,onChange:A=>m({...f,fullDesc:A.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tags"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:rU.map(A=>y.jsxs("button",{type:"button",onClick:()=>b(A),className:`px-3 py-1 rounded-full text-sm font-bold border transition-colors flex items-center gap-1 ${f.tags.includes(A)?"bg-primary text-white border-primary":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}`,children:[A,f.tags.includes(A)&&y.jsx(GE,{className:"w-3 h-3"})]},A))}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Select one or more tags for this product."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Item Image"}),y.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[f.imageUrl&&y.jsx("img",{src:f.imageUrl,className:"w-16 h-16 rounded object-cover",alt:"Preview"}),!f.imageUrl&&l.image&&y.jsx("img",{src:l.image,className:"w-16 h-16 rounded object-cover",alt:"Existing"})]}),y.jsx("input",{type:"text",placeholder:"Paste image URL here...",className:"w-full p-2 border rounded",value:f.imageUrl,onChange:A=>m({...f,imageUrl:A.target.value})})]}),y.jsx("div",{className:"pt-4 border-t flex justify-end",children:y.jsx("button",{type:"submit",disabled:g,className:"bg-primary text-white px-6 py-2 rounded-lg font-bold flex gap-2",children:g?"Saving...":"Save Item"})})]})]})]}):y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("button",{onClick:e,className:"text-gray-500 hover:text-gray-900 flex items-center gap-2 mb-6",children:[y.jsx(ka,{className:"w-4 h-4"})," Back to Service"]}),y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold",children:["Items for ",t]}),y.jsxs("button",{onClick:()=>u({}),className:"bg-primary text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2",children:[y.jsx(ZE,{className:"w-4 h-4"})," Add Item"]})]}),y.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:a.length===0?y.jsx("div",{className:"p-8 text-center text-gray-500",children:"No items found for this service. Add one!"}):y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-50 border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-4",children:"Image"}),y.jsx("th",{className:"p-4",children:"Name"}),y.jsx("th",{className:"p-4",children:"Price"}),y.jsx("th",{className:"p-4",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y",children:a.map(A=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"p-4",children:y.jsx("img",{src:A.image,alt:A.name,className:"w-12 h-12 rounded object-cover"})}),y.jsx("td",{className:"p-4 font-medium",children:A.name}),y.jsxs("td",{className:"p-4",children:["",A.price]}),y.jsx("td",{className:"p-4",children:y.jsx("button",{onClick:()=>u(A),className:"text-primary font-bold hover:underline",children:"Edit"})})]},A.id))})]})})]})},oU=()=>{const{capturedMoments:t,loading:e}=Ni(),[n,s]=P.useState("All"),[a,l]=P.useState(null),u=["All",...Array.from(new Set(t.map(m=>m.type)))],f=n==="All"?t:t.filter(m=>m.type===n);return e&&t.length===0?y.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-20 flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):y.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-20",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx(Ge.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-primary font-bold uppercase tracking-widest text-xs",children:"Our Portfolio"}),y.jsx(Ge.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-5xl font-serif font-bold text-gray-900 mt-2 mb-4",children:"Captured Moments"}),y.jsx(Ge.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.2},className:"w-20 h-1 bg-secondary mx-auto rounded-full"})]}),u.length>1&&y.jsx("div",{className:"flex justify-center mb-10",children:y.jsx("div",{className:"inline-flex flex-wrap justify-center gap-2 bg-white p-2 rounded-full shadow-sm border border-gray-100",children:u.map(m=>y.jsx("button",{onClick:()=>s(m),className:`px-5 py-2 rounded-full text-sm font-bold transition-all duration-300 ${n===m?"bg-primary text-white shadow-md":"text-gray-500 hover:text-gray-900 hover:bg-gray-50"}`,children:m},m))})}),y.jsx(Ge.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.jsx(ja,{children:f.map(m=>y.jsxs(Ge.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"group relative aspect-[4/3] rounded-2xl overflow-hidden cursor-pointer shadow-md hover:shadow-xl",onClick:()=>l(m),children:[y.jsx("img",{src:m.imageUrl,alt:m.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),y.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6",children:[y.jsx("span",{className:"text-secondary text-xs font-bold uppercase tracking-wider mb-1",children:m.type}),y.jsxs("h3",{className:"text-white text-xl font-serif font-bold flex items-center justify-between",children:[m.name,y.jsx(AD,{className:"w-5 h-5 text-white/80"})]})]})]},m.id))})}),f.length===0&&y.jsxs("div",{className:"text-center py-20 text-gray-400",children:[y.jsx(ZI,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),y.jsx("p",{children:"No photos in this category yet."})]})]}),y.jsx(ja,{children:a&&y.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center p-4",onClick:()=>l(null),children:y.jsxs(Ge.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-5xl w-full max-h-[90vh] rounded-lg overflow-hidden",onClick:m=>m.stopPropagation(),children:[y.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 z-10 bg-black/50 text-white p-2 rounded-full hover:bg-white hover:text-black transition-colors",children:y.jsx(mu,{className:"w-6 h-6"})}),y.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-contain max-h-[85vh] rounded-lg"}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent text-white",children:y.jsx("h3",{className:"text-2xl font-serif font-bold",children:a.name})})]})})})]})},lU=()=>{const[t,e]=P.useState({name:"",phone:"",service:"General Inquiry",message:""}),[n,s]=P.useState(!1),[a,l]=P.useState(!1),[u,f]=P.useState({}),m=b=>{e({...t,[b.target.name]:b.target.value}),u[b.target.name]&&f({...u,[b.target.name]:void 0})},g=()=>{const b={};(!t.name.trim()||t.name.length<3)&&(b.name="Name must be at least 3 characters");const E=/^[6-9]\d{9}$/;return(!t.phone||!E.test(t.phone))&&(b.phone="Please enter a valid 10-digit Indian number"),(!t.message.trim()||t.message.length<10)&&(b.message="Message must be at least 10 characters"),f(b),Object.keys(b).length===0},v=b=>{b.preventDefault(),g()&&(s(!0),setTimeout(()=>{l(!0),US({particleCount:100,spread:70,origin:{y:.6},colors:["#7c3aed","#fbbf24"]});const E=`
New Inquiry from Website:
Name: ${t.name}
Phone: ${t.phone}
Interested In: ${t.service}
Message: ${t.message}
        `.trim(),A=`https://wa.me/${VS}?text=${encodeURIComponent(E)}`;setTimeout(()=>{window.open(A,"_blank"),s(!1),l(!1),e({name:"",phone:"",service:"General Inquiry",message:""})},1500)},800))};return y.jsxs("div",{className:"min-h-screen bg-white pt-20",children:[y.jsxs("div",{className:"bg-dark text-white py-20 px-4 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),y.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[y.jsx(Ge.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"text-4xl md:text-6xl font-serif font-bold mb-4",children:"Get in Touch"}),y.jsx(Ge.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"text-gray-300 text-lg",children:"Ready to plan your next celebration? We're here to help."})]})]}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20",children:[y.jsxs(Ge.div,{initial:{x:-50,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},children:[y.jsx("h2",{className:"text-3xl font-serif font-bold text-gray-900 mb-8",children:"Contact Information"}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 text-primary",children:y.jsx(yy,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Phone & WhatsApp"}),y.jsx("p",{className:"text-gray-500 mb-1",children:"Available 9 AM - 9 PM"}),y.jsx("a",{href:"tel:+918112918006",className:"text-primary font-bold hover:underline text-lg",children:"+91 81129 18006"})]})]}),y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center flex-shrink-0 text-secondary",children:y.jsx(WE,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Email Us"}),y.jsx("p",{className:"text-gray-500 mb-1",children:"For corporate & bulk inquiries"}),y.jsx("a",{href:"mailto:thedecoratingvaranasi@gmail.com",className:"text-primary font-bold hover:underline text-lg",children:"thedecoratingvaranasi@gmail.com"})]})]}),y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center flex-shrink-0 text-pink-500",children:y.jsx(gy,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Visit Us"}),y.jsxs("p",{className:"text-gray-500 text-lg leading-relaxed",children:["Brahmanand Colony, Durgakund,",y.jsx("br",{}),"Varanasi, Uttar Pradesh 221005"]})]})]}),y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 text-blue-600",children:y.jsx($I,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Website Developer"}),y.jsx("p",{className:"text-gray-900 font-bold text-lg",children:"Awadhesh Chaurasia"}),y.jsxs("div",{className:"flex flex-col text-gray-500",children:[y.jsx("a",{href:"tel:+919936169852",className:"hover:text-primary transition-colors",children:"+91 99361 69852"}),y.jsx("a",{href:"mailto:chaurasiawadh@gmail.com",className:"hover:text-primary transition-colors",children:"chaurasiawadh@gmail.com"}),y.jsx("a",{href:"https://www.linkedin.com/in/chaurasiawadh/",target:"_blank",rel:"noopener noreferrer",className:"text-primary font-bold hover:underline",children:"LinkedIn Profile"})]})]})]})]}),y.jsxs("div",{className:"mt-12",children:[y.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Follow Us"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("a",{href:"https://www.instagram.com/thedecoratingvaranasi/",target:"_blank",className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-gradient-to-tr hover:from-yellow-400 hover:via-red-500 hover:to-purple-500 hover:text-white transition-all shadow-sm hover:shadow-lg",children:y.jsx(XE,{className:"w-6 h-6"})}),y.jsx("a",{href:"https://www.facebook.com/p/The-Decorating-Varanasi-61579304051679/",target:"_blank",className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-blue-600 hover:text-white transition-all shadow-sm hover:shadow-lg",children:y.jsx(YE,{className:"w-6 h-6"})})]})]})]}),y.jsx(Ge.div,{initial:{x:50,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},className:"bg-white rounded-3xl p-8 shadow-2xl border border-gray-100",children:a?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx($E,{className:"w-10 h-10 text-green-600"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Ready!"}),y.jsx("p",{className:"text-gray-500",children:"Redirecting to WhatsApp to send your message..."})]}):y.jsxs("form",{onSubmit:v,className:"space-y-6",noValidate:!0,children:[y.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900",children:"Send a Message"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Name"}),y.jsx("input",{type:"text",name:"name",value:t.name,onChange:m,className:`w-full p-4 bg-gray-50 rounded-xl border ${u.name?"border-red-500":"border-gray-200"} focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all`,placeholder:"John Doe"}),u.name&&y.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.name})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Phone Number"}),y.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:m,className:`w-full p-4 bg-gray-50 rounded-xl border ${u.phone?"border-red-500":"border-gray-200"} focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all`,placeholder:"98765 43210",maxLength:10}),u.phone&&y.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.phone})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Interested In"}),y.jsxs("select",{name:"service",value:t.service,onChange:m,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all appearance-none",children:[y.jsx("option",{children:"General Inquiry"}),y.jsx("option",{children:"Wedding Decoration"}),y.jsx("option",{children:"Birthday Party"}),y.jsx("option",{children:"Anniversary"}),y.jsx("option",{children:"Corporate Event"}),y.jsx("option",{children:"Other"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Message"}),y.jsx("textarea",{name:"message",value:t.message,onChange:m,className:`w-full p-4 bg-gray-50 rounded-xl border ${u.message?"border-red-500":"border-gray-200"} focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all h-32 resize-none`,placeholder:"Tell us about your event date, venue, and requirements..."}),u.message&&y.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.message})]}),y.jsx("button",{type:"submit",disabled:n,className:"w-full bg-primary hover:bg-purple-700 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 active:scale-95 transition-all flex items-center justify-center gap-2",children:n?"Opening WhatsApp...":y.jsx(y.Fragment,{children:"Send to WhatsApp"})})]})})]})}),y.jsx(Ge.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},className:"w-full h-96 bg-gray-100",children:y.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3607.039607198162!2d82.99767677598822!3d25.27581162744383!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x398e33d4b6894c25%3A0x629c42c94a504383!2sDurgakund%2C%20Jawahar%20Nagar%20Colony%2C%20Bhelupur%2C%20Varanasi%2C%20Uttar%20Pradesh!5e0!3m2!1sen!2sin!4v1709825432000!5m2!1sen!2sin",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"grayscale hover:grayscale-0 transition-all duration-700"})})]})},cU=()=>{const{capturedMoments:t,services:e}=Ni(),[n,s]=P.useState("All"),a=n==="All"?t:t.filter(u=>u.type===n),l=["All",...Array.from(new Set(t.map(u=>u.type)))];return!t||t.length===0?null:y.jsx("section",{className:"py-20 bg-white px-4",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("span",{className:"text-primary font-bold uppercase tracking-widest text-xs",children:"Gallery"}),y.jsx("h2",{className:"text-3xl md:text-5xl font-serif font-bold text-gray-900 mt-2",children:"Captured Moments"}),y.jsx("div",{className:"w-20 h-1 bg-secondary mx-auto mt-6 rounded-full"})]}),l.length>1&&y.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:l.map(u=>y.jsx("button",{onClick:()=>s(u),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 ${n===u?"bg-primary text-white shadow-lg transform scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:u},u))}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map((u,f)=>y.jsxs(Ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f*.1},className:"group relative overflow-hidden rounded-xl aspect-[4/5] cursor-pointer",children:[y.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),y.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6",children:[y.jsx("span",{className:"text-secondary text-xs font-bold uppercase tracking-wider mb-2",children:u.type}),y.jsx("h3",{className:"text-white font-serif text-xl font-bold",children:u.name})]})]},u.id))})]})})},uU=({testimonial:t,onClose:e})=>y.jsx(ja,{children:t&&y.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:e,children:y.jsxs(Ge.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-white rounded-2xl max-w-lg w-full overflow-hidden shadow-2xl relative",onClick:n=>n.stopPropagation(),children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors z-10",children:y.jsx(mu,{className:"w-5 h-5 text-gray-500"})}),y.jsxs("div",{className:"relative h-32 bg-primary/5",children:[y.jsx(dD,{className:"absolute top-6 left-6 w-12 h-12 text-primary/10"}),y.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2",children:y.jsx("img",{src:t.image,alt:t.name,className:"w-20 h-20 rounded-full border-4 border-white shadow-lg object-cover"})})]}),y.jsxs("div",{className:"pt-12 pb-8 px-8 text-center",children:[y.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-900 mb-1",children:t.name}),y.jsx("div",{className:"flex justify-center gap-1 mb-6",children:[...Array(5)].map((n,s)=>y.jsx(_y,{className:`w-4 h-4 ${s<t.rating?"text-yellow-400 fill-current":"text-gray-300"}`},s))}),y.jsxs("blockquote",{className:"text-gray-600 italic leading-relaxed text-lg",children:['"',t.comment,'"']})]})]})})}),hU=()=>{const{pathname:t}=ps();return P.useEffect(()=>{window.scrollTo(0,0)},[t]),null},fU=()=>y.jsxs("footer",{className:"bg-dark text-gray-300 py-16",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-12",children:[y.jsxs("div",{className:"col-span-1 md:col-span-2",children:[y.jsx("img",{src:PS,alt:OS,className:"h-12 w-auto object-contain mb-6 rounded-lg bg-white/10"}),y.jsx("p",{className:"text-sm leading-relaxed mb-6 max-w-sm",children:"Creating timeless memories through exquisite event styling. Based in the heart of Varanasi, we bring joy, color, and elegance to every celebration."}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("a",{href:"https://www.instagram.com/thedecoratingvaranasi/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors cursor-pointer",children:y.jsx(XE,{className:"w-5 h-5"})}),y.jsx("a",{href:"https://www.facebook.com/p/The-Decorating-Varanasi-61579304051679/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors cursor-pointer",children:y.jsx(YE,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-bold mb-4 uppercase text-sm tracking-wider",children:"Quick Links"}),y.jsxs("ul",{className:"space-y-2 text-sm",children:[y.jsx("li",{children:y.jsx(dt,{to:"/",className:"hover:text-secondary transition-colors",children:"Home"})}),y.jsx("li",{children:y.jsx(dt,{to:"/services",className:"hover:text-secondary transition-colors",children:"All Services"})}),y.jsx("li",{children:y.jsx(dt,{to:"/gallery",className:"hover:text-secondary transition-colors",children:"Gallery"})}),y.jsx("li",{children:y.jsx(dt,{to:"/contact",className:"hover:text-secondary transition-colors",children:"Contact Us"})}),y.jsx("li",{children:y.jsx(dt,{to:"/booking",className:"hover:text-secondary transition-colors",children:"Book Now"})}),y.jsx("li",{children:y.jsx(dt,{to:"/admin",className:"hover:text-secondary transition-colors",children:"Admin Portal"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-bold mb-4 uppercase text-sm tracking-wider",children:"Contact"}),y.jsxs("ul",{className:"space-y-4 text-sm",children:[y.jsxs("li",{className:"flex items-center gap-3",children:[y.jsx(yy,{className:"w-4 h-4 text-secondary"}),y.jsx("span",{children:"+91 92503 33876"})]}),y.jsxs("li",{className:"flex items-center gap-3",children:[y.jsx(WE,{className:"w-4 h-4 text-secondary"}),y.jsx("span",{children:"thedecoratingvaranasi@gmail.com"})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx(gy,{className:"w-4 h-4 text-secondary mt-1"}),y.jsx("span",{children:"Brahmanand Colony, Durgakund, Varanasi"})]})]})]})]}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 mt-12 pt-8 border-t border-gray-800 text-center text-xs text-gray-500",children:[" ",new Date().getFullYear()," TheDecoratingVaranasi. All rights reserved."]})]}),wE=()=>{const{services:t,testimonials:e,loading:n}=Ni(),[s,a]=AE.useState(null);return n&&t.length===0?y.jsx("div",{className:"min-h-screen flex items-center justify-center text-primary",children:"Loading amazing things..."}):y.jsxs(y.Fragment,{children:[y.jsx(aj,{}),y.jsx("section",{id:"services",className:"py-20 bg-gray-50 px-4",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("span",{className:"text-primary font-bold uppercase tracking-widest text-xs",children:"Our Expertise"}),y.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-bold text-gray-900 mt-2",children:"Curated Experiences"}),y.jsx("div",{className:"w-20 h-1 bg-secondary mx-auto mt-6 rounded-full"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((l,u)=>y.jsx(LS,{service:l,index:u},l.id))})]})}),y.jsx("section",{className:"py-20 bg-white px-4",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsx("div",{className:"text-center mb-16",children:y.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-gray-900",children:"How It Works"})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{num:"01",title:"Choose Service",desc:"Browse our wide range of decoration themes."},{num:"02",title:"Customize",desc:"Add personal touches and specific requirements."},{num:"03",title:"Book Online",desc:"Fill the simple form to initiate the request."},{num:"04",title:"Confirm",desc:"Finalize details on WhatsApp with our expert."}].map((l,u)=>y.jsxs(Ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:u*.2},className:"text-center group",children:[y.jsx("div",{className:"w-16 h-16 rounded-2xl bg-purple-50 text-primary font-bold text-2xl flex items-center justify-center mx-auto mb-6 group-hover:bg-primary group-hover:text-white transition-colors",children:l.num}),y.jsx("h3",{className:"font-bold text-xl mb-2",children:l.title}),y.jsx("p",{className:"text-gray-500 text-sm",children:l.desc})]},u))})]})}),y.jsx(cU,{}),y.jsxs("section",{className:"py-20 bg-dark relative overflow-hidden px-4",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),y.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-white text-center mb-12",children:"Client Love"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(l=>y.jsxs(Ge.div,{whileHover:{y:-5},className:"bg-white/10 backdrop-blur-md p-6 rounded-2xl border border-white/10 cursor-pointer h-full hover:bg-white/15 transition-colors",onClick:()=>a(l),children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("img",{src:l.image,alt:l.name,className:"w-12 h-12 rounded-full border-2 border-secondary object-cover"}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-bold",children:l.name}),y.jsx("div",{className:"flex text-secondary text-xs",children:"".repeat(l.rating)})]})]}),y.jsxs("p",{className:"text-gray-300 italic line-clamp-4",children:['"',l.comment,'"']}),y.jsx("div",{className:"mt-4 text-xs font-bold text-secondary uppercase tracking-wider opacity-0 group-hover:opacity-100 transition-opacity",children:"Read Full Review"})]},l.id))})]})]}),y.jsx(uU,{testimonial:s,onClose:()=>a(null)})]})},dU=()=>{const{services:t}=Ni();return y.jsx("div",{className:"pt-20 px-4 min-h-screen bg-gray-50 pb-20",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsx("h1",{className:"text-4xl font-serif font-bold text-center mb-12 mt-10",children:"All Services"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,n)=>y.jsx(LS,{service:e,index:n},e.id))})]})})},mU=()=>y.jsx(X9,{children:y.jsxs(yI,{children:[y.jsx(hU,{}),y.jsx("div",{className:"flex flex-col min-h-screen",children:y.jsxs(Rx,{children:[y.jsx(Ji,{path:"/admin",element:y.jsx(nU,{})}),y.jsx(Ji,{path:"*",element:y.jsxs(y.Fragment,{children:[y.jsx(rj,{}),y.jsx("main",{className:"flex-grow",children:y.jsxs(Rx,{children:[y.jsx(Ji,{path:"/",element:y.jsx(wE,{})}),y.jsx(Ji,{path:"/services",element:y.jsx(dU,{})}),y.jsx(Ji,{path:"/gallery",element:y.jsx(oU,{})}),y.jsx(Ji,{path:"/contact",element:y.jsx(lU,{})}),y.jsx(Ji,{path:"/booking",element:y.jsxs(y.Fragment,{children:[y.jsx(wE,{}),y.jsx(W9,{})]})}),y.jsx(Ji,{path:"/booking/:id",element:y.jsx(EE,{})}),y.jsx(Ji,{path:"/services/:id",element:y.jsx(EE,{})})]})}),y.jsx(fU,{}),y.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 p-3 md:hidden z-40 flex gap-2 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]",children:[y.jsxs("a",{href:"tel:+919250333876",className:"flex-1 bg-gray-100 text-gray-800 font-bold py-3 rounded-lg flex items-center justify-center gap-2",children:[y.jsx(yy,{className:"w-4 h-4"})," Call"]}),y.jsx(dt,{to:"/booking",className:"flex-1 bg-primary text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2",children:"Book Now"})]})]})})]})})]})}),mR=document.getElementById("root");if(!mR)throw new Error("Could not find root element to mount to");const pU=tN.createRoot(mR);pU.render(y.jsx(AE.StrictMode,{children:y.jsx(mU,{})}));
