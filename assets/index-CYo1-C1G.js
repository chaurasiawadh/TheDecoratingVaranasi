(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function JE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yp={exports:{}},Lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function VN(){if(Ux)return Lc;Ux=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Lc.Fragment=e,Lc.jsx=n,Lc.jsxs=n,Lc}var Bx;function jN(){return Bx||(Bx=1,Yp.exports=VN()),Yp.exports}var y=jN(),Xp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function LN(){if(zx)return De;zx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function A(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,I={};function O(w,$,ie){this.props=w,this.context=$,this.refs=I,this.updater=ie||L}O.prototype.isReactComponent={},O.prototype.setState=function(w,$){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,$,"setState")},O.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function V(){}V.prototype=O.prototype;function k(w,$,ie){this.props=w,this.context=$,this.refs=I,this.updater=ie||L}var W=k.prototype=new V;W.constructor=k,M(W,O.prototype),W.isPureReactComponent=!0;var ee=Array.isArray;function re(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(w,$,ie){var le=ie.ref;return{$$typeof:t,type:w,key:$,ref:le!==void 0?le:null,props:ie}}function z(w,$){return D(w.type,$,w.props)}function P(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function H(w){var $={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ie){return $[ie]})}var U=/\/+/g;function Le(w,$){return typeof w=="object"&&w!==null&&w.key!=null?H(""+w.key):$.toString(36)}function We(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(re,re):(w.status="pending",w.then(function($){w.status==="pending"&&(w.status="fulfilled",w.value=$)},function($){w.status==="pending"&&(w.status="rejected",w.reason=$)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function te(w,$,ie,le,he){var me=typeof w;(me==="undefined"||me==="boolean")&&(w=null);var de=!1;if(w===null)de=!0;else switch(me){case"bigint":case"string":case"number":de=!0;break;case"object":switch(w.$$typeof){case t:case e:de=!0;break;case v:return de=w._init,te(de(w._payload),$,ie,le,he)}}if(de)return he=he(w),de=le===""?"."+Le(w,0):le,ee(he)?(ie="",de!=null&&(ie=de.replace(U,"$&/")+"/"),te(he,$,ie,"",function(et){return et})):he!=null&&(P(he)&&(he=z(he,ie+(he.key==null||w&&w.key===he.key?"":(""+he.key).replace(U,"$&/")+"/")+de)),$.push(he)),1;de=0;var be=le===""?".":le+":";if(ee(w))for(var Ee=0;Ee<w.length;Ee++)le=w[Ee],me=be+Le(le,Ee),de+=te(le,$,ie,me,he);else if(Ee=A(w),typeof Ee=="function")for(w=Ee.call(w),Ee=0;!(le=w.next()).done;)le=le.value,me=be+Le(le,Ee++),de+=te(le,$,ie,me,he);else if(me==="object"){if(typeof w.then=="function")return te(We(w),$,ie,le,he);throw $=String(w),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return de}function ue(w,$,ie){if(w==null)return w;var le=[],he=0;return te(w,le,"","",function(me){return $.call(ie,me,he++)}),le}function pe(w){if(w._status===-1){var $=w._result;$=$(),$.then(function(ie){(w._status===0||w._status===-1)&&(w._status=1,w._result=ie)},function(ie){(w._status===0||w._status===-1)&&(w._status=2,w._result=ie)}),w._status===-1&&(w._status=0,w._result=$)}if(w._status===1)return w._result.default;throw w._result}var Ce=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},G={map:ue,forEach:function(w,$,ie){ue(w,function(){$.apply(this,arguments)},ie)},count:function(w){var $=0;return ue(w,function(){$++}),$},toArray:function(w){return ue(w,function($){return $})||[]},only:function(w){if(!P(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return De.Activity=b,De.Children=G,De.Component=O,De.Fragment=n,De.Profiler=a,De.PureComponent=k,De.StrictMode=s,De.Suspense=d,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,De.__COMPILER_RUNTIME={__proto__:null,c:function(w){return N.H.useMemoCache(w)}},De.cache=function(w){return function(){return w.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(w,$,ie){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var le=M({},w.props),he=w.key;if($!=null)for(me in $.key!==void 0&&(he=""+$.key),$)!C.call($,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&$.ref===void 0||(le[me]=$[me]);var me=arguments.length-2;if(me===1)le.children=ie;else if(1<me){for(var de=Array(me),be=0;be<me;be++)de[be]=arguments[be+2];le.children=de}return D(w.type,he,le)},De.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:l,_context:w},w},De.createElement=function(w,$,ie){var le,he={},me=null;if($!=null)for(le in $.key!==void 0&&(me=""+$.key),$)C.call($,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(he[le]=$[le]);var de=arguments.length-2;if(de===1)he.children=ie;else if(1<de){for(var be=Array(de),Ee=0;Ee<de;Ee++)be[Ee]=arguments[Ee+2];he.children=be}if(w&&w.defaultProps)for(le in de=w.defaultProps,de)he[le]===void 0&&(he[le]=de[le]);return D(w,me,he)},De.createRef=function(){return{current:null}},De.forwardRef=function(w){return{$$typeof:f,render:w}},De.isValidElement=P,De.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:pe}},De.memo=function(w,$){return{$$typeof:p,type:w,compare:$===void 0?null:$}},De.startTransition=function(w){var $=N.T,ie={};N.T=ie;try{var le=w(),he=N.S;he!==null&&he(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(re,Ce)}catch(me){Ce(me)}finally{$!==null&&ie.types!==null&&($.types=ie.types),N.T=$}},De.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},De.use=function(w){return N.H.use(w)},De.useActionState=function(w,$,ie){return N.H.useActionState(w,$,ie)},De.useCallback=function(w,$){return N.H.useCallback(w,$)},De.useContext=function(w){return N.H.useContext(w)},De.useDebugValue=function(){},De.useDeferredValue=function(w,$){return N.H.useDeferredValue(w,$)},De.useEffect=function(w,$){return N.H.useEffect(w,$)},De.useEffectEvent=function(w){return N.H.useEffectEvent(w)},De.useId=function(){return N.H.useId()},De.useImperativeHandle=function(w,$,ie){return N.H.useImperativeHandle(w,$,ie)},De.useInsertionEffect=function(w,$){return N.H.useInsertionEffect(w,$)},De.useLayoutEffect=function(w,$){return N.H.useLayoutEffect(w,$)},De.useMemo=function(w,$){return N.H.useMemo(w,$)},De.useOptimistic=function(w,$){return N.H.useOptimistic(w,$)},De.useReducer=function(w,$,ie){return N.H.useReducer(w,$,ie)},De.useRef=function(w){return N.H.useRef(w)},De.useState=function(w){return N.H.useState(w)},De.useSyncExternalStore=function(w,$,ie){return N.H.useSyncExternalStore(w,$,ie)},De.useTransition=function(){return N.H.useTransition()},De.version="19.2.3",De}var Fx;function Dy(){return Fx||(Fx=1,Xp.exports=LN()),Xp.exports}var j=Dy();const ew=JE(j);var Qp={exports:{}},Uc={},Wp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function UN(){return Hx||(Hx=1,(function(t){function e(te,ue){var pe=te.length;te.push(ue);e:for(;0<pe;){var Ce=pe-1>>>1,G=te[Ce];if(0<a(G,ue))te[Ce]=ue,te[pe]=G,pe=Ce;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var ue=te[0],pe=te.pop();if(pe!==ue){te[0]=pe;e:for(var Ce=0,G=te.length,w=G>>>1;Ce<w;){var $=2*(Ce+1)-1,ie=te[$],le=$+1,he=te[le];if(0>a(ie,pe))le<G&&0>a(he,ie)?(te[Ce]=he,te[le]=pe,Ce=le):(te[Ce]=ie,te[$]=pe,Ce=$);else if(le<G&&0>a(he,pe))te[Ce]=he,te[le]=pe,Ce=le;else break e}}return ue}function a(te,ue){var pe=te.sortIndex-ue.sortIndex;return pe!==0?pe:te.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var d=[],p=[],v=1,b=null,E=3,A=!1,L=!1,M=!1,I=!1,O=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function W(te){for(var ue=n(p);ue!==null;){if(ue.callback===null)s(p);else if(ue.startTime<=te)s(p),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(p)}}function ee(te){if(M=!1,W(te),!L)if(n(d)!==null)L=!0,re||(re=!0,H());else{var ue=n(p);ue!==null&&We(ee,ue.startTime-te)}}var re=!1,N=-1,C=5,D=-1;function z(){return I?!0:!(t.unstable_now()-D<C)}function P(){if(I=!1,re){var te=t.unstable_now();D=te;var ue=!0;try{e:{L=!1,M&&(M=!1,V(N),N=-1),A=!0;var pe=E;try{t:{for(W(te),b=n(d);b!==null&&!(b.expirationTime>te&&z());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,E=b.priorityLevel;var G=Ce(b.expirationTime<=te);if(te=t.unstable_now(),typeof G=="function"){b.callback=G,W(te),ue=!0;break t}b===n(d)&&s(d),W(te)}else s(d);b=n(d)}if(b!==null)ue=!0;else{var w=n(p);w!==null&&We(ee,w.startTime-te),ue=!1}}break e}finally{b=null,E=pe,A=!1}ue=void 0}}finally{ue?H():re=!1}}}var H;if(typeof k=="function")H=function(){k(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Le=U.port2;U.port1.onmessage=P,H=function(){Le.postMessage(null)}}else H=function(){O(P,0)};function We(te,ue){N=O(function(){te(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(te){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var pe=E;E=ue;try{return te()}finally{E=pe}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var pe=E;E=te;try{return ue()}finally{E=pe}},t.unstable_scheduleCallback=function(te,ue,pe){var Ce=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ce+pe:Ce):pe=Ce,te){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=pe+G,te={id:v++,callback:ue,priorityLevel:te,startTime:pe,expirationTime:G,sortIndex:-1},pe>Ce?(te.sortIndex=pe,e(p,te),n(d)===null&&te===n(p)&&(M?(V(N),N=-1):M=!0,We(ee,pe-Ce))):(te.sortIndex=G,e(d,te),L||A||(L=!0,re||(re=!0,H()))),te},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(te){var ue=E;return function(){var pe=E;E=ue;try{return te.apply(this,arguments)}finally{E=pe}}}})(Zp)),Zp}var qx;function BN(){return qx||(qx=1,Wp.exports=UN()),Wp.exports}var Jp={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function zN(){if(Gx)return yn;Gx=1;var t=Dy();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,yn.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,v)},yn.flushSync=function(d){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=p,s.p=v,s.d.f()}},yn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},yn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},yn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:A}):v==="script"&&s.d.X(d,{crossOrigin:b,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},yn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin);s.d.L(d,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yn.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=f(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},yn.requestFormReset=function(d){s.d.r(d)},yn.unstable_batchedUpdates=function(d,p){return d(p)},yn.useFormState=function(d,p,v){return c.H.useFormState(d,p,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var $x;function FN(){if($x)return Jp.exports;$x=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jp.exports=zN(),Jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function HN(){if(Kx)return Uc;Kx=1;var t=BN(),e=Dy(),n=FN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===u)return d(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=m,u=g;else{for(var x=!1,S=m.child;S;){if(S===o){x=!0,o=m,u=g;break}if(S===u){x=!0,u=m,o=g;break}S=S.sibling}if(!x){for(S=g.child;S;){if(S===o){x=!0,o=g,u=m;break}if(S===u){x=!0,u=g,o=m;break}S=S.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),k=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function Le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case O:return"Profiler";case I:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case L:return"Portal";case k:return i.displayName||"Context";case V:return(i._context.displayName||"Context")+".Consumer";case W:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:Le(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return Le(i(r))}catch{}}return null}var We=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ce=[],G=-1;function w(i){return{current:i}}function $(i){0>G||(i.current=Ce[G],Ce[G]=null,G--)}function ie(i,r){G++,Ce[G]=i.current,i.current=r}var le=w(null),he=w(null),me=w(null),de=w(null);function be(i,r){switch(ie(me,r),ie(he,i),ie(le,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?lx(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=lx(r),i=cx(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(le),ie(le,i)}function Ee(){$(le),$(he),$(me)}function et(i){i.memoizedState!==null&&ie(de,i);var r=le.current,o=cx(r,i.type);r!==o&&(ie(he,i),ie(le,o))}function Ye(i){he.current===i&&($(le),$(he)),de.current===i&&($(de),kc._currentValue=pe)}var it,_t;function Ie(i){if(it===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);it=r&&r[1]||"",_t=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+i+_t}var Ot=!1;function Kt(i,r){if(!i||Ot)return"";Ot=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var Q=J}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(J){Q=J}i.call(ae.prototype)}}else{try{throw Error()}catch(J){Q=J}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],S=g[1];if(x&&S){var B=x.split(`
`),X=S.split(`
`);for(m=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(u===B.length||m===X.length)for(u=B.length-1,m=X.length-1;1<=u&&0<=m&&B[u]!==X[m];)m--;for(;1<=u&&0<=m;u--,m--)if(B[u]!==X[m]){if(u!==1||m!==1)do if(u--,m--,0>m||B[u]!==X[m]){var ne=`
`+B[u].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=u&&0<=m);break}}}finally{Ot=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ie(o):""}function an(i,r){switch(i.tag){case 26:case 27:case 5:return Ie(i.type);case 16:return Ie("Lazy");case 13:return i.child!==r&&r!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Kt(i.type,!1);case 11:return Kt(i.type.render,!1);case 1:return Kt(i.type,!0);case 31:return Ie("Activity");default:return""}}function En(i){try{var r="",o=null;do r+=an(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ot=Object.prototype.hasOwnProperty,tt=t.unstable_scheduleCallback,ki=t.unstable_cancelCallback,Ll=t.unstable_shouldYield,so=t.unstable_requestPaint,Zt=t.unstable_now,xs=t.unstable_getCurrentPriorityLevel,Zs=t.unstable_ImmediatePriority,sa=t.unstable_UserBlockingPriority,Oi=t.unstable_NormalPriority,ro=t.unstable_LowPriority,ra=t.unstable_IdlePriority,Js=t.log,ao=t.unstable_setDisableYieldValue,Ln=null,on=null;function Qn(i){if(typeof Js=="function"&&ao(i),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(Ln,i)}catch{}}var It=Math.clz32?Math.clz32:Xu,Yu=Math.log,oo=Math.LN2;function Xu(i){return i>>>=0,i===0?32:31-(Yu(i)/oo|0)|0}var Vi=256,aa=262144,Vt=4194304;function ji(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Li(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?m=ji(u):(x&=S,x!==0?m=ji(x):o||(o=S&~i,o!==0&&(m=ji(o))))):(S=u&~g,S!==0?m=ji(S):x!==0?m=ji(x):o||(o=u&~i,o!==0&&(m=ji(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function pi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Zd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var i=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),i}function Ui(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function oa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Jd(i,r,o,u,m,g){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,B=i.expirationTimes,X=i.hiddenUpdates;for(o=x&~o;0<o;){var ne=31-It(o),ae=1<<ne;S[ne]=0,B[ne]=-1;var Q=X[ne];if(Q!==null)for(X[ne]=null,ne=0;ne<Q.length;ne++){var J=Q[ne];J!==null&&(J.lane&=-536870913)}o&=~ae}u!==0&&la(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(x&~r))}function la(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-It(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Ul(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-It(o),m=1<<u;m&r|i[u]&r&&(i[u]|=r),o&=~m}}function Bl(i,r){var o=r&-r;return o=(o&42)!==0?1:ca(o),(o&(i.suspendedLanes|r))!==0?0:o}function ca(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ts(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wu(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:Mx(i.type))}function gi(i,r){var o=ue.p;try{return ue.p=i,r()}finally{ue.p=o}}var yi=Math.random().toString(36).slice(2),jt="__reactFiber$"+yi,Jt="__reactProps$"+yi,Bi="__reactContainer$"+yi,lo="__reactEvents$"+yi,em="__reactListeners$"+yi,Zu="__reactHandles$"+yi,Ju="__reactResources$"+yi,zi="__reactMarker$"+yi;function co(i){delete i[jt],delete i[Jt],delete i[lo],delete i[em],delete i[Zu]}function Fi(i){var r=i[jt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Bi]||o[jt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=gx(i);i!==null;){if(o=i[jt])return o;i=gx(i)}return r}i=o,o=i.parentNode}return null}function Wn(i){if(i=i[jt]||i[Bi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Un(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Hi(i){var r=i[Ju];return r||(r=i[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Lt(i){i[zi]=!0}var zl=new Set,Fl={};function qi(i,r){Gi(i,r),Gi(i+"Capture",r)}function Gi(i,r){for(Fl[i]=r,i=0;i<r.length;i++)zl.add(r[i])}var Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Gl={};function eh(i){return ot.call(Gl,i)?!0:ot.call(ql,i)?!1:Hl.test(i)?Gl[i]=!0:(ql[i]=!0,!1)}function uo(i,r,o){if(eh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Bn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ut(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function en(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function er(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $l(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function st(i){if(!i._valueTracker){var r=er(i)?"checked":"value";i._valueTracker=$l(i,r,""+i[r])}}function ua(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=er(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function $i(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ha=/[\n"\\]/g;function Cn(i){return i.replace(ha,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ho(i,r,o,u,m,g,x,S){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+en(r)):i.value!==""+en(r)&&(i.value=""+en(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?Kl(i,x,en(r)):o!=null?Kl(i,x,en(o)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+en(S):i.removeAttribute("name")}function th(i,r,o,u,m,g,x,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){st(i);return}o=o!=null?""+en(o):"",r=r!=null?""+en(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),st(i)}function Kl(i,r,o){r==="number"&&$i(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function tr(i,r,o,u){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+en(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function nh(i,r,o){if(r!=null&&(r=""+en(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+en(o):""}function nr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(We(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=en(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),st(i)}function Nn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ih=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||ih.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Xl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&Yl(i,m,u)}else for(var g in r)r.hasOwnProperty(g)&&Yl(i,g,r[g])}function fo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(i){return ir.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function vi(){}var Ql=null;function Zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var sr=null,Ki=null;function fa(i){var r=Wn(i);if(r&&(i=r.stateNode)){var o=i[Jt]||null;e:switch(i=r.stateNode,r.type){case"input":if(ho(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Cn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var m=u[Jt]||null;if(!m)throw Error(s(90));ho(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ua(u)}break e;case"textarea":nh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&tr(i,!!o.multiple,r,!1)}}}var po=!1;function rr(i,r,o){if(po)return i(r,o);po=!0;try{var u=i(r);return u}finally{if(po=!1,(sr!==null||Ki!==null)&&(Wh(),sr&&(r=sr,i=Ki,Ki=sr=null,fa(r),i)))for(r=0;r<i.length;r++)fa(i[r])}}function _i(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Jt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(Jn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){da=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{da=!1}var Yi=null,Wl=null,ma=null;function Zl(){if(ma)return ma;var i,r=Wl,o=r.length,u,m="value"in Yi?Yi.value:Yi.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var x=o-i;for(u=1;u<=x&&r[o-u]===m[g-u];u++);return ma=m.slice(i,1<u?1-u:void 0)}function pa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Es(){return!0}function bi(){return!1}function ln(i){function r(o,u,m,g,x){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Es:bi,this.isPropagationStopped=bi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),r}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=ln(ws),ar=b({},ws,{view:0,detail:0}),Jl=ln(ar),or,go,Qi,yo=b({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qi&&(Qi&&i.type==="mousemove"?(or=i.screenX-Qi.screenX,go=i.screenY-Qi.screenY):go=or=0,Qi=i),or)},movementY:function(i){return"movementY"in i?i.movementY:go}}),ec=ln(yo),ga=b({},yo,{dataTransfer:0}),rh=ln(ga),ah=b({},ar,{relatedTarget:0}),ya=ln(ah),tc=b({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=ln(tc),vo=b({},ws,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lh=ln(vo),ch=b({},ws,{data:0}),Wi=ln(ch),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=fh[i])?!!r[i]:!1}function lr(){return dh}var wn=b({},ar,{key:function(i){if(i.key){var r=uh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=pa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(i){return i.type==="keypress"?pa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mh=ln(wn),ph=b({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=ln(ph),h=b({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),_=ln(h),T=b({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=ln(T),K=b({},yo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=ln(K),fe=b({},ws,{newState:0,oldState:0}),Pe=ln(fe),Dt=[9,13,27,32],Ze=Jn&&"CompositionEvent"in window,bt=null;Jn&&"documentMode"in document&&(bt=document.documentMode);var ei=Jn&&"TextEvent"in window&&!bt,Zi=Jn&&(!Ze||bt&&8<bt&&11>=bt),xi=" ",Ti=!1;function va(i,r){switch(i){case"keyup":return Dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var bo=!1;function aC(i,r){switch(i){case"compositionend":return _o(r);case"keypress":return r.which!==32?null:(Ti=!0,xi);case"textInput":return i=r.data,i===xi&&Ti?null:i;default:return null}}function oC(i,r){if(bo)return i==="compositionend"||!Ze&&va(i,r)?(i=Zl(),ma=Wl=Yi=null,bo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Zi&&r.locale!=="ko"?null:r.data;default:return null}}var lC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!lC[i.type]:r==="textarea"}function b0(i,r,o,u){sr?Ki?Ki.push(u):Ki=[u]:sr=u,r=rf(r,"onChange"),0<r.length&&(o=new Xi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var nc=null,ic=null;function cC(i){nx(i,0)}function gh(i){var r=Un(i);if(ua(r))return i}function x0(i,r){if(i==="change")return r}var T0=!1;if(Jn){var tm;if(Jn){var nm="oninput"in document;if(!nm){var E0=document.createElement("div");E0.setAttribute("oninput","return;"),nm=typeof E0.oninput=="function"}tm=nm}else tm=!1;T0=tm&&(!document.documentMode||9<document.documentMode)}function w0(){nc&&(nc.detachEvent("onpropertychange",S0),ic=nc=null)}function S0(i){if(i.propertyName==="value"&&gh(ic)){var r=[];b0(r,ic,i,Zn(i)),rr(cC,r)}}function uC(i,r,o){i==="focusin"?(w0(),nc=r,ic=o,nc.attachEvent("onpropertychange",S0)):i==="focusout"&&w0()}function hC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gh(ic)}function fC(i,r){if(i==="click")return gh(r)}function dC(i,r){if(i==="input"||i==="change")return gh(r)}function mC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var zn=typeof Object.is=="function"?Object.is:mC;function sc(i,r){if(zn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!ot.call(r,m)||!zn(i[m],r[m]))return!1}return!0}function A0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function R0(i,r){var o=A0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=A0(o)}}function C0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?C0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function N0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=$i(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=$i(i.document)}return r}function im(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var pC=Jn&&"documentMode"in document&&11>=document.documentMode,xo=null,sm=null,rc=null,rm=!1;function I0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rm||xo==null||xo!==$i(u)||(u=xo,"selectionStart"in u&&im(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),rc&&sc(rc,u)||(rc=u,u=rf(sm,"onSelect"),0<u.length&&(r=new Xi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=xo)))}function _a(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var To={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},am={},D0={};Jn&&(D0=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function ba(i){if(am[i])return am[i];if(!To[i])return i;var r=To[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in D0)return am[i]=r[o];return i}var M0=ba("animationend"),P0=ba("animationiteration"),k0=ba("animationstart"),gC=ba("transitionrun"),yC=ba("transitionstart"),vC=ba("transitioncancel"),O0=ba("transitionend"),V0=new Map,om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");om.push("scrollEnd");function Ei(i,r){V0.set(i,r),qi(r,[i])}var yh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ti=[],Eo=0,lm=0;function vh(){for(var i=Eo,r=lm=Eo=0;r<i;){var o=ti[r];ti[r++]=null;var u=ti[r];ti[r++]=null;var m=ti[r];ti[r++]=null;var g=ti[r];if(ti[r++]=null,u!==null&&m!==null){var x=u.pending;x===null?m.next=m:(m.next=x.next,x.next=m),u.pending=m}g!==0&&j0(o,m,g)}}function _h(i,r,o,u){ti[Eo++]=i,ti[Eo++]=r,ti[Eo++]=o,ti[Eo++]=u,lm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function cm(i,r,o,u){return _h(i,r,o,u),bh(i)}function xa(i,r){return _h(i,null,null,r),bh(i)}function j0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-It(o),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[r]:u.push(r),r.lane=o|536870912),g):null}function bh(i){if(50<Rc)throw Rc=0,vp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var wo={};function _C(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(i,r,o,u){return new _C(i,r,o,u)}function um(i){return i=i.prototype,!(!i||!i.isReactComponent)}function As(i,r){var o=i.alternate;return o===null?(o=Fn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function L0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function xh(i,r,o,u,m,g){var x=0;if(u=i,typeof i=="function")um(i)&&(x=1);else if(typeof i=="string")x=wN(i,o,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Fn(31,o,r,m),i.elementType=D,i.lanes=g,i;case M:return Ta(o.children,m,g,r);case I:x=8,m|=24;break;case O:return i=Fn(12,o,r,m|2),i.elementType=O,i.lanes=g,i;case ee:return i=Fn(13,o,r,m),i.elementType=ee,i.lanes=g,i;case re:return i=Fn(19,o,r,m),i.elementType=re,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:x=10;break e;case V:x=9;break e;case W:x=11;break e;case N:x=14;break e;case C:x=16,u=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Fn(x,o,r,m),r.elementType=i,r.type=u,r.lanes=g,r}function Ta(i,r,o,u){return i=Fn(7,i,u,r),i.lanes=o,i}function hm(i,r,o){return i=Fn(6,i,null,r),i.lanes=o,i}function U0(i){var r=Fn(18,null,null,0);return r.stateNode=i,r}function fm(i,r,o){return r=Fn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var B0=new WeakMap;function ni(i,r){if(typeof i=="object"&&i!==null){var o=B0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:En(r)},B0.set(i,r),r)}return{value:i,source:r,stack:En(r)}}var So=[],Ao=0,Th=null,ac=0,ii=[],si=0,cr=null,Ji=1,es="";function Rs(i,r){So[Ao++]=ac,So[Ao++]=Th,Th=i,ac=r}function z0(i,r,o){ii[si++]=Ji,ii[si++]=es,ii[si++]=cr,cr=i;var u=Ji;i=es;var m=32-It(u)-1;u&=~(1<<m),o+=1;var g=32-It(r)+m;if(30<g){var x=m-m%5;g=(u&(1<<x)-1).toString(32),u>>=x,m-=x,Ji=1<<32-It(r)+m|o<<m|u,es=g+i}else Ji=1<<g|o<<m|u,es=i}function dm(i){i.return!==null&&(Rs(i,1),z0(i,1,0))}function mm(i){for(;i===Th;)Th=So[--Ao],So[Ao]=null,ac=So[--Ao],So[Ao]=null;for(;i===cr;)cr=ii[--si],ii[si]=null,es=ii[--si],ii[si]=null,Ji=ii[--si],ii[si]=null}function F0(i,r){ii[si++]=Ji,ii[si++]=es,ii[si++]=cr,Ji=r.id,es=r.overflow,cr=i}var cn=null,pt=null,qe=!1,ur=null,ri=!1,pm=Error(s(519));function hr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oc(ni(r,i)),pm}function H0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[jt]=i,r[Jt]=u,o){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(o=0;o<Nc.length;o++)je(Nc[o],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),th(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),nr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||ax(r.textContent,o)?(u.popover!=null&&(je("beforetoggle",r),je("toggle",r)),u.onScroll!=null&&je("scroll",r),u.onScrollEnd!=null&&je("scrollend",r),u.onClick!=null&&(r.onclick=vi),r=!0):r=!1,r||hr(i,!0)}function q0(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:cn=cn.return}}function Ro(i){if(i!==cn)return!1;if(!qe)return q0(i),qe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Pp(i.type,i.memoizedProps)),o=!o),o&&pt&&hr(i),q0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));pt=px(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));pt=px(i)}else r===27?(r=pt,Sr(i.type)?(i=Lp,Lp=null,pt=i):pt=r):pt=cn?oi(i.stateNode.nextSibling):null;return!0}function Ea(){pt=cn=null,qe=!1}function gm(){var i=ur;return i!==null&&(Pn===null?Pn=i:Pn.push.apply(Pn,i),ur=null),i}function oc(i){ur===null?ur=[i]:ur.push(i)}var ym=w(null),wa=null,Cs=null;function fr(i,r,o){ie(ym,r._currentValue),r._currentValue=o}function Ns(i){i._currentValue=ym.current,$(ym)}function vm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function _m(i,r,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var x=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var B=0;B<r.length;B++)if(S.context===r[B]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),vm(g.return,o,i),u||(x=null);break e}g=S.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(s(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),vm(x,o,i),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===i){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Co(i,r,o,u){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var S=m.type;zn(m.pendingProps.value,x.value)||(i!==null?i.push(S):i=[S])}}else if(m===de.current){if(x=m.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(kc):i=[kc])}m=m.return}i!==null&&_m(r,i,o,u),r.flags|=262144}function Eh(i){for(i=i.firstContext;i!==null;){if(!zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Sa(i){wa=i,Cs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function un(i){return G0(wa,i)}function wh(i,r){return wa===null&&Sa(i),G0(i,r)}function G0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Cs===null){if(i===null)throw Error(s(308));Cs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Cs=Cs.next=r;return o}var bC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},xC=t.unstable_scheduleCallback,TC=t.unstable_NormalPriority,Bt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bm(){return{controller:new bC,data:new Map,refCount:0}}function lc(i){i.refCount--,i.refCount===0&&xC(TC,function(){i.controller.abort()})}var cc=null,xm=0,No=0,Io=null;function EC(i,r){if(cc===null){var o=cc=[];xm=0,No=wp(),Io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return xm++,r.then($0,$0),r}function $0(){if(--xm===0&&cc!==null){Io!==null&&(Io.status="fulfilled");var i=cc;cc=null,No=0,Io=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function wC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var K0=te.S;te.S=function(i,r){Ib=Zt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&EC(i,r),K0!==null&&K0(i,r)};var Aa=w(null);function Tm(){var i=Aa.current;return i!==null?i:ft.pooledCache}function Sh(i,r){r===null?ie(Aa,Aa.current):ie(Aa,r.pool)}function Y0(){var i=Tm();return i===null?null:{parent:Bt._currentValue,pool:i}}var Do=Error(s(460)),Em=Error(s(474)),Ah=Error(s(542)),Rh={then:function(){}};function X0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Q0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(vi,vi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Z0(i),i;default:if(typeof r.status=="string")r.then(vi,vi);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Z0(i),i}throw Ca=r,Do}}function Ra(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ca=o,Do):o}}var Ca=null;function W0(){if(Ca===null)throw Error(s(459));var i=Ca;return Ca=null,i}function Z0(i){if(i===Do||i===Ah)throw Error(s(483))}var Mo=null,uc=0;function Ch(i){var r=uc;return uc+=1,Mo===null&&(Mo=[]),Q0(Mo,i,r)}function hc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Nh(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function J0(i){function r(q,F){if(i){var Y=q.deletions;Y===null?(q.deletions=[F],q.flags|=16):Y.push(F)}}function o(q,F){if(!i)return null;for(;F!==null;)r(q,F),F=F.sibling;return null}function u(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function m(q,F){return q=As(q,F),q.index=0,q.sibling=null,q}function g(q,F,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<F?(q.flags|=67108866,F):Y):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function x(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function S(q,F,Y,se){return F===null||F.tag!==6?(F=hm(Y,q.mode,se),F.return=q,F):(F=m(F,Y),F.return=q,F)}function B(q,F,Y,se){var xe=Y.type;return xe===M?ne(q,F,Y.props.children,se,Y.key):F!==null&&(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&Ra(xe)===F.type)?(F=m(F,Y.props),hc(F,Y),F.return=q,F):(F=xh(Y.type,Y.key,Y.props,null,q.mode,se),hc(F,Y),F.return=q,F)}function X(q,F,Y,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=fm(Y,q.mode,se),F.return=q,F):(F=m(F,Y.children||[]),F.return=q,F)}function ne(q,F,Y,se,xe){return F===null||F.tag!==7?(F=Ta(Y,q.mode,se,xe),F.return=q,F):(F=m(F,Y),F.return=q,F)}function ae(q,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=hm(""+F,q.mode,Y),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return Y=xh(F.type,F.key,F.props,null,q.mode,Y),hc(Y,F),Y.return=q,Y;case L:return F=fm(F,q.mode,Y),F.return=q,F;case C:return F=Ra(F),ae(q,F,Y)}if(We(F)||H(F))return F=Ta(F,q.mode,Y,null),F.return=q,F;if(typeof F.then=="function")return ae(q,Ch(F),Y);if(F.$$typeof===k)return ae(q,wh(q,F),Y);Nh(q,F)}return null}function Q(q,F,Y,se){var xe=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:S(q,F,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return Y.key===xe?B(q,F,Y,se):null;case L:return Y.key===xe?X(q,F,Y,se):null;case C:return Y=Ra(Y),Q(q,F,Y,se)}if(We(Y)||H(Y))return xe!==null?null:ne(q,F,Y,se,null);if(typeof Y.then=="function")return Q(q,F,Ch(Y),se);if(Y.$$typeof===k)return Q(q,F,wh(q,Y),se);Nh(q,Y)}return null}function J(q,F,Y,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(Y)||null,S(F,q,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return q=q.get(se.key===null?Y:se.key)||null,B(F,q,se,xe);case L:return q=q.get(se.key===null?Y:se.key)||null,X(F,q,se,xe);case C:return se=Ra(se),J(q,F,Y,se,xe)}if(We(se)||H(se))return q=q.get(Y)||null,ne(F,q,se,xe,null);if(typeof se.then=="function")return J(q,F,Y,Ch(se),xe);if(se.$$typeof===k)return J(q,F,Y,wh(F,se),xe);Nh(F,se)}return null}function ye(q,F,Y,se){for(var xe=null,Xe=null,ve=F,Oe=F=0,Be=null;ve!==null&&Oe<Y.length;Oe++){ve.index>Oe?(Be=ve,ve=null):Be=ve.sibling;var Qe=Q(q,ve,Y[Oe],se);if(Qe===null){ve===null&&(ve=Be);break}i&&ve&&Qe.alternate===null&&r(q,ve),F=g(Qe,F,Oe),Xe===null?xe=Qe:Xe.sibling=Qe,Xe=Qe,ve=Be}if(Oe===Y.length)return o(q,ve),qe&&Rs(q,Oe),xe;if(ve===null){for(;Oe<Y.length;Oe++)ve=ae(q,Y[Oe],se),ve!==null&&(F=g(ve,F,Oe),Xe===null?xe=ve:Xe.sibling=ve,Xe=ve);return qe&&Rs(q,Oe),xe}for(ve=u(ve);Oe<Y.length;Oe++)Be=J(ve,q,Oe,Y[Oe],se),Be!==null&&(i&&Be.alternate!==null&&ve.delete(Be.key===null?Oe:Be.key),F=g(Be,F,Oe),Xe===null?xe=Be:Xe.sibling=Be,Xe=Be);return i&&ve.forEach(function(Ir){return r(q,Ir)}),qe&&Rs(q,Oe),xe}function we(q,F,Y,se){if(Y==null)throw Error(s(151));for(var xe=null,Xe=null,ve=F,Oe=F=0,Be=null,Qe=Y.next();ve!==null&&!Qe.done;Oe++,Qe=Y.next()){ve.index>Oe?(Be=ve,ve=null):Be=ve.sibling;var Ir=Q(q,ve,Qe.value,se);if(Ir===null){ve===null&&(ve=Be);break}i&&ve&&Ir.alternate===null&&r(q,ve),F=g(Ir,F,Oe),Xe===null?xe=Ir:Xe.sibling=Ir,Xe=Ir,ve=Be}if(Qe.done)return o(q,ve),qe&&Rs(q,Oe),xe;if(ve===null){for(;!Qe.done;Oe++,Qe=Y.next())Qe=ae(q,Qe.value,se),Qe!==null&&(F=g(Qe,F,Oe),Xe===null?xe=Qe:Xe.sibling=Qe,Xe=Qe);return qe&&Rs(q,Oe),xe}for(ve=u(ve);!Qe.done;Oe++,Qe=Y.next())Qe=J(ve,q,Oe,Qe.value,se),Qe!==null&&(i&&Qe.alternate!==null&&ve.delete(Qe.key===null?Oe:Qe.key),F=g(Qe,F,Oe),Xe===null?xe=Qe:Xe.sibling=Qe,Xe=Qe);return i&&ve.forEach(function(ON){return r(q,ON)}),qe&&Rs(q,Oe),xe}function ht(q,F,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:e:{for(var xe=Y.key;F!==null;){if(F.key===xe){if(xe=Y.type,xe===M){if(F.tag===7){o(q,F.sibling),se=m(F,Y.props.children),se.return=q,q=se;break e}}else if(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&Ra(xe)===F.type){o(q,F.sibling),se=m(F,Y.props),hc(se,Y),se.return=q,q=se;break e}o(q,F);break}else r(q,F);F=F.sibling}Y.type===M?(se=Ta(Y.props.children,q.mode,se,Y.key),se.return=q,q=se):(se=xh(Y.type,Y.key,Y.props,null,q.mode,se),hc(se,Y),se.return=q,q=se)}return x(q);case L:e:{for(xe=Y.key;F!==null;){if(F.key===xe)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){o(q,F.sibling),se=m(F,Y.children||[]),se.return=q,q=se;break e}else{o(q,F);break}else r(q,F);F=F.sibling}se=fm(Y,q.mode,se),se.return=q,q=se}return x(q);case C:return Y=Ra(Y),ht(q,F,Y,se)}if(We(Y))return ye(q,F,Y,se);if(H(Y)){if(xe=H(Y),typeof xe!="function")throw Error(s(150));return Y=xe.call(Y),we(q,F,Y,se)}if(typeof Y.then=="function")return ht(q,F,Ch(Y),se);if(Y.$$typeof===k)return ht(q,F,wh(q,Y),se);Nh(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(o(q,F.sibling),se=m(F,Y),se.return=q,q=se):(o(q,F),se=hm(Y,q.mode,se),se.return=q,q=se),x(q)):o(q,F)}return function(q,F,Y,se){try{uc=0;var xe=ht(q,F,Y,se);return Mo=null,xe}catch(ve){if(ve===Do||ve===Ah)throw ve;var Xe=Fn(29,ve,null,q.mode);return Xe.lanes=se,Xe.return=q,Xe}finally{}}}var Na=J0(!0),e_=J0(!1),dr=!1;function wm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function pr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=bh(i),j0(i,null,o),r}return _h(i,u,r,o),bh(i)}function fc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Ul(i,o)}}function Am(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Rm=!1;function dc(){if(Rm){var i=Io;if(i!==null)throw i}}function mc(i,r,o,u){Rm=!1;var m=i.updateQueue;dr=!1;var g=m.firstBaseUpdate,x=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var B=S,X=B.next;B.next=null,x===null?g=X:x.next=X,x=B;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==x&&(S===null?ne.firstBaseUpdate=X:S.next=X,ne.lastBaseUpdate=B))}if(g!==null){var ae=m.baseState;x=0,ne=X=B=null,S=g;do{var Q=S.lane&-536870913,J=Q!==S.lane;if(J?(Ue&Q)===Q:(u&Q)===Q){Q!==0&&Q===No&&(Rm=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=i,we=S;Q=r;var ht=o;switch(we.tag){case 1:if(ye=we.payload,typeof ye=="function"){ae=ye.call(ht,ae,Q);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,Q=typeof ye=="function"?ye.call(ht,ae,Q):ye,Q==null)break e;ae=b({},ae,Q);break e;case 2:dr=!0}}Q=S.callback,Q!==null&&(i.flags|=64,J&&(i.flags|=8192),J=m.callbacks,J===null?m.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(X=ne=J,B=ae):ne=ne.next=J,x|=Q;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;J=S,S=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ne===null&&(B=ae),m.baseState=B,m.firstBaseUpdate=X,m.lastBaseUpdate=ne,g===null&&(m.shared.lanes=0),br|=x,i.lanes=x,i.memoizedState=ae}}function t_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function n_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)t_(o[i],r)}var Po=w(null),Ih=w(0);function i_(i,r){i=Ls,ie(Ih,i),ie(Po,r),Ls=i|r.baseLanes}function Cm(){ie(Ih,Ls),ie(Po,Po.current)}function Nm(){Ls=Ih.current,$(Po),$(Ih)}var Hn=w(null),ai=null;function gr(i){var r=i.alternate;ie(Mt,Mt.current&1),ie(Hn,i),ai===null&&(r===null||Po.current!==null||r.memoizedState!==null)&&(ai=i)}function Im(i){ie(Mt,Mt.current),ie(Hn,i),ai===null&&(ai=i)}function s_(i){i.tag===22?(ie(Mt,Mt.current),ie(Hn,i),ai===null&&(ai=i)):yr()}function yr(){ie(Mt,Mt.current),ie(Hn,Hn.current)}function qn(i){$(Hn),ai===i&&(ai=null),$(Mt)}var Mt=w(0);function Dh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Vp(o)||jp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Is=0,ke=null,ct=null,zt=null,Mh=!1,ko=!1,Ia=!1,Ph=0,pc=0,Oo=null,SC=0;function Rt(){throw Error(s(321))}function Dm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!zn(i[o],r[o]))return!1;return!0}function Mm(i,r,o,u,m,g){return Is=g,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,te.H=i===null||i.memoizedState===null?z_:Km,Ia=!1,g=o(u,m),Ia=!1,ko&&(g=a_(r,o,u,m)),r_(i),g}function r_(i){te.H=vc;var r=ct!==null&&ct.next!==null;if(Is=0,zt=ct=ke=null,Mh=!1,pc=0,Oo=null,r)throw Error(s(300));i===null||Ft||(i=i.dependencies,i!==null&&Eh(i)&&(Ft=!0))}function a_(i,r,o,u){ke=i;var m=0;do{if(ko&&(Oo=null),pc=0,ko=!1,25<=m)throw Error(s(301));if(m+=1,zt=ct=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}te.H=F_,g=r(o,u)}while(ko);return g}function AC(){var i=te.H,r=i.useState()[0];return r=typeof r.then=="function"?gc(r):r,i=i.useState()[0],(ct!==null?ct.memoizedState:null)!==i&&(ke.flags|=1024),r}function Pm(){var i=Ph!==0;return Ph=0,i}function km(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Om(i){if(Mh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Mh=!1}Is=0,zt=ct=ke=null,ko=!1,pc=Ph=0,Oo=null}function Sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ke.memoizedState=zt=i:zt=zt.next=i,zt}function Pt(){if(ct===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var r=zt===null?ke.memoizedState:zt.next;if(r!==null)zt=r,ct=i;else{if(i===null)throw ke.alternate===null?Error(s(467)):Error(s(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},zt===null?ke.memoizedState=zt=i:zt=zt.next=i}return zt}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(i){var r=pc;return pc+=1,Oo===null&&(Oo=[]),i=Q0(Oo,i,r),r=ke,(zt===null?r.memoizedState:zt.next)===null&&(r=r.alternate,te.H=r===null||r.memoizedState===null?z_:Km),i}function Oh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return gc(i);if(i.$$typeof===k)return un(i)}throw Error(s(438,String(i)))}function Vm(i){var r=null,o=ke.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=kh(),ke.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=z;return r.index++,o}function Ds(i,r){return typeof r=="function"?r(i):r}function Vh(i){var r=Pt();return jm(r,ct,i)}function jm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var x=m.next;m.next=g.next,g.next=x}r.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var S=x=null,B=null,X=r,ne=!1;do{var ae=X.lane&-536870913;if(ae!==X.lane?(Ue&ae)===ae:(Is&ae)===ae){var Q=X.revertLane;if(Q===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ae===No&&(ne=!0);else if((Is&Q)===Q){X=X.next,Q===No&&(ne=!0);continue}else ae={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(S=B=ae,x=g):B=B.next=ae,ke.lanes|=Q,br|=Q;ae=X.action,Ia&&o(g,ae),g=X.hasEagerState?X.eagerState:o(g,ae)}else Q={lane:ae,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(S=B=Q,x=g):B=B.next=Q,ke.lanes|=ae,br|=ae;X=X.next}while(X!==null&&X!==r);if(B===null?x=g:B.next=S,!zn(g,i.memoizedState)&&(Ft=!0,ne&&(o=Io,o!==null)))throw o;i.memoizedState=g,i.baseState=x,i.baseQueue=B,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Lm(i){var r=Pt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var x=m=m.next;do g=i(g,x.action),x=x.next;while(x!==m);zn(g,r.memoizedState)||(Ft=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function o_(i,r,o){var u=ke,m=Pt(),g=qe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!zn((ct||m).memoizedState,o);if(x&&(m.memoizedState=o,Ft=!0),m=m.queue,zm(u_.bind(null,u,m,i),[i]),m.getSnapshot!==r||x||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,Vo(9,{destroy:void 0},c_.bind(null,u,m,o,r),null),ft===null)throw Error(s(349));g||(Is&127)!==0||l_(u,r,o)}return o}function l_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ke.updateQueue,r===null?(r=kh(),ke.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function c_(i,r,o,u){r.value=o,r.getSnapshot=u,h_(r)&&f_(i)}function u_(i,r,o){return o(function(){h_(r)&&f_(i)})}function h_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!zn(i,o)}catch{return!0}}function f_(i){var r=xa(i,2);r!==null&&kn(r,i,2)}function Um(i){var r=Sn();if(typeof i=="function"){var o=i;if(i=o(),Ia){Qn(!0);try{o()}finally{Qn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:i},r}function d_(i,r,o,u){return i.baseState=o,jm(i,ct,typeof u=="function"?u:Ds)}function RC(i,r,o,u,m){if(Uh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};te.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,m_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function m_(i,r){var o=r.action,u=r.payload,m=i.state;if(r.isTransition){var g=te.T,x={};te.T=x;try{var S=o(m,u),B=te.S;B!==null&&B(x,S),p_(i,r,S)}catch(X){Bm(i,r,X)}finally{g!==null&&x.types!==null&&(g.types=x.types),te.T=g}}else try{g=o(m,u),p_(i,r,g)}catch(X){Bm(i,r,X)}}function p_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){g_(i,r,u)},function(u){return Bm(i,r,u)}):g_(i,r,o)}function g_(i,r,o){r.status="fulfilled",r.value=o,y_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,m_(i,o)))}function Bm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,y_(r),r=r.next;while(r!==u)}i.action=null}function y_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function v_(i,r){return r}function __(i,r){if(qe){var o=ft.formState;if(o!==null){e:{var u=ke;if(qe){if(pt){t:{for(var m=pt,g=ri;m.nodeType!==8;){if(!g){m=null;break t}if(m=oi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){pt=oi(m.nextSibling),u=m.data==="F!";break e}}hr(u)}u=!1}u&&(r=o[0])}}return o=Sn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v_,lastRenderedState:r},o.queue=u,o=L_.bind(null,ke,u),u.dispatch=o,u=Um(!1),g=$m.bind(null,ke,!1,u.queue),u=Sn(),m={state:r,dispatch:null,action:i,pending:null},u.queue=m,o=RC.bind(null,ke,m,g,o),m.dispatch=o,u.memoizedState=i,[r,o,!1]}function b_(i){var r=Pt();return x_(r,ct,i)}function x_(i,r,o){if(r=jm(i,r,v_)[0],i=Vh(Ds)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=gc(r)}catch(x){throw x===Do?Ah:x}else u=r;r=Pt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(ke.flags|=2048,Vo(9,{destroy:void 0},CC.bind(null,m,o),null)),[u,g,i]}function CC(i,r){i.action=r}function T_(i){var r=Pt(),o=ct;if(o!==null)return x_(r,o,i);Pt(),r=r.memoizedState,o=Pt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Vo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=ke.updateQueue,r===null&&(r=kh(),ke.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function E_(){return Pt().memoizedState}function jh(i,r,o,u){var m=Sn();ke.flags|=i,m.memoizedState=Vo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Lh(i,r,o,u){var m=Pt();u=u===void 0?null:u;var g=m.memoizedState.inst;ct!==null&&u!==null&&Dm(u,ct.memoizedState.deps)?m.memoizedState=Vo(r,g,o,u):(ke.flags|=i,m.memoizedState=Vo(1|r,g,o,u))}function w_(i,r){jh(8390656,8,i,r)}function zm(i,r){Lh(2048,8,i,r)}function NC(i){ke.flags|=4;var r=ke.updateQueue;if(r===null)r=kh(),ke.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function S_(i){var r=Pt().memoizedState;return NC({ref:r,nextImpl:i}),function(){if((Je&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function A_(i,r){return Lh(4,2,i,r)}function R_(i,r){return Lh(4,4,i,r)}function C_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function N_(i,r,o){o=o!=null?o.concat([i]):null,Lh(4,4,C_.bind(null,r,i),o)}function Fm(){}function I_(i,r){var o=Pt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Dm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function D_(i,r){var o=Pt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Dm(r,u[1]))return u[0];if(u=i(),Ia){Qn(!0);try{i()}finally{Qn(!1)}}return o.memoizedState=[u,r],u}function Hm(i,r,o){return o===void 0||(Is&1073741824)!==0&&(Ue&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Mb(),ke.lanes|=i,br|=i,o)}function M_(i,r,o,u){return zn(o,r)?o:Po.current!==null?(i=Hm(i,o,u),zn(i,r)||(Ft=!0),i):(Is&42)===0||(Is&1073741824)!==0&&(Ue&261930)===0?(Ft=!0,i.memoizedState=o):(i=Mb(),ke.lanes|=i,br|=i,r)}function P_(i,r,o,u,m){var g=ue.p;ue.p=g!==0&&8>g?g:8;var x=te.T,S={};te.T=S,$m(i,!1,r,o);try{var B=m(),X=te.S;if(X!==null&&X(S,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ne=wC(B,u);yc(i,r,ne,Kn(i))}else yc(i,r,u,Kn(i))}catch(ae){yc(i,r,{then:function(){},status:"rejected",reason:ae},Kn())}finally{ue.p=g,x!==null&&S.types!==null&&(x.types=S.types),te.T=x}}function IC(){}function qm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var m=k_(i).queue;P_(i,m,r,pe,o===null?IC:function(){return O_(i),o(u)})}function k_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:pe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function O_(i){var r=k_(i);r.next===null&&(r=i.alternate.memoizedState),yc(i,r.next.queue,{},Kn())}function Gm(){return un(kc)}function V_(){return Pt().memoizedState}function j_(){return Pt().memoizedState}function DC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Kn();i=mr(o);var u=pr(r,i,o);u!==null&&(kn(u,r,o),fc(u,r,o)),r={cache:bm()},i.payload=r;return}r=r.return}}function MC(i,r,o){var u=Kn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Uh(i)?U_(r,o):(o=cm(i,r,o,u),o!==null&&(kn(o,i,u),B_(o,r,u)))}function L_(i,r,o){var u=Kn();yc(i,r,o,u)}function yc(i,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uh(i))U_(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var x=r.lastRenderedState,S=g(x,o);if(m.hasEagerState=!0,m.eagerState=S,zn(S,x))return _h(i,r,m,0),ft===null&&vh(),!1}catch{}finally{}if(o=cm(i,r,m,u),o!==null)return kn(o,i,u),B_(o,r,u),!0}return!1}function $m(i,r,o,u){if(u={lane:2,revertLane:wp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Uh(i)){if(r)throw Error(s(479))}else r=cm(i,o,u,2),r!==null&&kn(r,i,2)}function Uh(i){var r=i.alternate;return i===ke||r!==null&&r===ke}function U_(i,r){ko=Mh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function B_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Ul(i,o)}}var vc={readContext:un,use:Oh,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};vc.useEffectEvent=Rt;var z_={readContext:un,use:Oh,useCallback:function(i,r){return Sn().memoizedState=[i,r===void 0?null:r],i},useContext:un,useEffect:w_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,jh(4194308,4,C_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return jh(4194308,4,i,r)},useInsertionEffect:function(i,r){jh(4,2,i,r)},useMemo:function(i,r){var o=Sn();r=r===void 0?null:r;var u=i();if(Ia){Qn(!0);try{i()}finally{Qn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Sn();if(o!==void 0){var m=o(r);if(Ia){Qn(!0);try{o(r)}finally{Qn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=MC.bind(null,ke,i),[u.memoizedState,i]},useRef:function(i){var r=Sn();return i={current:i},r.memoizedState=i},useState:function(i){i=Um(i);var r=i.queue,o=L_.bind(null,ke,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Fm,useDeferredValue:function(i,r){var o=Sn();return Hm(o,i,r)},useTransition:function(){var i=Um(!1);return i=P_.bind(null,ke,i.queue,!0,!1),Sn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=ke,m=Sn();if(qe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ft===null)throw Error(s(349));(Ue&127)!==0||l_(u,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,w_(u_.bind(null,u,g,i),[i]),u.flags|=2048,Vo(9,{destroy:void 0},c_.bind(null,u,g,o,r),null),o},useId:function(){var i=Sn(),r=ft.identifierPrefix;if(qe){var o=es,u=Ji;o=(u&~(1<<32-It(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Ph++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=SC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Gm,useFormState:__,useActionState:__,useOptimistic:function(i){var r=Sn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=$m.bind(null,ke,!0,o),o.dispatch=r,[i,r]},useMemoCache:Vm,useCacheRefresh:function(){return Sn().memoizedState=DC.bind(null,ke)},useEffectEvent:function(i){var r=Sn(),o={impl:i};return r.memoizedState=o,function(){if((Je&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Km={readContext:un,use:Oh,useCallback:I_,useContext:un,useEffect:zm,useImperativeHandle:N_,useInsertionEffect:A_,useLayoutEffect:R_,useMemo:D_,useReducer:Vh,useRef:E_,useState:function(){return Vh(Ds)},useDebugValue:Fm,useDeferredValue:function(i,r){var o=Pt();return M_(o,ct.memoizedState,i,r)},useTransition:function(){var i=Vh(Ds)[0],r=Pt().memoizedState;return[typeof i=="boolean"?i:gc(i),r]},useSyncExternalStore:o_,useId:V_,useHostTransitionStatus:Gm,useFormState:b_,useActionState:b_,useOptimistic:function(i,r){var o=Pt();return d_(o,ct,i,r)},useMemoCache:Vm,useCacheRefresh:j_};Km.useEffectEvent=S_;var F_={readContext:un,use:Oh,useCallback:I_,useContext:un,useEffect:zm,useImperativeHandle:N_,useInsertionEffect:A_,useLayoutEffect:R_,useMemo:D_,useReducer:Lm,useRef:E_,useState:function(){return Lm(Ds)},useDebugValue:Fm,useDeferredValue:function(i,r){var o=Pt();return ct===null?Hm(o,i,r):M_(o,ct.memoizedState,i,r)},useTransition:function(){var i=Lm(Ds)[0],r=Pt().memoizedState;return[typeof i=="boolean"?i:gc(i),r]},useSyncExternalStore:o_,useId:V_,useHostTransitionStatus:Gm,useFormState:T_,useActionState:T_,useOptimistic:function(i,r){var o=Pt();return ct!==null?d_(o,ct,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Vm,useCacheRefresh:j_};F_.useEffectEvent=S_;function Ym(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Xm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Kn(),m=mr(u);m.payload=r,o!=null&&(m.callback=o),r=pr(i,m,u),r!==null&&(kn(r,i,u),fc(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Kn(),m=mr(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=pr(i,m,u),r!==null&&(kn(r,i,u),fc(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Kn(),u=mr(o);u.tag=2,r!=null&&(u.callback=r),r=pr(i,u,o),r!==null&&(kn(r,i,o),fc(r,i,o))}};function H_(i,r,o,u,m,g,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,x):r.prototype&&r.prototype.isPureReactComponent?!sc(o,u)||!sc(m,g):!0}function q_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Xm.enqueueReplaceState(r,r.state,null)}function Da(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function G_(i){yh(i)}function $_(i){console.error(i)}function K_(i){yh(i)}function Bh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Y_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Qm(i,r,o){return o=mr(o),o.tag=3,o.payload={element:null},o.callback=function(){Bh(i,r)},o}function X_(i){return i=mr(i),i.tag=3,i}function Q_(i,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){Y_(r,o,u)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){Y_(r,o,u),typeof m!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function PC(i,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Co(r,o,m,!0),o=Hn.current,o!==null){switch(o.tag){case 31:case 13:return ai===null?Zh():o.alternate===null&&Ct===0&&(Ct=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Rh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),xp(i,u,m)),!1;case 22:return o.flags|=65536,u===Rh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),xp(i,u,m)),!1}throw Error(s(435,o.tag))}return xp(i,u,m),Zh(),!1}if(qe)return r=Hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==pm&&(i=Error(s(422),{cause:u}),oc(ni(i,o)))):(u!==pm&&(r=Error(s(423),{cause:u}),oc(ni(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=ni(u,o),m=Qm(i.stateNode,u,m),Am(i,m),Ct!==4&&(Ct=2)),!1;var g=Error(s(520),{cause:u});if(g=ni(g,o),Ac===null?Ac=[g]:Ac.push(g),Ct!==4&&(Ct=2),r===null)return!0;u=ni(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Qm(o.stateNode,u,i),Am(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xr===null||!xr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=X_(m),Q_(m,i,o,u),Am(o,m),!1}o=o.return}while(o!==null);return!1}var Wm=Error(s(461)),Ft=!1;function hn(i,r,o,u){r.child=i===null?e_(r,null,o,u):Na(r,i.child,o,u)}function W_(i,r,o,u,m){o=o.render;var g=r.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return Sa(r),u=Mm(i,r,o,x,g,m),S=Pm(),i!==null&&!Ft?(km(i,r,m),Ms(i,r,m)):(qe&&S&&dm(r),r.flags|=1,hn(i,r,u,m),r.child)}function Z_(i,r,o,u,m){if(i===null){var g=o.type;return typeof g=="function"&&!um(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,J_(i,r,g,u,m)):(i=xh(o.type,null,u,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!rp(i,m)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:sc,o(x,u)&&i.ref===r.ref)return Ms(i,r,m)}return r.flags|=1,i=As(g,u),i.ref=r.ref,i.return=r,r.child=i}function J_(i,r,o,u,m){if(i!==null){var g=i.memoizedProps;if(sc(g,u)&&i.ref===r.ref)if(Ft=!1,r.pendingProps=u=g,rp(i,m))(i.flags&131072)!==0&&(Ft=!0);else return r.lanes=i.lanes,Ms(i,r,m)}return Zm(i,r,o,u,m)}function eb(i,r,o,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,r.child=null;return tb(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sh(r,g!==null?g.cachePool:null),g!==null?i_(r,g):Cm(),s_(r);else return u=r.lanes=536870912,tb(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Sh(r,g.cachePool),i_(r,g),yr(),r.memoizedState=null):(i!==null&&Sh(r,null),Cm(),yr());return hn(i,r,m,o),r.child}function _c(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function tb(i,r,o,u,m){var g=Tm();return g=g===null?null:{parent:Bt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Sh(r,null),Cm(),s_(r),i!==null&&Co(i,r,u,!0),r.childLanes=m,null}function zh(i,r){return r=Hh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function nb(i,r,o){return Na(r,i.child,null,o),i=zh(r,r.pendingProps),i.flags|=2,qn(r),r.memoizedState=null,i}function kC(i,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(qe){if(u.mode==="hidden")return i=zh(r,u),r.lanes=536870912,_c(null,i);if(Im(r),(i=pt)?(i=mx(i,ri),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:cr!==null?{id:Ji,overflow:es}:null,retryLane:536870912,hydrationErrors:null},o=U0(i),o.return=r,r.child=o,cn=r,pt=null)):i=null,i===null)throw hr(r);return r.lanes=536870912,null}return zh(r,u)}var g=i.memoizedState;if(g!==null){var x=g.dehydrated;if(Im(r),m)if(r.flags&256)r.flags&=-257,r=nb(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ft||Co(i,r,o,!1),m=(o&i.childLanes)!==0,Ft||m){if(u=ft,u!==null&&(x=Bl(u,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,xa(i,x),kn(u,i,x),Wm;Zh(),r=nb(i,r,o)}else i=g.treeContext,pt=oi(x.nextSibling),cn=r,qe=!0,ur=null,ri=!1,i!==null&&F0(r,i),r=zh(r,u),r.flags|=4096;return r}return i=As(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Fh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Zm(i,r,o,u,m){return Sa(r),o=Mm(i,r,o,u,void 0,m),u=Pm(),i!==null&&!Ft?(km(i,r,m),Ms(i,r,m)):(qe&&u&&dm(r),r.flags|=1,hn(i,r,o,m),r.child)}function ib(i,r,o,u,m,g){return Sa(r),r.updateQueue=null,o=a_(r,u,o,m),r_(i),u=Pm(),i!==null&&!Ft?(km(i,r,g),Ms(i,r,g)):(qe&&u&&dm(r),r.flags|=1,hn(i,r,o,g),r.child)}function sb(i,r,o,u,m){if(Sa(r),r.stateNode===null){var g=wo,x=o.contextType;typeof x=="object"&&x!==null&&(g=un(x)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Xm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},wm(r),x=o.contextType,g.context=typeof x=="object"&&x!==null?un(x):wo,g.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Ym(r,o,x,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Xm.enqueueReplaceState(g,g.state,null),mc(r,u,g,m),dc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,B=Da(o,S);g.props=B;var X=g.context,ne=o.contextType;x=wo,typeof ne=="object"&&ne!==null&&(x=un(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||X!==x)&&q_(r,g,u,x),dr=!1;var Q=r.memoizedState;g.state=Q,mc(r,u,g,m),dc(),X=r.memoizedState,S||Q!==X||dr?(typeof ae=="function"&&(Ym(r,o,ae,u),X=r.memoizedState),(B=dr||H_(r,o,B,u,Q,X,x))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=x,u=B):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Sm(i,r),x=r.memoizedProps,ne=Da(o,x),g.props=ne,ae=r.pendingProps,Q=g.context,X=o.contextType,B=wo,typeof X=="object"&&X!==null&&(B=un(X)),S=o.getDerivedStateFromProps,(X=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ae||Q!==B)&&q_(r,g,u,B),dr=!1,Q=r.memoizedState,g.state=Q,mc(r,u,g,m),dc();var J=r.memoizedState;x!==ae||Q!==J||dr||i!==null&&i.dependencies!==null&&Eh(i.dependencies)?(typeof S=="function"&&(Ym(r,o,S,u),J=r.memoizedState),(ne=dr||H_(r,o,ne,u,Q,J,B)||i!==null&&i.dependencies!==null&&Eh(i.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,B)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=J),g.props=u,g.state=J,g.context=B,u=ne):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Fh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Na(r,i.child,null,m),r.child=Na(r,null,o,m)):hn(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Ms(i,r,m),i}function rb(i,r,o,u){return Ea(),r.flags|=256,hn(i,r,o,u),r.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ep(i){return{baseLanes:i,cachePool:Y0()}}function tp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=$n),i}function ab(i,r,o){var u=r.pendingProps,m=!1,g=(r.flags&128)!==0,x;if((x=g)||(x=i!==null&&i.memoizedState===null?!1:(Mt.current&2)!==0),x&&(m=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(qe){if(m?gr(r):yr(),(i=pt)?(i=mx(i,ri),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:cr!==null?{id:Ji,overflow:es}:null,retryLane:536870912,hydrationErrors:null},o=U0(i),o.return=r,r.child=o,cn=r,pt=null)):i=null,i===null)throw hr(r);return jp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(yr(),m=r.mode,S=Hh({mode:"hidden",children:S},m),u=Ta(u,m,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=ep(o),u.childLanes=tp(i,x,o),r.memoizedState=Jm,_c(null,u)):(gr(r),np(r,S))}var B=i.memoizedState;if(B!==null&&(S=B.dehydrated,S!==null)){if(g)r.flags&256?(gr(r),r.flags&=-257,r=ip(i,r,o)):r.memoizedState!==null?(yr(),r.child=i.child,r.flags|=128,r=null):(yr(),S=u.fallback,m=r.mode,u=Hh({mode:"visible",children:u.children},m),S=Ta(S,m,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Na(r,i.child,null,o),u=r.child,u.memoizedState=ep(o),u.childLanes=tp(i,x,o),r.memoizedState=Jm,r=_c(null,u));else if(gr(r),jp(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var X=x.dgst;x=X,u=Error(s(419)),u.stack="",u.digest=x,oc({value:u,source:null,stack:null}),r=ip(i,r,o)}else if(Ft||Co(i,r,o,!1),x=(o&i.childLanes)!==0,Ft||x){if(x=ft,x!==null&&(u=Bl(x,o),u!==0&&u!==B.retryLane))throw B.retryLane=u,xa(i,u),kn(x,i,u),Wm;Vp(S)||Zh(),r=ip(i,r,o)}else Vp(S)?(r.flags|=192,r.child=i.child,r=null):(i=B.treeContext,pt=oi(S.nextSibling),cn=r,qe=!0,ur=null,ri=!1,i!==null&&F0(r,i),r=np(r,u.children),r.flags|=4096);return r}return m?(yr(),S=u.fallback,m=r.mode,B=i.child,X=B.sibling,u=As(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,X!==null?S=As(X,S):(S=Ta(S,m,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,_c(null,u),u=r.child,S=i.child.memoizedState,S===null?S=ep(o):(m=S.cachePool,m!==null?(B=Bt._currentValue,m=m.parent!==B?{parent:B,pool:B}:m):m=Y0(),S={baseLanes:S.baseLanes|o,cachePool:m}),u.memoizedState=S,u.childLanes=tp(i,x,o),r.memoizedState=Jm,_c(i.child,u)):(gr(r),o=i.child,i=o.sibling,o=As(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function np(i,r){return r=Hh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Hh(i,r){return i=Fn(22,i,null,r),i.lanes=0,i}function ip(i,r,o){return Na(r,i.child,null,o),i=np(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function ob(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),vm(i.return,r,o)}function sp(i,r,o,u,m,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=o,x.tailMode=m,x.treeForkCount=g)}function lb(i,r,o){var u=r.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var x=Mt.current,S=(x&2)!==0;if(S?(x=x&1|2,r.flags|=128):x&=1,ie(Mt,x),hn(i,r,u,o),u=qe?ac:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ob(i,o,r);else if(i.tag===19)ob(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Dh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),sp(r,!1,m,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Dh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}sp(r,!0,o,null,g,u);break;case"together":sp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ms(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),br|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Co(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=As(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=As(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function rp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Eh(i)))}function OC(i,r,o){switch(r.tag){case 3:be(r,r.stateNode.containerInfo),fr(r,Bt,i.memoizedState.cache),Ea();break;case 27:case 5:et(r);break;case 4:be(r,r.stateNode.containerInfo);break;case 10:fr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Im(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(gr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?ab(i,r,o):(gr(r),i=Ms(i,r,o),i!==null?i.sibling:null);gr(r);break;case 19:var m=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Co(i,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return lb(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ie(Mt,Mt.current),u)break;return null;case 22:return r.lanes=0,eb(i,r,o,r.pendingProps);case 24:fr(r,Bt,i.memoizedState.cache)}return Ms(i,r,o)}function cb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ft=!0;else{if(!rp(i,o)&&(r.flags&128)===0)return Ft=!1,OC(i,r,o);Ft=(i.flags&131072)!==0}else Ft=!1,qe&&(r.flags&1048576)!==0&&z0(r,ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Ra(r.elementType),r.type=i,typeof i=="function")um(i)?(u=Da(i,u),r.tag=1,r=sb(null,r,i,u,o)):(r.tag=0,r=Zm(null,r,i,u,o));else{if(i!=null){var m=i.$$typeof;if(m===W){r.tag=11,r=W_(null,r,i,u,o);break e}else if(m===N){r.tag=14,r=Z_(null,r,i,u,o);break e}}throw r=Le(i)||i,Error(s(306,r,""))}}return r;case 0:return Zm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=Da(u,r.pendingProps),sb(i,r,u,m,o);case 3:e:{if(be(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;m=g.element,Sm(i,r),mc(r,u,null,o);var x=r.memoizedState;if(u=x.cache,fr(r,Bt,u),u!==g.cache&&_m(r,[Bt],o,!0),dc(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=rb(i,r,u,o);break e}else if(u!==m){m=ni(Error(s(424)),r),oc(m),r=rb(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pt=oi(i.firstChild),cn=r,qe=!0,ur=null,ri=!0,o=e_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ea(),u===m){r=Ms(i,r,o);break e}hn(i,r,u,o)}r=r.child}return r;case 26:return Fh(i,r),i===null?(o=bx(r.type,null,r.pendingProps,null))?r.memoizedState=o:qe||(o=r.type,i=r.pendingProps,u=af(me.current).createElement(o),u[jt]=r,u[Jt]=i,fn(u,o,i),Lt(u),r.stateNode=u):r.memoizedState=bx(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return et(r),i===null&&qe&&(u=r.stateNode=yx(r.type,r.pendingProps,me.current),cn=r,ri=!0,m=pt,Sr(r.type)?(Lp=m,pt=oi(u.firstChild)):pt=m),hn(i,r,r.pendingProps.children,o),Fh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qe&&((m=u=pt)&&(u=hN(u,r.type,r.pendingProps,ri),u!==null?(r.stateNode=u,cn=r,pt=oi(u.firstChild),ri=!1,m=!0):m=!1),m||hr(r)),et(r),m=r.type,g=r.pendingProps,x=i!==null?i.memoizedProps:null,u=g.children,Pp(m,g)?u=null:x!==null&&Pp(m,x)&&(r.flags|=32),r.memoizedState!==null&&(m=Mm(i,r,AC,null,null,o),kc._currentValue=m),Fh(i,r),hn(i,r,u,o),r.child;case 6:return i===null&&qe&&((i=o=pt)&&(o=fN(o,r.pendingProps,ri),o!==null?(r.stateNode=o,cn=r,pt=null,i=!0):i=!1),i||hr(r)),null;case 13:return ab(i,r,o);case 4:return be(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Na(r,null,u,o):hn(i,r,u,o),r.child;case 11:return W_(i,r,r.type,r.pendingProps,o);case 7:return hn(i,r,r.pendingProps,o),r.child;case 8:return hn(i,r,r.pendingProps.children,o),r.child;case 12:return hn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,fr(r,r.type,u.value),hn(i,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Sa(r),m=un(m),u=u(m),r.flags|=1,hn(i,r,u,o),r.child;case 14:return Z_(i,r,r.type,r.pendingProps,o);case 15:return J_(i,r,r.type,r.pendingProps,o);case 19:return lb(i,r,o);case 31:return kC(i,r,o);case 22:return eb(i,r,o,r.pendingProps);case 24:return Sa(r),u=un(Bt),i===null?(m=Tm(),m===null&&(m=ft,g=bm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:u,cache:m},wm(r),fr(r,Bt,m)):((i.lanes&o)!==0&&(Sm(i,r),mc(r,null,null,o),dc()),m=i.memoizedState,g=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),fr(r,Bt,u)):(u=g.cache,fr(r,Bt,u),u!==m.cache&&_m(r,[Bt],o,!0))),hn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ps(i){i.flags|=4}function ap(i,r,o,u,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Vb())i.flags|=8192;else throw Ca=Rh,Em}else i.flags&=-16777217}function ub(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Sx(r))if(Vb())i.flags|=8192;else throw Ca=Rh,Em}function qh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Qu():536870912,i.lanes|=r,Bo|=r)}function bc(i,r){if(!qe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function gt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function VC(i,r,o){var u=r.pendingProps;switch(mm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ns(Bt),Ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ro(r)?Ps(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gm())),gt(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(Ps(r),g!==null?(gt(r),ub(r,g)):(gt(r),ap(r,m,null,u,o))):g?g!==i.memoizedState?(Ps(r),gt(r),ub(r,g)):(gt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ps(r),gt(r),ap(r,m,i,u,o)),null;case 27:if(Ye(r),o=me.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ps(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return gt(r),null}i=le.current,Ro(r)?H0(r):(i=yx(m,u,o),r.stateNode=i,Ps(r))}return gt(r),null;case 5:if(Ye(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ps(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(g=le.current,Ro(r))H0(r);else{var x=af(me.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?x.createElement(m,{is:u.is}):x.createElement(m)}}g[jt]=r,g[Jt]=u;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=g;e:switch(fn(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ps(r)}}return gt(r),ap(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Ps(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=me.current,Ro(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,m=cn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[jt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||ax(i.nodeValue,o)),i||hr(r,!0)}else i=af(i).createTextNode(u),i[jt]=r,r.stateNode=i}return gt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Ro(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[jt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),i=!1}else o=gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(qn(r),r):(qn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return gt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Ro(r),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[jt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),m=!1}else m=gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(qn(r),r):(qn(r),null)}return qn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),qh(r,r.updateQueue),gt(r),null);case 4:return Ee(),i===null&&Cp(r.stateNode.containerInfo),gt(r),null;case 10:return Ns(r.type),gt(r),null;case 19:if($(Mt),u=r.memoizedState,u===null)return gt(r),null;if(m=(r.flags&128)!==0,g=u.rendering,g===null)if(m)bc(u,!1);else{if(Ct!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Dh(i),g!==null){for(r.flags|=128,bc(u,!1),i=g.updateQueue,r.updateQueue=i,qh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)L0(o,i),o=o.sibling;return ie(Mt,Mt.current&1|2),qe&&Rs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Zt()>Xh&&(r.flags|=128,m=!0,bc(u,!1),r.lanes=4194304)}else{if(!m)if(i=Dh(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,qh(r,i),bc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!qe)return gt(r),null}else 2*Zt()-u.renderingStartTime>Xh&&o!==536870912&&(r.flags|=128,m=!0,bc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Zt(),i.sibling=null,o=Mt.current,ie(Mt,m?o&1|2:o&1),qe&&Rs(r,u.treeForkCount),i):(gt(r),null);case 22:case 23:return qn(r),Nm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),o=r.updateQueue,o!==null&&qh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&$(Aa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ns(Bt),gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function jC(i,r){switch(mm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ns(Bt),Ee(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ye(r),null;case 31:if(r.memoizedState!==null){if(qn(r),r.alternate===null)throw Error(s(340));Ea()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(qn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ea()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return $(Mt),null;case 4:return Ee(),null;case 10:return Ns(r.type),null;case 22:case 23:return qn(r),Nm(),i!==null&&$(Aa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ns(Bt),null;case 25:return null;default:return null}}function hb(i,r){switch(mm(r),r.tag){case 3:Ns(Bt),Ee();break;case 26:case 27:case 5:Ye(r);break;case 4:Ee();break;case 31:r.memoizedState!==null&&qn(r);break;case 13:qn(r);break;case 19:$(Mt);break;case 10:Ns(r.type);break;case 22:case 23:qn(r),Nm(),i!==null&&$(Aa);break;case 24:Ns(Bt)}}function xc(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var g=o.create,x=o.inst;u=g(),x.destroy=u}o=o.next}while(o!==m)}}catch(S){at(r,r.return,S)}}function vr(i,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,m=r;var B=o,X=S;try{X()}catch(ne){at(m,B,ne)}}}u=u.next}while(u!==g)}}catch(ne){at(r,r.return,ne)}}function fb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{n_(r,o)}catch(u){at(i,i.return,u)}}}function db(i,r,o){o.props=Da(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){at(i,r,u)}}function Tc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){at(i,r,m)}}function ts(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){at(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){at(i,r,m)}else o.current=null}function mb(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){at(i,i.return,m)}}function op(i,r,o){try{var u=i.stateNode;rN(u,i.type,o,r),u[Jt]=r}catch(m){at(i,i.return,m)}}function pb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Sr(i.type)||i.tag===4}function lp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||pb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Sr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=vi));else if(u!==4&&(u===27&&Sr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(cp(i,r,o),i=i.sibling;i!==null;)cp(i,r,o),i=i.sibling}function Gh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Sr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Gh(i,r,o),i=i.sibling;i!==null;)Gh(i,r,o),i=i.sibling}function gb(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);fn(r,u,o),r[jt]=i,r[Jt]=o}catch(g){at(i,i.return,g)}}var ks=!1,Ht=!1,up=!1,yb=typeof WeakSet=="function"?WeakSet:Set,tn=null;function LC(i,r){if(i=i.containerInfo,Dp=df,i=N0(i),im(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,S=-1,B=-1,X=0,ne=0,ae=i,Q=null;t:for(;;){for(var J;ae!==o||m!==0&&ae.nodeType!==3||(S=x+m),ae!==g||u!==0&&ae.nodeType!==3||(B=x+u),ae.nodeType===3&&(x+=ae.nodeValue.length),(J=ae.firstChild)!==null;)Q=ae,ae=J;for(;;){if(ae===i)break t;if(Q===o&&++X===m&&(S=x),Q===g&&++ne===u&&(B=x),(J=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=J}o=S===-1||B===-1?null:{start:S,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(Mp={focusedElem:i,selectionRange:o},df=!1,tn=r;tn!==null;)if(r=tn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,tn=i;else for(;tn!==null;){switch(r=tn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ye=Da(o.type,m);i=u.getSnapshotBeforeUpdate(ye,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(we){at(o,o.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Op(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,tn=i;break}tn=r.return}}function vb(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(i,o),u&4&&xc(5,o);break;case 1:if(Vs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){at(o,o.return,x)}else{var m=Da(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){at(o,o.return,x)}}u&64&&fb(o),u&512&&Tc(o,o.return);break;case 3:if(Vs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{n_(i,r)}catch(x){at(o,o.return,x)}}break;case 27:r===null&&u&4&&gb(o);case 26:case 5:Vs(i,o),r===null&&u&4&&mb(o),u&512&&Tc(o,o.return);break;case 12:Vs(i,o);break;case 31:Vs(i,o),u&4&&xb(i,o);break;case 13:Vs(i,o),u&4&&Tb(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=KC.bind(null,o),dN(i,o))));break;case 22:if(u=o.memoizedState!==null||ks,!u){r=r!==null&&r.memoizedState!==null||Ht,m=ks;var g=Ht;ks=u,(Ht=r)&&!g?js(i,o,(o.subtreeFlags&8772)!==0):Vs(i,o),ks=m,Ht=g}break;case 30:break;default:Vs(i,o)}}function _b(i){var r=i.alternate;r!==null&&(i.alternate=null,_b(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&co(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,In=!1;function Os(i,r,o){for(o=o.child;o!==null;)bb(i,r,o),o=o.sibling}function bb(i,r,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ln,o)}catch{}switch(o.tag){case 26:Ht||ts(o,r),Os(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ht||ts(o,r);var u=xt,m=In;Sr(o.type)&&(xt=o.stateNode,In=!1),Os(i,r,o),Dc(o.stateNode),xt=u,In=m;break;case 5:Ht||ts(o,r);case 6:if(u=xt,m=In,xt=null,Os(i,r,o),xt=u,In=m,xt!==null)if(In)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(g){at(o,r,g)}else try{xt.removeChild(o.stateNode)}catch(g){at(o,r,g)}break;case 18:xt!==null&&(In?(i=xt,fx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Yo(i)):fx(xt,o.stateNode));break;case 4:u=xt,m=In,xt=o.stateNode.containerInfo,In=!0,Os(i,r,o),xt=u,In=m;break;case 0:case 11:case 14:case 15:vr(2,o,r),Ht||vr(4,o,r),Os(i,r,o);break;case 1:Ht||(ts(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&db(o,r,u)),Os(i,r,o);break;case 21:Os(i,r,o);break;case 22:Ht=(u=Ht)||o.memoizedState!==null,Os(i,r,o),Ht=u;break;default:Os(i,r,o)}}function xb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Yo(i)}catch(o){at(r,r.return,o)}}}function Tb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Yo(i)}catch(o){at(r,r.return,o)}}function UC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new yb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new yb),r;default:throw Error(s(435,i.tag))}}function $h(i,r){var o=UC(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=YC.bind(null,i,u);u.then(m,m)}})}function Dn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=i,x=r,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(Sr(S.type)){xt=S.stateNode,In=!1;break e}break;case 5:xt=S.stateNode,In=!1;break e;case 3:case 4:xt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(xt===null)throw Error(s(160));bb(g,x,m),xt=null,In=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Eb(r,i),r=r.sibling}var wi=null;function Eb(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(r,i),Mn(i),u&4&&(vr(3,i,i.return),xc(3,i),vr(5,i,i.return));break;case 1:Dn(r,i),Mn(i),u&512&&(Ht||o===null||ts(o,o.return)),u&64&&ks&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=wi;if(Dn(r,i),Mn(i),u&512&&(Ht||o===null||ts(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[zi]||g[jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),fn(g,u,o),g[jt]=i,Lt(g),u=g;break e;case"link":var x=Ex("link","href",m).get(u+(o.href||""));if(x){for(var S=0;S<x.length;S++)if(g=x[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(S,1);break t}}g=m.createElement(u),fn(g,u,o),m.head.appendChild(g);break;case"meta":if(x=Ex("meta","content",m).get(u+(o.content||""))){for(S=0;S<x.length;S++)if(g=x[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(S,1);break t}}g=m.createElement(u),fn(g,u,o),m.head.appendChild(g);break;default:throw Error(s(468,u))}g[jt]=i,Lt(g),u=g}i.stateNode=u}else wx(m,i.type,i.stateNode);else i.stateNode=Tx(m,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?wx(m,i.type,i.stateNode):Tx(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&op(i,i.memoizedProps,o.memoizedProps)}break;case 27:Dn(r,i),Mn(i),u&512&&(Ht||o===null||ts(o,o.return)),o!==null&&u&4&&op(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Dn(r,i),Mn(i),u&512&&(Ht||o===null||ts(o,o.return)),i.flags&32){m=i.stateNode;try{Nn(m,"")}catch(ye){at(i,i.return,ye)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,op(i,m,o!==null?o.memoizedProps:m)),u&1024&&(up=!0);break;case 6:if(Dn(r,i),Mn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ye){at(i,i.return,ye)}}break;case 3:if(cf=null,m=wi,wi=of(r.containerInfo),Dn(r,i),wi=m,Mn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Yo(r.containerInfo)}catch(ye){at(i,i.return,ye)}up&&(up=!1,wb(i));break;case 4:u=wi,wi=of(i.stateNode.containerInfo),Dn(r,i),Mn(i),wi=u;break;case 12:Dn(r,i),Mn(i);break;case 31:Dn(r,i),Mn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,$h(i,u)));break;case 13:Dn(r,i),Mn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yh=Zt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,$h(i,u)));break;case 22:m=i.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,X=ks,ne=Ht;if(ks=X||m,Ht=ne||B,Dn(r,i),Ht=ne,ks=X,Mn(i),u&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||B||ks||Ht||Ma(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){B=o=r;try{if(g=B.stateNode,m)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=B.stateNode;var ae=B.memoizedProps.style,Q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ye){at(B,B.return,ye)}}}else if(r.tag===6){if(o===null){B=r;try{B.stateNode.nodeValue=m?"":B.memoizedProps}catch(ye){at(B,B.return,ye)}}}else if(r.tag===18){if(o===null){B=r;try{var J=B.stateNode;m?dx(J,!0):dx(B.stateNode,!1)}catch(ye){at(B,B.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,$h(i,o))));break;case 19:Dn(r,i),Mn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,$h(i,u)));break;case 30:break;case 21:break;default:Dn(r,i),Mn(i)}}function Mn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(pb(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=lp(i);Gh(i,g,m);break;case 5:var x=o.stateNode;o.flags&32&&(Nn(x,""),o.flags&=-33);var S=lp(i);Gh(i,S,x);break;case 3:case 4:var B=o.stateNode.containerInfo,X=lp(i);cp(i,X,B);break;default:throw Error(s(161))}}catch(ne){at(i,i.return,ne)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function wb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;wb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Vs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)vb(i,r.alternate,r),r=r.sibling}function Ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:vr(4,r,r.return),Ma(r);break;case 1:ts(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&db(r,r.return,o),Ma(r);break;case 27:Dc(r.stateNode);case 26:case 5:ts(r,r.return),Ma(r);break;case 22:r.memoizedState===null&&Ma(r);break;case 30:Ma(r);break;default:Ma(r)}i=i.sibling}}function js(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=i,g=r,x=g.flags;switch(g.tag){case 0:case 11:case 15:js(m,g,o),xc(4,g);break;case 1:if(js(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){at(u,u.return,X)}if(u=g,m=u.updateQueue,m!==null){var S=u.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)t_(B[m],S)}catch(X){at(u,u.return,X)}}o&&x&64&&fb(g),Tc(g,g.return);break;case 27:gb(g);case 26:case 5:js(m,g,o),o&&u===null&&x&4&&mb(g),Tc(g,g.return);break;case 12:js(m,g,o);break;case 31:js(m,g,o),o&&x&4&&xb(m,g);break;case 13:js(m,g,o),o&&x&4&&Tb(m,g);break;case 22:g.memoizedState===null&&js(m,g,o),Tc(g,g.return);break;case 30:break;default:js(m,g,o)}r=r.sibling}}function hp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&lc(o))}function fp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&lc(i))}function Si(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Sb(i,r,o,u),r=r.sibling}function Sb(i,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Si(i,r,o,u),m&2048&&xc(9,r);break;case 1:Si(i,r,o,u);break;case 3:Si(i,r,o,u),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&lc(i)));break;case 12:if(m&2048){Si(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,x=g.id,S=g.onPostCommit;typeof S=="function"&&S(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){at(r,r.return,B)}}else Si(i,r,o,u);break;case 31:Si(i,r,o,u);break;case 13:Si(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,x=r.alternate,r.memoizedState!==null?g._visibility&2?Si(i,r,o,u):Ec(i,r):g._visibility&2?Si(i,r,o,u):(g._visibility|=2,jo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&hp(x,r);break;case 24:Si(i,r,o,u),m&2048&&fp(r.alternate,r);break;default:Si(i,r,o,u)}}function jo(i,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,x=r,S=o,B=u,X=x.flags;switch(x.tag){case 0:case 11:case 15:jo(g,x,S,B,m),xc(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?jo(g,x,S,B,m):Ec(g,x):(ne._visibility|=2,jo(g,x,S,B,m)),m&&X&2048&&hp(x.alternate,x);break;case 24:jo(g,x,S,B,m),m&&X&2048&&fp(x.alternate,x);break;default:jo(g,x,S,B,m)}r=r.sibling}}function Ec(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,m=u.flags;switch(u.tag){case 22:Ec(o,u),m&2048&&hp(u.alternate,u);break;case 24:Ec(o,u),m&2048&&fp(u.alternate,u);break;default:Ec(o,u)}r=r.sibling}}var wc=8192;function Lo(i,r,o){if(i.subtreeFlags&wc)for(i=i.child;i!==null;)Ab(i,r,o),i=i.sibling}function Ab(i,r,o){switch(i.tag){case 26:Lo(i,r,o),i.flags&wc&&i.memoizedState!==null&&SN(o,wi,i.memoizedState,i.memoizedProps);break;case 5:Lo(i,r,o);break;case 3:case 4:var u=wi;wi=of(i.stateNode.containerInfo),Lo(i,r,o),wi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=wc,wc=16777216,Lo(i,r,o),wc=u):Lo(i,r,o));break;default:Lo(i,r,o)}}function Rb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Sc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];tn=u,Nb(u,i)}Rb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cb(i),i=i.sibling}function Cb(i){switch(i.tag){case 0:case 11:case 15:Sc(i),i.flags&2048&&vr(9,i,i.return);break;case 3:Sc(i);break;case 12:Sc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Kh(i)):Sc(i);break;default:Sc(i)}}function Kh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];tn=u,Nb(u,i)}Rb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:vr(8,r,r.return),Kh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Kh(r));break;default:Kh(r)}i=i.sibling}}function Nb(i,r){for(;tn!==null;){var o=tn;switch(o.tag){case 0:case 11:case 15:vr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,tn=u;else e:for(o=i;tn!==null;){u=tn;var m=u.sibling,g=u.return;if(_b(u),u===o){tn=null;break e}if(m!==null){m.return=g,tn=m;break e}tn=g}}}var BC={getCacheForType:function(i){var r=un(Bt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return un(Bt).controller.signal}},zC=typeof WeakMap=="function"?WeakMap:Map,Je=0,ft=null,Ve=null,Ue=0,rt=0,Gn=null,_r=!1,Uo=!1,dp=!1,Ls=0,Ct=0,br=0,Pa=0,mp=0,$n=0,Bo=0,Ac=null,Pn=null,pp=!1,Yh=0,Ib=0,Xh=1/0,Qh=null,xr=null,Yt=0,Tr=null,zo=null,Us=0,gp=0,yp=null,Db=null,Rc=0,vp=null;function Kn(){return(Je&2)!==0&&Ue!==0?Ue&-Ue:te.T!==null?wp():Wu()}function Mb(){if($n===0)if((Ue&536870912)===0||qe){var i=aa;aa<<=1,(aa&3932160)===0&&(aa=262144),$n=i}else $n=536870912;return i=Hn.current,i!==null&&(i.flags|=32),$n}function kn(i,r,o){(i===ft&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(Fo(i,0),Er(i,Ue,$n,!1)),oa(i,o),((Je&2)===0||i!==ft)&&(i===ft&&((Je&2)===0&&(Pa|=o),Ct===4&&Er(i,Ue,$n,!1)),ns(i))}function Pb(i,r,o){if((Je&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||pi(i,r),m=u?qC(i,r):bp(i,r,!0),g=u;do{if(m===0){Uo&&!u&&Er(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!FC(o)){m=bp(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var S=i;m=Ac;var B=S.current.memoizedState.isDehydrated;if(B&&(Fo(S,x).flags|=256),x=bp(S,x,!1),x!==2){if(dp&&!B){S.errorRecoveryDisabledLanes|=g,Pa|=g,m=4;break e}g=Pn,Pn=m,g!==null&&(Pn===null?Pn=g:Pn.push.apply(Pn,g))}m=x}if(g=!1,m!==2)continue}}if(m===1){Fo(i,0),Er(i,r,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Er(u,r,$n,!_r);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Yh+300-Zt(),10<m)){if(Er(u,r,$n,!_r),Li(u,0,!0)!==0)break e;Us=r,u.timeoutHandle=ux(kb.bind(null,u,o,Pn,Qh,pp,r,$n,Pa,Bo,_r,g,"Throttled",-0,0),m);break e}kb(u,o,Pn,Qh,pp,r,$n,Pa,Bo,_r,g,null,-0,0)}}break}while(!0);ns(i)}function kb(i,r,o,u,m,g,x,S,B,X,ne,ae,Q,J){if(i.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},Ab(r,g,ae);var ye=(g&62914560)===g?Yh-Zt():(g&4194048)===g?Ib-Zt():0;if(ye=AN(ae,ye),ye!==null){Us=g,i.cancelPendingCommit=ye(Fb.bind(null,i,r,g,o,u,m,x,S,B,ne,ae,null,Q,J)),Er(i,g,x,!X);return}}Fb(i,r,g,o,u,m,x,S,B)}function FC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!zn(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Er(i,r,o,u){r&=~mp,r&=~Pa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var m=r;0<m;){var g=31-It(m),x=1<<g;u[g]=-1,m&=~x}o!==0&&la(i,o,r)}function Wh(){return(Je&6)===0?(Cc(0),!1):!0}function _p(){if(Ve!==null){if(rt===0)var i=Ve.return;else i=Ve,Cs=wa=null,Om(i),Mo=null,uc=0,i=Ve;for(;i!==null;)hb(i.alternate,i),i=i.return;Ve=null}}function Fo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,lN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Us=0,_p(),ft=i,Ve=o=As(i.current,null),Ue=r,rt=0,Gn=null,_r=!1,Uo=pi(i,r),dp=!1,Bo=$n=mp=Pa=br=Ct=0,Pn=Ac=null,pp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var m=31-It(u),g=1<<m;r|=i[m],u&=~g}return Ls=r,vh(),o}function Ob(i,r){ke=null,te.H=vc,r===Do||r===Ah?(r=W0(),rt=3):r===Em?(r=W0(),rt=4):rt=r===Wm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Gn=r,Ve===null&&(Ct=1,Bh(i,ni(r,i.current)))}function Vb(){var i=Hn.current;return i===null?!0:(Ue&4194048)===Ue?ai===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?i===ai:!1}function jb(){var i=te.H;return te.H=vc,i===null?vc:i}function Lb(){var i=te.A;return te.A=BC,i}function Zh(){Ct=4,_r||(Ue&4194048)!==Ue&&Hn.current!==null||(Uo=!0),(br&134217727)===0&&(Pa&134217727)===0||ft===null||Er(ft,Ue,$n,!1)}function bp(i,r,o){var u=Je;Je|=2;var m=jb(),g=Lb();(ft!==i||Ue!==r)&&(Qh=null,Fo(i,r)),r=!1;var x=Ct;e:do try{if(rt!==0&&Ve!==null){var S=Ve,B=Gn;switch(rt){case 8:_p(),x=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(r=!0);var X=rt;if(rt=0,Gn=null,Ho(i,S,B,X),o&&Uo){x=0;break e}break;default:X=rt,rt=0,Gn=null,Ho(i,S,B,X)}}HC(),x=Ct;break}catch(ne){Ob(i,ne)}while(!0);return r&&i.shellSuspendCounter++,Cs=wa=null,Je=u,te.H=m,te.A=g,Ve===null&&(ft=null,Ue=0,vh()),x}function HC(){for(;Ve!==null;)Ub(Ve)}function qC(i,r){var o=Je;Je|=2;var u=jb(),m=Lb();ft!==i||Ue!==r?(Qh=null,Xh=Zt()+500,Fo(i,r)):Uo=pi(i,r);e:do try{if(rt!==0&&Ve!==null){r=Ve;var g=Gn;t:switch(rt){case 1:rt=0,Gn=null,Ho(i,r,g,1);break;case 2:case 9:if(X0(g)){rt=0,Gn=null,Bb(r);break}r=function(){rt!==2&&rt!==9||ft!==i||(rt=7),ns(i)},g.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:X0(g)?(rt=0,Gn=null,Bb(r)):(rt=0,Gn=null,Ho(i,r,g,7));break;case 5:var x=null;switch(Ve.tag){case 26:x=Ve.memoizedState;case 5:case 27:var S=Ve;if(x?Sx(x):S.stateNode.complete){rt=0,Gn=null;var B=S.sibling;if(B!==null)Ve=B;else{var X=S.return;X!==null?(Ve=X,Jh(X)):Ve=null}break t}}rt=0,Gn=null,Ho(i,r,g,5);break;case 6:rt=0,Gn=null,Ho(i,r,g,6);break;case 8:_p(),Ct=6;break e;default:throw Error(s(462))}}GC();break}catch(ne){Ob(i,ne)}while(!0);return Cs=wa=null,te.H=u,te.A=m,Je=o,Ve!==null?0:(ft=null,Ue=0,vh(),Ct)}function GC(){for(;Ve!==null&&!Ll();)Ub(Ve)}function Ub(i){var r=cb(i.alternate,i,Ls);i.memoizedProps=i.pendingProps,r===null?Jh(i):Ve=r}function Bb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=ib(o,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=ib(o,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Om(r);default:hb(o,r),r=Ve=L0(r,Ls),r=cb(o,r,Ls)}i.memoizedProps=i.pendingProps,r===null?Jh(i):Ve=r}function Ho(i,r,o,u){Cs=wa=null,Om(r),Mo=null,uc=0;var m=r.return;try{if(PC(i,m,r,o,Ue)){Ct=1,Bh(i,ni(o,i.current)),Ve=null;return}}catch(g){if(m!==null)throw Ve=m,g;Ct=1,Bh(i,ni(o,i.current)),Ve=null;return}r.flags&32768?(qe||u===1?i=!0:Uo||(Ue&536870912)!==0?i=!1:(_r=i=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),zb(r,i)):Jh(r)}function Jh(i){var r=i;do{if((r.flags&32768)!==0){zb(r,_r);return}i=r.return;var o=VC(r.alternate,r,Ls);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=i}while(r!==null);Ct===0&&(Ct=5)}function zb(i,r){do{var o=jC(i.alternate,i);if(o!==null){o.flags&=32767,Ve=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=o}while(i!==null);Ct=6,Ve=null}function Fb(i,r,o,u,m,g,x,S,B){i.cancelPendingCommit=null;do ef();while(Yt!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=lm,Jd(i,o,g,x,S,B),i===ft&&(Ve=ft=null,Ue=0),zo=r,Tr=i,Us=o,gp=g,yp=m,Db=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,XC(Oi,function(){return Kb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=te.T,te.T=null,m=ue.p,ue.p=2,x=Je,Je|=4;try{LC(i,r,o)}finally{Je=x,ue.p=m,te.T=u}}Yt=1,Hb(),qb(),Gb()}}function Hb(){if(Yt===1){Yt=0;var i=Tr,r=zo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=te.T,te.T=null;var u=ue.p;ue.p=2;var m=Je;Je|=4;try{Eb(r,i);var g=Mp,x=N0(i.containerInfo),S=g.focusedElem,B=g.selectionRange;if(x!==S&&S&&S.ownerDocument&&C0(S.ownerDocument.documentElement,S)){if(B!==null&&im(S)){var X=B.start,ne=B.end;if(ne===void 0&&(ne=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(ne,S.value.length);else{var ae=S.ownerDocument||document,Q=ae&&ae.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),ye=S.textContent.length,we=Math.min(B.start,ye),ht=B.end===void 0?we:Math.min(B.end,ye);!J.extend&&we>ht&&(x=ht,ht=we,we=x);var q=R0(S,we),F=R0(S,ht);if(q&&F&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==F.node||J.focusOffset!==F.offset)){var Y=ae.createRange();Y.setStart(q.node,q.offset),J.removeAllRanges(),we>ht?(J.addRange(Y),J.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),J.addRange(Y))}}}}for(ae=[],J=S;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ae.length;S++){var se=ae[S];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}df=!!Dp,Mp=Dp=null}finally{Je=m,ue.p=u,te.T=o}}i.current=r,Yt=2}}function qb(){if(Yt===2){Yt=0;var i=Tr,r=zo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=te.T,te.T=null;var u=ue.p;ue.p=2;var m=Je;Je|=4;try{vb(i,r.alternate,r)}finally{Je=m,ue.p=u,te.T=o}}Yt=3}}function Gb(){if(Yt===4||Yt===3){Yt=0,so();var i=Tr,r=zo,o=Us,u=Db;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Yt=5:(Yt=0,zo=Tr=null,$b(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(xr=null),Ts(o),r=r.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ln,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=te.T,m=ue.p,ue.p=2,te.T=null;try{for(var g=i.onRecoverableError,x=0;x<u.length;x++){var S=u[x];g(S.value,{componentStack:S.stack})}}finally{te.T=r,ue.p=m}}(Us&3)!==0&&ef(),ns(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===vp?Rc++:(Rc=0,vp=i):Rc=0,Cc(0)}}function $b(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,lc(r)))}function ef(){return Hb(),qb(),Gb(),Kb()}function Kb(){if(Yt!==5)return!1;var i=Tr,r=gp;gp=0;var o=Ts(Us),u=te.T,m=ue.p;try{ue.p=32>o?32:o,te.T=null,o=yp,yp=null;var g=Tr,x=Us;if(Yt=0,zo=Tr=null,Us=0,(Je&6)!==0)throw Error(s(331));var S=Je;if(Je|=4,Cb(g.current),Sb(g,g.current,x,o),Je=S,Cc(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ln,g)}catch{}return!0}finally{ue.p=m,te.T=u,$b(i,r)}}function Yb(i,r,o){r=ni(o,r),r=Qm(i.stateNode,r,2),i=pr(i,r,2),i!==null&&(oa(i,2),ns(i))}function at(i,r,o){if(i.tag===3)Yb(i,i,o);else for(;r!==null;){if(r.tag===3){Yb(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xr===null||!xr.has(u))){i=ni(o,i),o=X_(2),u=pr(r,o,2),u!==null&&(Q_(o,u,r,i),oa(u,2),ns(u));break}}r=r.return}}function xp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new zC;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(dp=!0,m.add(o),i=$C.bind(null,i,r,o),r.then(i,i))}function $C(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ft===i&&(Ue&o)===o&&(Ct===4||Ct===3&&(Ue&62914560)===Ue&&300>Zt()-Yh?(Je&2)===0&&Fo(i,0):mp|=o,Bo===Ue&&(Bo=0)),ns(i)}function Xb(i,r){r===0&&(r=Qu()),i=xa(i,r),i!==null&&(oa(i,r),ns(i))}function KC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Xb(i,o)}function YC(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Xb(i,o)}function XC(i,r){return tt(i,r)}var tf=null,qo=null,Tp=!1,nf=!1,Ep=!1,wr=0;function ns(i){i!==qo&&i.next===null&&(qo===null?tf=qo=i:qo=qo.next=i),nf=!0,Tp||(Tp=!0,WC())}function Cc(i,r){if(!Ep&&nf){Ep=!0;do for(var o=!1,u=tf;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var x=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-It(42|i)+1)-1,g&=m&~(x&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Jb(u,g))}else g=Ue,g=Li(u,u===ft?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||pi(u,g)||(o=!0,Jb(u,g));u=u.next}while(o);Ep=!1}}function QC(){Qb()}function Qb(){nf=Tp=!1;var i=0;wr!==0&&oN()&&(i=wr);for(var r=Zt(),o=null,u=tf;u!==null;){var m=u.next,g=Wb(u,r);g===0?(u.next=null,o===null?tf=m:o.next=m,m===null&&(qo=o)):(o=u,(i!==0||(g&3)!==0)&&(nf=!0)),u=m}Yt!==0&&Yt!==5||Cc(i),wr!==0&&(wr=0)}function Wb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var x=31-It(g),S=1<<x,B=m[x];B===-1?((S&o)===0||(S&u)!==0)&&(m[x]=Zd(S,r)):B<=r&&(i.expiredLanes|=S),g&=~S}if(r=ft,o=Ue,o=Li(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ki(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||pi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&ki(u),Ts(o)){case 2:case 8:o=sa;break;case 32:o=Oi;break;case 268435456:o=ra;break;default:o=Oi}return u=Zb.bind(null,i),o=tt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&ki(u),i.callbackPriority=2,i.callbackNode=null,2}function Zb(i,r){if(Yt!==0&&Yt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ef()&&i.callbackNode!==o)return null;var u=Ue;return u=Li(i,i===ft?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Pb(i,u,r),Wb(i,Zt()),i.callbackNode!=null&&i.callbackNode===o?Zb.bind(null,i):null)}function Jb(i,r){if(ef())return null;Pb(i,r,!0)}function WC(){cN(function(){(Je&6)!==0?tt(Zs,QC):Qb()})}function wp(){if(wr===0){var i=No;i===0&&(i=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),wr=i}return wr}function ex(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:mo(""+i)}function tx(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function ZC(i,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var g=ex((m[Jt]||null).action),x=u.submitter;x&&(r=(r=x[Jt]||null)?ex(r.formAction):x.getAttribute("formAction"),r!==null&&(g=r,x=null));var S=new Xi("action","action",null,u,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wr!==0){var B=x?tx(m,x):new FormData(m);qm(o,{pending:!0,data:B,method:m.method,action:g},null,B)}}else typeof g=="function"&&(S.preventDefault(),B=x?tx(m,x):new FormData(m),qm(o,{pending:!0,data:B,method:m.method,action:g},g,B))},currentTarget:m}]})}}for(var Sp=0;Sp<om.length;Sp++){var Ap=om[Sp],JC=Ap.toLowerCase(),eN=Ap[0].toUpperCase()+Ap.slice(1);Ei(JC,"on"+eN)}Ei(M0,"onAnimationEnd"),Ei(P0,"onAnimationIteration"),Ei(k0,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(gC,"onTransitionRun"),Ei(yC,"onTransitionStart"),Ei(vC,"onTransitionCancel"),Ei(O0,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nc));function nx(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var x=u.length-1;0<=x;x--){var S=u[x],B=S.instance,X=S.currentTarget;if(S=S.listener,B!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=X;try{g(m)}catch(ne){yh(ne)}m.currentTarget=null,g=B}else for(x=0;x<u.length;x++){if(S=u[x],B=S.instance,X=S.currentTarget,S=S.listener,B!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=X;try{g(m)}catch(ne){yh(ne)}m.currentTarget=null,g=B}}}}function je(i,r){var o=r[lo];o===void 0&&(o=r[lo]=new Set);var u=i+"__bubble";o.has(u)||(ix(r,i,2,!1),o.add(u))}function Rp(i,r,o){var u=0;r&&(u|=4),ix(o,i,u,r)}var sf="_reactListening"+Math.random().toString(36).slice(2);function Cp(i){if(!i[sf]){i[sf]=!0,zl.forEach(function(o){o!=="selectionchange"&&(tN.has(o)||Rp(o,!1,i),Rp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[sf]||(r[sf]=!0,Rp("selectionchange",!1,r))}}function ix(i,r,o,u){switch(Mx(r)){case 2:var m=NN;break;case 8:m=IN;break;default:m=Hp}o=m.bind(null,r,o,i),m=void 0,!da||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Np(i,r,o,u,m){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===m)break;if(x===4)for(x=u.return;x!==null;){var B=x.tag;if((B===3||B===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;S!==null;){if(x=Fi(S),x===null)return;if(B=x.tag,B===5||B===6||B===26||B===27){u=g=x;continue e}S=S.parentNode}}u=u.return}rr(function(){var X=g,ne=Zn(o),ae=[];e:{var Q=V0.get(i);if(Q!==void 0){var J=Xi,ye=i;switch(i){case"keypress":if(pa(o)===0)break e;case"keydown":case"keyup":J=mh;break;case"focusin":ye="focus",J=ya;break;case"focusout":ye="blur",J=ya;break;case"beforeblur":case"afterblur":J=ya;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_;break;case M0:case P0:case k0:J=oh;break;case O0:J=R;break;case"scroll":case"scrollend":J=Jl;break;case"wheel":J=Z;break;case"copy":case"cut":case"paste":J=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ss;break;case"toggle":case"beforetoggle":J=Pe}var we=(r&4)!==0,ht=!we&&(i==="scroll"||i==="scrollend"),q=we?Q!==null?Q+"Capture":null:Q;we=[];for(var F=X,Y;F!==null;){var se=F;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||q===null||(se=_i(F,q),se!=null&&we.push(Ic(F,se,Y))),ht)break;F=F.return}0<we.length&&(Q=new J(Q,ye,null,o,ne),ae.push({event:Q,listeners:we}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Q&&o!==Ql&&(ye=o.relatedTarget||o.fromElement)&&(Fi(ye)||ye[Bi]))break e;if((J||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(ye=o.relatedTarget||o.toElement,J=X,ye=ye?Fi(ye):null,ye!==null&&(ht=l(ye),we=ye.tag,ye!==ht||we!==5&&we!==27&&we!==6)&&(ye=null)):(J=null,ye=X),J!==ye)){if(we=ec,se="onMouseLeave",q="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(we=Ss,se="onPointerLeave",q="onPointerEnter",F="pointer"),ht=J==null?Q:Un(J),Y=ye==null?Q:Un(ye),Q=new we(se,F+"leave",J,o,ne),Q.target=ht,Q.relatedTarget=Y,se=null,Fi(ne)===X&&(we=new we(q,F+"enter",ye,o,ne),we.target=Y,we.relatedTarget=ht,se=we),ht=se,J&&ye)t:{for(we=nN,q=J,F=ye,Y=0,se=q;se;se=we(se))Y++;se=0;for(var xe=F;xe;xe=we(xe))se++;for(;0<Y-se;)q=we(q),Y--;for(;0<se-Y;)F=we(F),se--;for(;Y--;){if(q===F||F!==null&&q===F.alternate){we=q;break t}q=we(q),F=we(F)}we=null}else we=null;J!==null&&sx(ae,Q,J,we,!1),ye!==null&&ht!==null&&sx(ae,ht,ye,we,!0)}}e:{if(Q=X?Un(X):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var Xe=x0;else if(_0(Q))if(T0)Xe=dC;else{Xe=hC;var ve=uC}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&fo(X.elementType)&&(Xe=x0):Xe=fC;if(Xe&&(Xe=Xe(i,X))){b0(ae,Xe,o,ne);break e}ve&&ve(i,Q,X),i==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&Kl(Q,"number",Q.value)}switch(ve=X?Un(X):window,i){case"focusin":(_0(ve)||ve.contentEditable==="true")&&(xo=ve,sm=X,rc=null);break;case"focusout":rc=sm=xo=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,I0(ae,o,ne);break;case"selectionchange":if(pC)break;case"keydown":case"keyup":I0(ae,o,ne)}var Oe;if(Ze)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else bo?va(i,o)&&(Be="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(Zi&&o.locale!=="ko"&&(bo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&bo&&(Oe=Zl()):(Yi=ne,Wl="value"in Yi?Yi.value:Yi.textContent,bo=!0)),ve=rf(X,Be),0<ve.length&&(Be=new Wi(Be,i,null,o,ne),ae.push({event:Be,listeners:ve}),Oe?Be.data=Oe:(Oe=_o(o),Oe!==null&&(Be.data=Oe)))),(Oe=ei?aC(i,o):oC(i,o))&&(Be=rf(X,"onBeforeInput"),0<Be.length&&(ve=new Wi("onBeforeInput","beforeinput",null,o,ne),ae.push({event:ve,listeners:Be}),ve.data=Oe)),ZC(ae,i,X,o,ne)}nx(ae,r)})}function Ic(i,r,o){return{instance:i,listener:r,currentTarget:o}}function rf(i,r){for(var o=r+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=_i(i,o),m!=null&&u.unshift(Ic(i,m,g)),m=_i(i,r),m!=null&&u.push(Ic(i,m,g))),i.tag===3)return u;i=i.return}return[]}function nN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sx(i,r,o,u,m){for(var g=r._reactName,x=[];o!==null&&o!==u;){var S=o,B=S.alternate,X=S.stateNode;if(S=S.tag,B!==null&&B===u)break;S!==5&&S!==26&&S!==27||X===null||(B=X,m?(X=_i(o,g),X!=null&&x.unshift(Ic(o,X,B))):m||(X=_i(o,g),X!=null&&x.push(Ic(o,X,B)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var iN=/\r\n?/g,sN=/\u0000|\uFFFD/g;function rx(i){return(typeof i=="string"?i:""+i).replace(iN,`
`).replace(sN,"")}function ax(i,r){return r=rx(r),rx(i)===r}function ut(i,r,o,u,m,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Nn(i,""+u);break;case"className":Bn(i,"class",u);break;case"tabIndex":Bn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(i,o,u);break;case"style":Xl(i,u,g);break;case"data":if(r!=="object"){Bn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=mo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ut(i,r,"name",m.name,m,null),ut(i,r,"formEncType",m.formEncType,m,null),ut(i,r,"formMethod",m.formMethod,m,null),ut(i,r,"formTarget",m.formTarget,m,null)):(ut(i,r,"encType",m.encType,m,null),ut(i,r,"method",m.method,m,null),ut(i,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=mo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=vi);break;case"onScroll":u!=null&&je("scroll",i);break;case"onScrollEnd":u!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=mo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":je("beforetoggle",i),je("toggle",i),uo(i,"popover",u);break;case"xlinkActuate":Ut(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":uo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sh.get(o)||o,uo(i,o,u))}}function Ip(i,r,o,u,m,g){switch(o){case"style":Xl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&Nn(i,""+u);break;case"onScroll":u!=null&&je("scroll",i);break;case"onScrollEnd":u!=null&&je("scrollend",i);break;case"onClick":u!=null&&(i.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[Jt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):uo(i,o,u)}}}function fn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(i,r,g,x,o,null)}}m&&ut(i,r,"srcSet",o.srcSet,o,null),u&&ut(i,r,"src",o.src,o,null);return;case"input":je("invalid",i);var S=g=x=m=null,B=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":m=ne;break;case"type":x=ne;break;case"checked":B=ne;break;case"defaultChecked":X=ne;break;case"value":g=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:ut(i,r,u,ne,o,null)}}th(i,g,S,B,X,x,m,!1);return;case"select":je("invalid",i),u=x=g=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:ut(i,r,m,S,o,null)}r=g,o=x,i.multiple=!!u,r!=null?tr(i,!!u,r,!1):o!=null&&tr(i,!!u,o,!0);return;case"textarea":je("invalid",i),g=m=u=null;for(x in o)if(o.hasOwnProperty(x)&&(S=o[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ut(i,r,x,S,o,null)}nr(i,u,m,g);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ut(i,r,B,u,o,null)}return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(u=0;u<Nc.length;u++)je(Nc[u],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(i,r,X,u,o,null)}return;default:if(fo(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Ip(i,r,ne,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&ut(i,r,S,u,o,null))}function rN(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,x=null,S=null,B=null,X=null,ne=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":B=ae;default:u.hasOwnProperty(J)||ut(i,r,J,null,u,ae)}}for(var Q in u){var J=u[Q];if(ae=o[Q],u.hasOwnProperty(Q)&&(J!=null||ae!=null))switch(Q){case"type":g=J;break;case"name":m=J;break;case"checked":X=J;break;case"defaultChecked":ne=J;break;case"value":x=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:J!==ae&&ut(i,r,Q,J,u,ae)}}ho(i,x,S,B,X,ne,g,m);return;case"select":J=x=S=Q=null;for(g in o)if(B=o[g],o.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":J=B;default:u.hasOwnProperty(g)||ut(i,r,g,null,u,B)}for(m in u)if(g=u[m],B=o[m],u.hasOwnProperty(m)&&(g!=null||B!=null))switch(m){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":x=g;default:g!==B&&ut(i,r,m,g,u,B)}r=S,o=x,u=J,Q!=null?tr(i,!!o,Q,!1):!!u!=!!o&&(r!=null?tr(i,!!o,r,!0):tr(i,!!o,o?[]:"",!1));return;case"textarea":J=Q=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ut(i,r,S,null,u,m)}for(x in u)if(m=u[x],g=o[x],u.hasOwnProperty(x)&&(m!=null||g!=null))switch(x){case"value":Q=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&ut(i,r,x,m,u,g)}nh(i,Q,J);return;case"option":for(var ye in o)if(Q=o[ye],o.hasOwnProperty(ye)&&Q!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:ut(i,r,ye,null,u,Q)}for(B in u)if(Q=u[B],J=o[B],u.hasOwnProperty(B)&&Q!==J&&(Q!=null||J!=null))switch(B){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ut(i,r,B,Q,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Q=o[we],o.hasOwnProperty(we)&&Q!=null&&!u.hasOwnProperty(we)&&ut(i,r,we,null,u,Q);for(X in u)if(Q=u[X],J=o[X],u.hasOwnProperty(X)&&Q!==J&&(Q!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:ut(i,r,X,Q,u,J)}return;default:if(fo(r)){for(var ht in o)Q=o[ht],o.hasOwnProperty(ht)&&Q!==void 0&&!u.hasOwnProperty(ht)&&Ip(i,r,ht,void 0,u,Q);for(ne in u)Q=u[ne],J=o[ne],!u.hasOwnProperty(ne)||Q===J||Q===void 0&&J===void 0||Ip(i,r,ne,Q,u,J);return}}for(var q in o)Q=o[q],o.hasOwnProperty(q)&&Q!=null&&!u.hasOwnProperty(q)&&ut(i,r,q,null,u,Q);for(ae in u)Q=u[ae],J=o[ae],!u.hasOwnProperty(ae)||Q===J||Q==null&&J==null||ut(i,r,ae,Q,u,J)}function ox(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],g=m.transferSize,x=m.initiatorType,S=m.duration;if(g&&S&&ox(x)){for(x=0,S=m.responseEnd,u+=1;u<o.length;u++){var B=o[u],X=B.startTime;if(X>S)break;var ne=B.transferSize,ae=B.initiatorType;ne&&ox(ae)&&(B=B.responseEnd,x+=ne*(B<S?1:(S-X)/(B-X)))}if(--u,r+=8*(g+x)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Dp=null,Mp=null;function af(i){return i.nodeType===9?i:i.ownerDocument}function lx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cx(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Pp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var kp=null;function oN(){var i=window.event;return i&&i.type==="popstate"?i===kp?!1:(kp=i,!0):(kp=null,!1)}var ux=typeof setTimeout=="function"?setTimeout:void 0,lN=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,cN=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(i){return hx.resolve(null).then(i).catch(uN)}:ux;function uN(i){setTimeout(function(){throw i})}function Sr(i){return i==="head"}function fx(i,r){var o=r,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(m),Yo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Dc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Dc(o);for(var g=o.firstChild;g;){var x=g.nextSibling,S=g.nodeName;g[zi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&Dc(i.ownerDocument.body);o=m}while(o);Yo(r)}function dx(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Op(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Op(o),co(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function hN(i,r,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[zi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function fN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=oi(i.nextSibling),i===null))return null;return i}function mx(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=oi(i.nextSibling),i===null))return null;return i}function Vp(i){return i.data==="$?"||i.data==="$~"}function jp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function dN(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function oi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Lp=null;function px(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return oi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function gx(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function yx(i,r,o){switch(r=af(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Dc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);co(i)}var li=new Map,vx=new Set;function of(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Bs=ue.d;ue.d={f:mN,r:pN,D:gN,C:yN,L:vN,m:_N,X:xN,S:bN,M:TN};function mN(){var i=Bs.f(),r=Wh();return i||r}function pN(i){var r=Wn(i);r!==null&&r.tag===5&&r.type==="form"?O_(r):Bs.r(i)}var Go=typeof document>"u"?null:document;function _x(i,r,o){var u=Go;if(u&&typeof r=="string"&&r){var m=Cn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),vx.has(m)||(vx.add(m),i={rel:i,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),fn(r,"link",i),Lt(r),u.head.appendChild(r)))}}function gN(i){Bs.D(i),_x("dns-prefetch",i,null)}function yN(i,r){Bs.C(i,r),_x("preconnect",i,r)}function vN(i,r,o){Bs.L(i,r,o);var u=Go;if(u&&i&&r){var m='link[rel="preload"][as="'+Cn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Cn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Cn(o.imageSizes)+'"]')):m+='[href="'+Cn(i)+'"]';var g=m;switch(r){case"style":g=$o(i);break;case"script":g=Ko(i)}li.has(g)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),li.set(g,i),u.querySelector(m)!==null||r==="style"&&u.querySelector(Mc(g))||r==="script"&&u.querySelector(Pc(g))||(r=u.createElement("link"),fn(r,"link",i),Lt(r),u.head.appendChild(r)))}}function _N(i,r){Bs.m(i,r);var o=Go;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Cn(u)+'"][href="'+Cn(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ko(i)}if(!li.has(g)&&(i=b({rel:"modulepreload",href:i},r),li.set(g,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Pc(g)))return}u=o.createElement("link"),fn(u,"link",i),Lt(u),o.head.appendChild(u)}}}function bN(i,r,o){Bs.S(i,r,o);var u=Go;if(u&&i){var m=Hi(u).hoistableStyles,g=$o(i);r=r||"default";var x=m.get(g);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(Mc(g)))S.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=li.get(g))&&Up(i,o);var B=x=u.createElement("link");Lt(B),fn(B,"link",i),B._p=new Promise(function(X,ne){B.onload=X,B.onerror=ne}),B.addEventListener("load",function(){S.loading|=1}),B.addEventListener("error",function(){S.loading|=2}),S.loading|=4,lf(x,r,u)}x={type:"stylesheet",instance:x,count:1,state:S},m.set(g,x)}}}function xN(i,r){Bs.X(i,r);var o=Go;if(o&&i){var u=Hi(o).hoistableScripts,m=Ko(i),g=u.get(m);g||(g=o.querySelector(Pc(m)),g||(i=b({src:i,async:!0},r),(r=li.get(m))&&Bp(i,r),g=o.createElement("script"),Lt(g),fn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function TN(i,r){Bs.M(i,r);var o=Go;if(o&&i){var u=Hi(o).hoistableScripts,m=Ko(i),g=u.get(m);g||(g=o.querySelector(Pc(m)),g||(i=b({src:i,async:!0,type:"module"},r),(r=li.get(m))&&Bp(i,r),g=o.createElement("script"),Lt(g),fn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function bx(i,r,o,u){var m=(m=me.current)?of(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=$o(o.href),o=Hi(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=$o(o.href);var g=Hi(m).hoistableStyles,x=g.get(i);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,x),(g=m.querySelector(Mc(i)))&&!g._p&&(x.instance=g,x.state.loading=5),li.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},li.set(i,o),g||EN(m,i,o,x.state))),r&&u===null)throw Error(s(528,""));return x}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ko(o),o=Hi(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function $o(i){return'href="'+Cn(i)+'"'}function Mc(i){return'link[rel="stylesheet"]['+i+"]"}function xx(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function EN(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),fn(r,"link",o),Lt(r),i.head.appendChild(r))}function Ko(i){return'[src="'+Cn(i)+'"]'}function Pc(i){return"script[async]"+i}function Tx(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Cn(o.href)+'"]');if(u)return r.instance=u,Lt(u),u;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Lt(u),fn(u,"style",m),lf(u,o.precedence,i),r.instance=u;case"stylesheet":m=$o(o.href);var g=i.querySelector(Mc(m));if(g)return r.state.loading|=4,r.instance=g,Lt(g),g;u=xx(o),(m=li.get(m))&&Up(u,m),g=(i.ownerDocument||i).createElement("link"),Lt(g);var x=g;return x._p=new Promise(function(S,B){x.onload=S,x.onerror=B}),fn(g,"link",u),r.state.loading|=4,lf(g,o.precedence,i),r.instance=g;case"script":return g=Ko(o.src),(m=i.querySelector(Pc(g)))?(r.instance=m,Lt(m),m):(u=o,(m=li.get(g))&&(u=b({},o),Bp(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Lt(m),fn(m,"link",u),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,lf(u,o.precedence,i));return r.instance}function lf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===r)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Up(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Bp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var cf=null;function Ex(i,r,o){if(cf===null){var u=new Map,m=cf=new Map;m.set(o,u)}else m=cf,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[zi]||g[jt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(r)||"";x=i+x;var S=u.get(x);S?S.push(g):u.set(x,[g])}}return u}function wx(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function wN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Sx(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function SN(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=$o(u.href),g=r.querySelector(Mc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=uf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Lt(g);return}g=r.ownerDocument||r,u=xx(u),(m=li.get(m))&&Up(u,m),g=g.createElement("link"),Lt(g);var x=g;x._p=new Promise(function(S,B){x.onload=S,x.onerror=B}),fn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=uf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var zp=0;function AN(i,r){return i.stylesheets&&i.count===0&&ff(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&ff(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&zp===0&&(zp=62500*aN());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ff(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>zp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hf=null;function ff(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hf=new Map,r.forEach(RN,i),hf=null,uf.call(i))}function RN(i,r){if(!(r.state.loading&4)){var o=hf.get(i);if(o)var u=o.get(null);else{o=new Map,hf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var x=m[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),u=x)}u&&o.set(null,u)}m=r.instance,x=m.getAttribute("data-precedence"),g=o.get(x)||u,g===u&&o.set(null,m),o.set(x,m),this.count++,u=uf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var kc={$$typeof:k,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function CN(i,r,o,u,m,g,x,S,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function Ax(i,r,o,u,m,g,x,S,B,X,ne,ae){return i=new CN(i,r,o,x,B,X,ne,ae,S),r=1,g===!0&&(r|=24),g=Fn(3,null,null,r),i.current=g,g.stateNode=i,r=bm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},wm(g),i}function Rx(i){return i?(i=wo,i):wo}function Cx(i,r,o,u,m,g){m=Rx(m),u.context===null?u.context=m:u.pendingContext=m,u=mr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=pr(i,u,r),o!==null&&(kn(o,i,r),fc(o,i,r))}function Nx(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Fp(i,r){Nx(i,r),(i=i.alternate)&&Nx(i,r)}function Ix(i){if(i.tag===13||i.tag===31){var r=xa(i,67108864);r!==null&&kn(r,i,67108864),Fp(i,67108864)}}function Dx(i){if(i.tag===13||i.tag===31){var r=Kn();r=ca(r);var o=xa(i,r);o!==null&&kn(o,i,r),Fp(i,r)}}var df=!0;function NN(i,r,o,u){var m=te.T;te.T=null;var g=ue.p;try{ue.p=2,Hp(i,r,o,u)}finally{ue.p=g,te.T=m}}function IN(i,r,o,u){var m=te.T;te.T=null;var g=ue.p;try{ue.p=8,Hp(i,r,o,u)}finally{ue.p=g,te.T=m}}function Hp(i,r,o,u){if(df){var m=qp(u);if(m===null)Np(i,r,u,mf,o),Px(i,u);else if(MN(m,i,r,o,u))u.stopPropagation();else if(Px(i,u),r&4&&-1<DN.indexOf(i)){for(;m!==null;){var g=Wn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=ji(g.pendingLanes);if(x!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var B=1<<31-It(x);S.entanglements[1]|=B,x&=~B}ns(g),(Je&6)===0&&(Xh=Zt()+500,Cc(0))}}break;case 31:case 13:S=xa(g,2),S!==null&&kn(S,g,2),Wh(),Fp(g,2)}if(g=qp(u),g===null&&Np(i,r,u,mf,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else Np(i,r,u,null,o)}}function qp(i){return i=Zn(i),Gp(i)}var mf=null;function Gp(i){if(mf=null,i=Fi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return mf=i,null}function Mx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case Zs:return 2;case sa:return 8;case Oi:case ro:return 32;case ra:return 268435456;default:return 32}default:return 32}}var $p=!1,Ar=null,Rr=null,Cr=null,Oc=new Map,Vc=new Map,Nr=[],DN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Px(i,r){switch(i){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Oc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(r.pointerId)}}function jc(i,r,o,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Wn(r),r!==null&&Ix(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function MN(i,r,o,u,m){switch(r){case"focusin":return Ar=jc(Ar,i,r,o,u,m),!0;case"dragenter":return Rr=jc(Rr,i,r,o,u,m),!0;case"mouseover":return Cr=jc(Cr,i,r,o,u,m),!0;case"pointerover":var g=m.pointerId;return Oc.set(g,jc(Oc.get(g)||null,i,r,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,Vc.set(g,jc(Vc.get(g)||null,i,r,o,u,m)),!0}return!1}function kx(i){var r=Fi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,gi(i.priority,function(){Dx(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,gi(i.priority,function(){Dx(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function pf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=qp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ql=u,o.target.dispatchEvent(u),Ql=null}else return r=Wn(o),r!==null&&Ix(r),i.blockedOn=o,!1;r.shift()}return!0}function Ox(i,r,o){pf(i)&&o.delete(r)}function PN(){$p=!1,Ar!==null&&pf(Ar)&&(Ar=null),Rr!==null&&pf(Rr)&&(Rr=null),Cr!==null&&pf(Cr)&&(Cr=null),Oc.forEach(Ox),Vc.forEach(Ox)}function gf(i,r){i.blockedOn===r&&(i.blockedOn=null,$p||($p=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PN)))}var yf=null;function Vx(i){yf!==i&&(yf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yf===i&&(yf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],m=i[r+2];if(typeof u!="function"){if(Gp(u||o)===null)continue;break}var g=Wn(o);g!==null&&(i.splice(r,3),r-=3,qm(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Yo(i){function r(B){return gf(B,i)}Ar!==null&&gf(Ar,i),Rr!==null&&gf(Rr,i),Cr!==null&&gf(Cr,i),Oc.forEach(r),Vc.forEach(r);for(var o=0;o<Nr.length;o++){var u=Nr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Nr.length&&(o=Nr[0],o.blockedOn===null);)kx(o),o.blockedOn===null&&Nr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],x=m[Jt]||null;if(typeof g=="function")x||Vx(o);else if(x){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,x=g[Jt]||null)S=x.formAction;else if(Gp(m)!==null)continue}else S=x.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),Vx(o)}}}function jx(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Kp(i){this._internalRoot=i}vf.prototype.render=Kp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Kn();Cx(o,u,i,r,null,null)},vf.prototype.unmount=Kp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Cx(i.current,2,null,i,null,null),Wh(),r[Bi]=null}};function vf(i){this._internalRoot=i}vf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Wu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Nr.length&&r!==0&&r<Nr[o].priority;o++);Nr.splice(o,0,i),o===0&&kx(i)}};var Lx=e.version;if(Lx!=="19.2.3")throw Error(s(527,Lx,"19.2.3"));ue.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var kN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{Ln=_f.inject(kN),on=_f}catch{}}return Uc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",m=G_,g=$_,x=K_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=Ax(i,1,!1,null,null,o,u,null,m,g,x,jx),i[Bi]=r.current,Cp(i),new Kp(r)},Uc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,m="",g=G_,x=$_,S=K_,B=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),r=Ax(i,1,!0,r,o??null,u,m,B,g,x,S,jx),r.context=Rx(null),o=r.current,u=Kn(),u=ca(u),m=mr(u),m.callback=null,pr(o,m,u),o=u,r.current.lanes=o,oa(r,o),ns(r),i[Bi]=r.current,Cp(i),new vf(r)},Uc.version="19.2.3",Uc}var Yx;function qN(){if(Yx)return Qp.exports;Yx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qp.exports=HN(),Qp.exports}var GN=qN();const $N=JE(GN);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xx="popstate";function KN(t={}){function e(a,l){let{pathname:c="/",search:f="",hash:d=""}=Wa(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Pg("",{pathname:c,search:f,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");f=p===-1?d:d.slice(0,p)}return f+"#"+(typeof l=="string"?l:ou(l))}function s(a,l){Xn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return XN(e,n,s,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YN(){return Math.random().toString(36).substring(2,10)}function Qx(t,e){return{usr:t.state,key:t.key,idx:e}}function Pg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wa(e):e,state:n,key:e&&e.key||s||YN()}}function ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function XN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",d=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let I=v(),O=I==null?null:I-p;p=I,d&&d({action:f,location:M.location,delta:O})}function E(I,O){f="PUSH";let V=Pg(M.location,I,O);n&&n(V,I),p=v()+1;let k=Qx(V,p),W=M.createHref(V);try{c.pushState(k,"",W)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(W)}l&&d&&d({action:f,location:M.location,delta:1})}function A(I,O){f="REPLACE";let V=Pg(M.location,I,O);n&&n(V,I),p=v();let k=Qx(V,p),W=M.createHref(V);c.replaceState(k,"",W),l&&d&&d({action:f,location:M.location,delta:0})}function L(I){return QN(I)}let M={get action(){return f},get location(){return t(a,c)},listen(I){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Xx,b),d=I,()=>{a.removeEventListener(Xx,b),d=null}},createHref(I){return e(a,I)},createURL:L,encodeLocation(I){let O=L(I);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:A,go(I){return c.go(I)}};return M}function QN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:ou(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function tw(t,e,n="/"){return WN(t,e,n,!1)}function WN(t,e,n,s){let a=typeof e=="string"?Wa(e):e,l=Gs(a.pathname||"/",n);if(l==null)return null;let c=nw(t);ZN(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let p=cI(l);f=oI(c[d],p,s)}return f}function nw(t,e=[],n=[],s="",a=!1){let l=(c,f,d=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&d)return;wt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Hs([s,v.relativePath]),E=n.concat(v);c.children&&c.children.length>0&&(wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),nw(c.children,e,E,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:rI(b,c.index),routesMeta:E})};return t.forEach((c,f)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))l(c,f);else for(let p of iw(c.path))l(c,f,!0,p)}),e}function iw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=iw(s.join("/")),f=[];return f.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&f.push(...c),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function ZN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var JN=/^:[\w-]+$/,eI=3,tI=2,nI=1,iI=10,sI=-2,Wx=t=>t==="*";function rI(t,e){let n=t.split("/"),s=n.length;return n.some(Wx)&&(s+=sI),e&&(s+=tI),n.filter(a=>!Wx(a)).reduce((a,l)=>a+(JN.test(l)?eI:l===""?nI:iI),s)}function aI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function oI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let d=s[f],p=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),E=d.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Hs([l,b.pathname]),pathnameBase:mI(Hs([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=Hs([l,b.pathnameBase]))}return c}function Wf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=lI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:b},E)=>{if(v==="*"){let L=f[E]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const A=f[E];return b&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function lI(t,e=!1,n=!0){Xn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(s.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function cI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var uI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hI=t=>uI.test(t);function fI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Wa(t):t,l;if(n)if(hI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Zx(n.substring(1),"/"):l=Zx(n,e)}else l=e;return{pathname:l,search:pI(s),hash:gI(a)}}function Zx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function eg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sw(t){let e=dI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function rw(t,e,n,s=!1){let a;typeof t=="string"?a=Wa(t):(a={...t},wt(!a.pathname||!a.pathname.includes("?"),eg("?","pathname","search",a)),wt(!a.pathname||!a.pathname.includes("#"),eg("#","pathname","hash",a)),wt(!a.search||!a.search.includes("#"),eg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}f=b>=0?e[b]:"/"}let d=fI(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var Hs=t=>t.join("/").replace(/\/\/+/g,"/"),mI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function vI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aw=["POST","PUT","PATCH","DELETE"];new Set(aw);var _I=["GET",...aw];new Set(_I);var Rl=j.createContext(null);Rl.displayName="DataRouter";var wd=j.createContext(null);wd.displayName="DataRouterState";j.createContext(!1);var ow=j.createContext({isTransitioning:!1});ow.displayName="ViewTransition";var bI=j.createContext(new Map);bI.displayName="Fetchers";var xI=j.createContext(null);xI.displayName="Await";var Mi=j.createContext(null);Mi.displayName="Navigation";var Eu=j.createContext(null);Eu.displayName="Location";var vs=j.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var My=j.createContext(null);My.displayName="RouteError";function TI(t,{relative:e}={}){wt(wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Mi),{hash:a,pathname:l,search:c}=Su(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Hs([n,l])),s.createHref({pathname:f,search:c,hash:a})}function wu(){return j.useContext(Eu)!=null}function _s(){return wt(wu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Eu).location}var lw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cw(t){j.useContext(Mi).static||j.useLayoutEffect(t)}function Py(){let{isDataRoute:t}=j.useContext(vs);return t?VI():EI()}function EI(){wt(wu(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Rl),{basename:e,navigator:n}=j.useContext(Mi),{matches:s}=j.useContext(vs),{pathname:a}=_s(),l=JSON.stringify(sw(s)),c=j.useRef(!1);return cw(()=>{c.current=!0}),j.useCallback((d,p={})=>{if(Xn(c.current,lw),!c.current)return;if(typeof d=="number"){n.go(d);return}let v=rw(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Hs([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}j.createContext(null);function wI(){let{matches:t}=j.useContext(vs),e=t[t.length-1];return e?e.params:{}}function Su(t,{relative:e}={}){let{matches:n}=j.useContext(vs),{pathname:s}=_s(),a=JSON.stringify(sw(n));return j.useMemo(()=>rw(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function SI(t,e){return uw(t,e)}function uw(t,e,n,s,a){var V;wt(wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Mi),{matches:c}=j.useContext(vs),f=c[c.length-1],d=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let k=b&&b.path||"";hw(p,!b||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let E=_s(),A;if(e){let k=typeof e=="string"?Wa(e):e;wt(v==="/"||((V=k.pathname)==null?void 0:V.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${k.pathname}" was given in the \`location\` prop.`),A=k}else A=E;let L=A.pathname||"/",M=L;if(v!=="/"){let k=v.replace(/^\//,"").split("/");M="/"+L.replace(/^\//,"").split("/").slice(k.length).join("/")}let I=tw(t,{pathname:M});Xn(b||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Xn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=II(I&&I.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Hs([v,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?v:Hs([v,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),c,n,s,a);return e&&O?j.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},O):O}function AI(){let t=OI(),e=yI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,c)}var RI=j.createElement(AI,null),CI=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(vs.Provider,{value:this.props.routeContext},j.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NI({routeContext:t,match:e,children:n}){let s=j.useContext(Rl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(vs.Provider,{value:t},n)}function II(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);wt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,d=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=v),b.route.id){let{loaderData:E,errors:A}=n,L=b.route.loader&&!E.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||L){f=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&s?(v,b)=>{var E,A;s(v,{location:n.location,params:((A=(E=n.matches)==null?void 0:E[0])==null?void 0:A.params)??{},unstable_pattern:vI(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,E)=>{let A,L=!1,M=null,I=null;n&&(A=c&&b.route.id?c[b.route.id]:void 0,M=b.route.errorElement||RI,f&&(d<0&&E===0?(hw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,I=null):d===E&&(L=!0,I=b.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,E+1)),V=()=>{let k;return A?k=M:L?k=I:b.route.Component?k=j.createElement(b.route.Component,null):b.route.element?k=b.route.element:k=v,j.createElement(NI,{match:b,routeContext:{outlet:v,matches:O,isDataRoute:n!=null},children:k})};return n&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?j.createElement(CI,{location:n.location,revalidation:n.revalidation,component:M,error:A,children:V(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:p}):V()},null)}function ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DI(t){let e=j.useContext(Rl);return wt(e,ky(t)),e}function MI(t){let e=j.useContext(wd);return wt(e,ky(t)),e}function PI(t){let e=j.useContext(vs);return wt(e,ky(t)),e}function Oy(t){let e=PI(t),n=e.matches[e.matches.length-1];return wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kI(){return Oy("useRouteId")}function OI(){var s;let t=j.useContext(My),e=MI("useRouteError"),n=Oy("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function VI(){let{router:t}=DI("useNavigate"),e=Oy("useNavigate"),n=j.useRef(!1);return cw(()=>{n.current=!0}),j.useCallback(async(a,l={})=>{Xn(n.current,lw),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Jx={};function hw(t,e,n){!e&&!Jx[t]&&(Jx[t]=!0,Xn(!1,n))}j.memo(jI);function jI({routes:t,future:e,state:n,unstable_onError:s}){return uw(t,void 0,n,s,e)}function is(t){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){wt(!wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=Wa(n));let{pathname:p="/",search:v="",hash:b="",state:E=null,key:A="default"}=n,L=j.useMemo(()=>{let M=Gs(p,f);return M==null?null:{location:{pathname:M,search:v,hash:b,state:E,key:A},navigationType:s}},[f,p,v,b,E,A,s]);return Xn(L!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:j.createElement(Mi.Provider,{value:d},j.createElement(Eu.Provider,{children:e,value:L}))}function eT({children:t,location:e}){return SI(kg(t),e)}function kg(t,e=[]){let n=[];return j.Children.forEach(t,(s,a)=>{if(!j.isValidElement(s))return;let l=[...e,a];if(s.type===j.Fragment){n.push.apply(n,kg(s.props.children,l));return}wt(s.type===is,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=kg(s.props.children,l)),n.push(c)}),n}var Of="get",Vf="application/x-www-form-urlencoded";function Sd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function UI(t){return Sd(t)&&t.tagName.toLowerCase()==="button"}function BI(t){return Sd(t)&&t.tagName.toLowerCase()==="form"}function zI(t){return Sd(t)&&t.tagName.toLowerCase()==="input"}function FI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HI(t,e){return t.button===0&&(!e||e==="_self")&&!FI(t)}function Og(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function qI(t,e){let n=Og(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var bf=null;function GI(){if(bf===null)try{new FormData(document.createElement("form"),0),bf=!1}catch{bf=!0}return bf}var $I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tg(t){return t!=null&&!$I.has(t)?(Xn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vf}"`),null):t}function KI(t,e){let n,s,a,l,c;if(BI(t)){let f=t.getAttribute("action");s=f?Gs(f,e):null,n=t.getAttribute("method")||Of,a=tg(t.getAttribute("enctype"))||Vf,l=new FormData(t)}else if(UI(t)||zI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(s=d?Gs(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Of,a=tg(t.getAttribute("formenctype"))||tg(f.getAttribute("enctype"))||Vf,l=new FormData(f,t),!GI()){let{name:p,type:v,value:b}=t;if(v==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,b)}}else{if(Sd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Of,s=null,a=Vf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Gs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function XI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await XI(l,n);return c.links?c.links():[]}return[]}));return tD(s.flat(1).filter(QI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tT(t,e,n,s,a,l){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,f=(d,p)=>{var v;return n[p].pathname!==d.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>c(d,p)||f(d,p)):l==="data"?e.filter((d,p)=>{var b;let v=s.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(c(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function ZI(t,e,{includeHydrateFallback:n}={}){return JI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function JI(t){return[...new Set(t)]}function eD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function tD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(eD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function fw(){let t=j.useContext(Rl);return Vy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function nD(){let t=j.useContext(wd);return Vy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jy=j.createContext(void 0);jy.displayName="FrameworkContext";function dw(){let t=j.useContext(jy);return Vy(t,"You must render this element inside a <HydratedRouter> element"),t}function iD(t,e){let n=j.useContext(jy),[s,a]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,E=j.useRef(null);j.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=O=>{O.forEach(V=>{c(V.isIntersecting)})},I=new IntersectionObserver(M,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[t]),j.useEffect(()=>{if(s){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[s]);let A=()=>{a(!0)},L=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Bc(f,A),onBlur:Bc(d,L),onMouseEnter:Bc(p,A),onMouseLeave:Bc(v,L),onTouchStart:Bc(b,A)}]:[!1,E,{}]}function Bc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function sD({page:t,...e}){let{router:n}=fw(),s=j.useMemo(()=>tw(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?j.createElement(aD,{page:t,matches:s,...e}):null}function rD(t){let{manifest:e,routeModules:n}=dw(),[s,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return WI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function aD({page:t,matches:e,...n}){let s=_s(),{manifest:a,routeModules:l}=dw(),{basename:c}=fw(),{loaderData:f,matches:d}=nD(),p=j.useMemo(()=>tT(t,e,d,a,s,"data"),[t,e,d,a,s]),v=j.useMemo(()=>tT(t,e,d,a,s,"assets"),[t,e,d,a,s]),b=j.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let L=new Set,M=!1;if(e.forEach(O=>{var k;let V=a.routes[O.route.id];!V||!V.hasLoader||(!p.some(W=>W.route.id===O.route.id)&&O.route.id in f&&((k=l[O.route.id])!=null&&k.shouldRevalidate)||V.hasClientLoader?M=!0:L.add(O.route.id))}),L.size===0)return[];let I=YI(t,c,"data");return M&&L.size>0&&I.searchParams.set("_routes",e.filter(O=>L.has(O.route.id)).map(O=>O.route.id).join(",")),[I.pathname+I.search]},[c,f,s,a,p,e,t,l]),E=j.useMemo(()=>ZI(v,a),[v,a]),A=rD(v);return j.createElement(j.Fragment,null,b.map(L=>j.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),E.map(L=>j.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),A.map(({key:L,link:M})=>j.createElement("link",{key:L,nonce:n.nonce,...M})))}function oD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mw&&(window.__reactRouterVersion="7.10.1")}catch{}function lD({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=j.useRef();a.current==null&&(a.current=KN({window:s,v5Compat:!0}));let l=a.current,[c,f]=j.useState({action:l.action,location:l.location}),d=j.useCallback(p=>{n===!1?f(p):j.startTransition(()=>f(p))},[n]);return j.useLayoutEffect(()=>l.listen(d),[l,d]),j.createElement(LI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n===!0})}var pw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:d,to:p,preventScrollReset:v,viewTransition:b,...E},A){let{basename:L,unstable_useTransitions:M}=j.useContext(Mi),I=typeof p=="string"&&pw.test(p),O,V=!1;if(typeof p=="string"&&I&&(O=p,mw))try{let z=new URL(window.location.href),P=p.startsWith("//")?new URL(z.protocol+p):new URL(p),H=Gs(P.pathname,L);P.origin===z.origin&&H!=null?p=H+P.search+P.hash:V=!0}catch{Xn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=TI(p,{relative:a}),[W,ee,re]=iD(s,E),N=fD(p,{replace:c,state:f,target:d,preventScrollReset:v,relative:a,viewTransition:b,unstable_useTransitions:M});function C(z){e&&e(z),z.defaultPrevented||N(z)}let D=j.createElement("a",{...E,...re,href:O||k,onClick:V||l?e:C,ref:oD(A,ee),target:d,"data-discover":!I&&n==="render"?"true":void 0});return W&&!I?j.createElement(j.Fragment,null,D,j.createElement(sD,{page:k})):D});dt.displayName="Link";var cD=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:d,...p},v){let b=Su(c,{relative:p.relative}),E=_s(),A=j.useContext(wd),{navigator:L,basename:M}=j.useContext(Mi),I=A!=null&&vD(b)&&f===!0,O=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,V=E.pathname,k=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(V=V.toLowerCase(),k=k?k.toLowerCase():null,O=O.toLowerCase()),k&&M&&(k=Gs(k,M)||k);const W=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ee=V===O||!a&&V.startsWith(O)&&V.charAt(W)==="/",re=k!=null&&(k===O||!a&&k.startsWith(O)&&k.charAt(O.length)==="/"),N={isActive:ee,isPending:re,isTransitioning:I},C=ee?e:void 0,D;typeof s=="function"?D=s(N):D=[s,ee?"active":null,re?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(N):l;return j.createElement(dt,{...p,"aria-current":C,className:D,ref:v,style:z,to:c,viewTransition:f},typeof d=="function"?d(N):d)});cD.displayName="NavLink";var uD=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Of,action:f,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:b,...E},A)=>{let{unstable_useTransitions:L}=j.useContext(Mi),M=gD(),I=yD(f,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",V=typeof f=="string"&&pw.test(f),k=W=>{if(d&&d(W),W.defaultPrevented)return;W.preventDefault();let ee=W.nativeEvent.submitter,re=(ee==null?void 0:ee.getAttribute("formmethod"))||c,N=()=>M(ee||W.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b});L&&n!==!1?j.startTransition(()=>N()):N()};return j.createElement("form",{ref:A,method:O,action:I,onSubmit:s?d:k,...E,"data-discover":!V&&t==="render"?"true":void 0})});uD.displayName="Form";function hD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gw(t){let e=j.useContext(Rl);return wt(e,hD(t)),e}function fD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let d=Py(),p=_s(),v=Su(t,{relative:l});return j.useCallback(b=>{if(HI(b,e)){b.preventDefault();let E=n!==void 0?n:ou(p)===ou(v),A=()=>d(t,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:c});f?j.startTransition(()=>A()):A()}},[p,d,v,n,s,e,t,a,l,c,f])}function dD(t){Xn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Og(t)),n=j.useRef(!1),s=_s(),a=j.useMemo(()=>qI(s.search,n.current?null:e.current),[s.search]),l=Py(),c=j.useCallback((f,d)=>{const p=Og(typeof f=="function"?f(new URLSearchParams(a)):f);n.current=!0,l("?"+p,d)},[l,a]);return[a,c]}var mD=0,pD=()=>`__${String(++mD)}__`;function gD(){let{router:t}=gw("useSubmit"),{basename:e}=j.useContext(Mi),n=kI(),s=t.fetch,a=t.navigate;return j.useCallback(async(l,c={})=>{let{action:f,method:d,encType:p,formData:v,body:b}=KI(l,e);if(c.navigate===!1){let E=c.fetcherKey||pD();await s(E,n,c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||d,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||d,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function yD(t,{relative:e}={}){let{basename:n}=j.useContext(Mi),s=j.useContext(vs);wt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Su(t||".",{relative:e})},c=_s();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(v=>v==="")){f.delete("index"),d.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Hs([n,l.pathname])),ou(l)}function vD(t,{relative:e}={}){let n=j.useContext(ow);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gw("useViewTransitionState"),a=Su(t,{relative:e});if(!n.isTransitioning)return!1;let l=Gs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Gs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Wf(a.pathname,c)!=null||Wf(a.pathname,l)!=null}/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),nT=t=>{const e=bD(t);return e.charAt(0).toUpperCase()+e.slice(1)},yw=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),xD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},d)=>j.createElement("svg",{ref:d,...TD,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:yw("lucide",a),...!l&&!xD(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,v])=>j.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(t,e)=>{const n=j.forwardRef(({className:s,...a},l)=>j.createElement(ED,{ref:l,iconNode:e,className:yw(`lucide-${_D(nT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=nT(t),n};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qa=Ke("arrow-left",wD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],AD=Ke("arrow-right",SD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Vg=Ke("calendar-check",RD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ND=Ke("calendar",CD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],vw=Ke("camera",ID);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_w=Ke("check",DD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bw=Ke("chevron-down",MD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xo=Ke("circle-alert",PD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xw=Ke("circle-check-big",kD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VD=Ke("clock",OD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LD=Ke("eye",jD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Tw=Ke("facebook",UD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zD=Ke("funnel",BD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ew=Ke("heart",FD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ww=Ke("instagram",HD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gl=Ke("loader-circle",qD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$D=Ke("lock",GD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YD=Ke("log-out",KD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Sw=Ke("mail",XD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ly=Ke("map-pin",QD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ZD=Ke("menu",WD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Uy=Ke("phone",JD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Aw=Ke("plus",eM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],nM=Ke("quote",tM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],By=Ke("save",iM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rM=Ke("search",sM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],oM=Ke("share-2",aM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cM=Ke("shield-check",lM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],jg=Ke("smartphone",uM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fM=Ke("square-pen",hM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zy=Ke("star",dM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rw=Ke("trash-2",mM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Au=Ke("x",pM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],yM=Ke("zoom-in",gM),Fy=j.createContext({});function Hy(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const qy=typeof window<"u",Cw=qy?j.useLayoutEffect:j.useEffect,Ad=j.createContext(null);function Gy(t,e){t.indexOf(e)===-1&&t.push(e)}function $y(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $s=(t,e,n)=>n>e?e:n<t?t:n;let Ky=()=>{};const Ks={},Nw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Iw(t){return typeof t=="object"&&t!==null}const Dw=t=>/^0[^.\s]+$/u.test(t);function Yy(t){let e;return()=>(e===void 0&&(e=t()),e)}const mi=t=>t,vM=(t,e)=>n=>e(t(n)),Ru=(...t)=>t.reduce(vM),lu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Xy{constructor(){this.subscriptions=[]}add(e){return Gy(this.subscriptions,e),()=>$y(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const os=t=>t*1e3,di=t=>t/1e3;function Mw(t,e){return e?t*(1e3/e):0}const Pw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_M=1e-7,bM=12;function xM(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=Pw(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>_M&&++f<bM);return c}function Cu(t,e,n,s){if(t===e&&n===s)return mi;const a=l=>xM(l,0,1,t,n);return l=>l===0||l===1?l:Pw(a(l),e,s)}const kw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ow=t=>e=>1-t(1-e),Vw=Cu(.33,1.53,.69,.99),Qy=Ow(Vw),jw=kw(Qy),Lw=t=>(t*=2)<1?.5*Qy(t):.5*(2-Math.pow(2,-10*(t-1))),Wy=t=>1-Math.sin(Math.acos(t)),Uw=Ow(Wy),Bw=kw(Wy),TM=Cu(.42,0,1,1),EM=Cu(0,0,.58,1),zw=Cu(.42,0,.58,1),wM=t=>Array.isArray(t)&&typeof t[0]!="number",Fw=t=>Array.isArray(t)&&typeof t[0]=="number",SM={linear:mi,easeIn:TM,easeInOut:zw,easeOut:EM,circIn:Wy,circInOut:Bw,circOut:Uw,backIn:Qy,backInOut:jw,backOut:Vw,anticipate:Lw},AM=t=>typeof t=="string",iT=t=>{if(Fw(t)){Ky(t.length===4);const[e,n,s,a]=t;return Cu(e,n,s,a)}else if(AM(t))return SM[t];return t},xf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function RM(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(v){c.has(v)&&(p.schedule(v),t()),v(f)}const p={schedule:(v,b=!1,E=!1)=>{const L=E&&a?n:s;return b&&c.add(v),L.has(v)||L.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const CM=40;function Hw(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=xf.reduce((k,W)=>(k[W]=RM(l),k),{}),{setup:f,read:d,resolveKeyframes:p,preUpdate:v,update:b,preRender:E,render:A,postRender:L}=c,M=()=>{const k=Ks.useManualTiming?a.timestamp:performance.now();n=!1,Ks.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(k-a.timestamp,CM),1)),a.timestamp=k,a.isProcessing=!0,f.process(a),d.process(a),p.process(a),v.process(a),b.process(a),E.process(a),A.process(a),L.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},I=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:xf.reduce((k,W)=>{const ee=c[W];return k[W]=(re,N=!1,C=!1)=>(n||I(),ee.schedule(re,N,C)),k},{}),cancel:k=>{for(let W=0;W<xf.length;W++)c[xf[W]].cancel(k)},state:a,steps:c}}const{schedule:Tt,cancel:Gr,state:dn,steps:ng}=Hw(typeof requestAnimationFrame<"u"?requestAnimationFrame:mi,!0);let jf;function NM(){jf=void 0}const jn={now:()=>(jf===void 0&&jn.set(dn.isProcessing||Ks.useManualTiming?dn.timestamp:performance.now()),jf),set:t=>{jf=t,queueMicrotask(NM)}},qw=t=>e=>typeof e=="string"&&e.startsWith(t),Gw=qw("--"),IM=qw("var(--"),Zy=t=>IM(t)?DM.test(t.split("/*")[0].trim()):!1,DM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cu={...Cl,transform:t=>$s(0,1,t)},Tf={...Cl,default:1},Xc=t=>Math.round(t*1e5)/1e5,Jy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MM(t){return t==null}const PM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ev=(t,e)=>n=>!!(typeof n=="string"&&PM.test(n)&&n.startsWith(t)||e&&!MM(n)&&Object.prototype.hasOwnProperty.call(n,e)),$w=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(Jy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},kM=t=>$s(0,255,t),ig={...Cl,transform:t=>Math.round(kM(t))},ja={test:ev("rgb","red"),parse:$w("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ig.transform(t)+", "+ig.transform(e)+", "+ig.transform(n)+", "+Xc(cu.transform(s))+")"};function OM(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Lg={test:ev("#"),parse:OM,transform:ja.transform},Nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Mr=Nu("deg"),ls=Nu("%"),Re=Nu("px"),VM=Nu("vh"),jM=Nu("vw"),sT={...ls,parse:t=>ls.parse(t)/100,transform:t=>ls.transform(t*100)},il={test:ev("hsl","hue"),parse:$w("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ls.transform(Xc(e))+", "+ls.transform(Xc(n))+", "+Xc(cu.transform(s))+")"},Gt={test:t=>ja.test(t)||Lg.test(t)||il.test(t),parse:t=>ja.test(t)?ja.parse(t):il.test(t)?il.parse(t):Lg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ja.transform(t):il.transform(t),getAnimatableNone:t=>{const e=Gt.parse(t);return e.alpha=0,Gt.transform(e)}},LM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Jy))==null?void 0:e.length)||0)+(((n=t.match(LM))==null?void 0:n.length)||0)>0}const Kw="number",Yw="color",BM="var",zM="var(",rT="${}",FM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(FM,d=>(Gt.test(d)?(s.color.push(l),a.push(Yw),n.push(Gt.parse(d))):d.startsWith(zM)?(s.var.push(l),a.push(BM),n.push(d)):(s.number.push(l),a.push(Kw),n.push(parseFloat(d))),++l,rT)).split(rT);return{values:n,split:f,indexes:s,types:a}}function Xw(t){return uu(t).values}function Qw(t){const{split:e,types:n}=uu(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===Kw?l+=Xc(a[c]):f===Yw?l+=Gt.transform(a[c]):l+=a[c]}return l}}const HM=t=>typeof t=="number"?0:Gt.test(t)?Gt.getAnimatableNone(t):t;function qM(t){const e=Xw(t);return Qw(t)(e.map(HM))}const $r={test:UM,parse:Xw,createTransformer:Qw,getAnimatableNone:qM};function sg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GM({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;a=sg(d,f,t+1/3),l=sg(d,f,t),c=sg(d,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Zf(t,e){return n=>n>0?e:t}const Et=(t,e,n)=>t+(e-t)*n,rg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},$M=[Lg,ja,il],KM=t=>$M.find(e=>e.test(t));function aT(t){const e=KM(t);if(!e)return!1;let n=e.parse(t);return e===il&&(n=GM(n)),n}const oT=(t,e)=>{const n=aT(t),s=aT(e);if(!n||!s)return Zf(t,e);const a={...n};return l=>(a.red=rg(n.red,s.red,l),a.green=rg(n.green,s.green,l),a.blue=rg(n.blue,s.blue,l),a.alpha=Et(n.alpha,s.alpha,l),ja.transform(a))},Ug=new Set(["none","hidden"]);function YM(t,e){return Ug.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XM(t,e){return n=>Et(t,e,n)}function tv(t){return typeof t=="number"?XM:typeof t=="string"?Zy(t)?Zf:Gt.test(t)?oT:ZM:Array.isArray(t)?Ww:typeof t=="object"?Gt.test(t)?oT:QM:Zf}function Ww(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>tv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function QM(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=tv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function WM(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const ZM=(t,e)=>{const n=$r.createTransformer(e),s=uu(t),a=uu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Ug.has(t)&&!a.values.length||Ug.has(e)&&!s.values.length?YM(t,e):Ru(Ww(WM(s,a),a.values),n):Zf(t,e)};function Zw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Et(t,e,n):tv(t)(t,e)}const JM=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Tt.update(e,n),stop:()=>Gr(e),now:()=>dn.isProcessing?dn.timestamp:jn.now()}},Jw=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Jf=2e4;function nv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Jf;)e+=n,s=t.next(e);return e>=Jf?1/0:e}function eP(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(nv(s),Jf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:di(a)}}const tP=5;function eS(t,e,n){const s=Math.max(e-tP,0);return Mw(n-t(s),e-s)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ag=.001;function nP({duration:t=Nt.duration,bounce:e=Nt.bounce,velocity:n=Nt.velocity,mass:s=Nt.mass}){let a,l,c=1-e;c=$s(Nt.minDamping,Nt.maxDamping,c),t=$s(Nt.minDuration,Nt.maxDuration,di(t)),c<1?(a=p=>{const v=p*c,b=v*t,E=v-n,A=Bg(p,c),L=Math.exp(-b);return ag-E/A*L},l=p=>{const b=p*c*t,E=b*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,L=Math.exp(-b),M=Bg(Math.pow(p,2),c);return(-a(p)+ag>0?-1:1)*((E-A)*L)/M}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-ag+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const f=5/t,d=sP(a,l,f);if(t=os(t),isNaN(d))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:t};{const p=Math.pow(d,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const iP=12;function sP(t,e,n){let s=n;for(let a=1;a<iP;a++)s=s-t(s)/e(s);return s}function Bg(t,e){return t*Math.sqrt(1-e*e)}const rP=["duration","bounce"],aP=["stiffness","damping","mass"];function lT(t,e){return e.some(n=>t[n]!==void 0)}function oP(t){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...t};if(!lT(t,aP)&&lT(t,rP))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*$s(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Nt.mass,stiffness:a,damping:l}}else{const n=nP(t);e={...e,...n,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function ed(t=Nt.visualDuration,e=Nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:p,mass:v,duration:b,velocity:E,isResolvedFromDuration:A}=oP({...n,velocity:-di(n.velocity||0)}),L=E||0,M=p/(2*Math.sqrt(d*v)),I=c-l,O=di(Math.sqrt(d/v)),V=Math.abs(I)<5;s||(s=V?Nt.restSpeed.granular:Nt.restSpeed.default),a||(a=V?Nt.restDelta.granular:Nt.restDelta.default);let k;if(M<1){const ee=Bg(O,M);k=re=>{const N=Math.exp(-M*O*re);return c-N*((L+M*O*I)/ee*Math.sin(ee*re)+I*Math.cos(ee*re))}}else if(M===1)k=ee=>c-Math.exp(-O*ee)*(I+(L+O*I)*ee);else{const ee=O*Math.sqrt(M*M-1);k=re=>{const N=Math.exp(-M*O*re),C=Math.min(ee*re,300);return c-N*((L+M*O*I)*Math.sinh(C)+ee*I*Math.cosh(C))/ee}}const W={calculatedDuration:A&&b||null,next:ee=>{const re=k(ee);if(A)f.done=ee>=b;else{let N=ee===0?L:0;M<1&&(N=ee===0?os(L):eS(k,ee,re));const C=Math.abs(N)<=s,D=Math.abs(c-re)<=a;f.done=C&&D}return f.value=f.done?c:re,f},toString:()=>{const ee=Math.min(nv(W),Jf),re=Jw(N=>W.next(ee*N).value,ee,30);return ee+"ms "+re},toTransition:()=>{}};return W}ed.applyToOptions=t=>{const e=eP(t,100,ed);return t.ease=e.ease,t.duration=os(e.duration),t.type="keyframes",t};function zg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:d,restDelta:p=.5,restSpeed:v}){const b=t[0],E={done:!1,value:b},A=C=>f!==void 0&&C<f||d!==void 0&&C>d,L=C=>f===void 0?d:d===void 0||Math.abs(f-C)<Math.abs(d-C)?f:d;let M=n*e;const I=b+M,O=c===void 0?I:c(I);O!==I&&(M=O-b);const V=C=>-M*Math.exp(-C/s),k=C=>O+V(C),W=C=>{const D=V(C),z=k(C);E.done=Math.abs(D)<=p,E.value=E.done?O:z};let ee,re;const N=C=>{A(E.value)&&(ee=C,re=ed({keyframes:[E.value,L(E.value)],velocity:eS(k,C,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return N(0),{calculatedDuration:null,next:C=>{let D=!1;return!re&&ee===void 0&&(D=!0,W(C),N(C)),ee!==void 0&&C>=ee?re.next(C-ee):(!D&&W(C),E)}}}function lP(t,e,n){const s=[],a=n||Ks.mix||Zw,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||mi:e;f=Ru(d,f)}s.push(f)}return s}function cP(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Ky(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=lP(e,s,a),d=f.length,p=v=>{if(c&&v<t[0])return e[0];let b=0;if(d>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const E=lu(t[b],t[b+1],v);return f[b](E)};return n?v=>p($s(t[0],t[l-1],v)):p}function uP(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=lu(0,e,s);t.push(Et(n,1,a))}}function hP(t){const e=[0];return uP(e,t.length-1),e}function fP(t,e){return t.map(n=>n*e)}function dP(t,e){return t.map(()=>e||zw).splice(0,t.length-1)}function Qc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=wM(s)?s.map(iT):iT(s),l={done:!1,value:e[0]},c=fP(n&&n.length===e.length?n:hP(e),t),f=cP(c,e,{ease:Array.isArray(a)?a:dP(e,a)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const mP=t=>t!==null;function iv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(mP),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const pP={decay:zg,inertia:zg,tween:Qc,keyframes:Qc,spring:ed};function tS(t){typeof t.type=="string"&&(t.type=pP[t.type])}class sv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const gP=t=>t/100;class rv extends sv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==jn.now()&&this.tick(jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;tS(e);const{type:n=Qc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const d=n||Qc;d!==Qc&&typeof f[0]!="number"&&(this.mixKeyframes=Ru(gP,Zw(f[0],f[1])),f=[0,100]);const p=d({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=nv(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:E,repeatDelay:A,type:L,onUpdate:M,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,W=s;if(b){const C=Math.min(this.currentTime,a)/f;let D=Math.floor(C),z=C%1;!z&&C>=1&&(z=1),z===1&&D--,D=Math.min(D,b+1),!!(D%2)&&(E==="reverse"?(z=1-z,A&&(z-=A/f)):E==="mirror"&&(W=c)),k=$s(0,1,z)*f}const ee=V?{done:!1,value:v[0]}:W.next(k);l&&(ee.value=l(ee.value));let{done:re}=ee;!V&&d!==null&&(re=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return N&&L!==zg&&(ee.value=iv(v,this.options,I,this.speed)),M&&M(ee.value),N&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return di(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+di(e)}get time(){return di(this.currentTime)}set time(e){var n;e=os(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(jn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=di(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=JM,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function yP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const La=t=>t*180/Math.PI,Fg=t=>{const e=La(Math.atan2(t[1],t[0]));return Hg(e)},vP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Fg,rotateZ:Fg,skewX:t=>La(Math.atan(t[1])),skewY:t=>La(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Hg=t=>(t=t%360,t<0&&(t+=360),t),cT=Fg,uT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_P={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uT,scaleY:hT,scale:t=>(uT(t)+hT(t))/2,rotateX:t=>Hg(La(Math.atan2(t[6],t[5]))),rotateY:t=>Hg(La(Math.atan2(-t[2],t[0]))),rotateZ:cT,rotate:cT,skewX:t=>La(Math.atan(t[4])),skewY:t=>La(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qg(t){return t.includes("scale")?1:0}function Gg(t,e){if(!t||t==="none")return qg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=_P,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=vP,a=f}if(!a)return qg(e);const l=s[e],c=a[1].split(",").map(xP);return typeof l=="function"?l(c):c[l]}const bP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Gg(n,e)};function xP(t){return parseFloat(t.trim())}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(Nl),fT=t=>t===Cl||t===Re,TP=new Set(["x","y","z"]),EP=Nl.filter(t=>!TP.has(t));function wP(t){const e=[];return EP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ba={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Gg(e,"x"),y:(t,{transform:e})=>Gg(e,"y")};Ba.translateX=Ba.x;Ba.translateY=Ba.y;const za=new Set;let $g=!1,Kg=!1,Yg=!1;function nS(){if(Kg){const t=Array.from(za).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=wP(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var f;(f=s.getValue(l))==null||f.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Kg=!1,$g=!1,za.forEach(t=>t.complete(Yg)),za.clear()}function iS(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Kg=!0)})}function SP(){Yg=!0,iS(),nS(),Yg=!1}class av{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),$g||($g=!0,Tt.read(iS),Tt.resolveKeyframes(nS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}yP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AP=t=>t.startsWith("--");function RP(t,e,n){AP(e)?t.style.setProperty(e,n):t.style[e]=n}const CP=Yy(()=>window.ScrollTimeline!==void 0),NP={};function IP(t,e){const n=Yy(t);return()=>NP[e]??n()}const sS=IP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,dT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hc([0,.65,.55,1]),circOut:Hc([.55,0,1,.45]),backIn:Hc([.31,.01,.66,-.59]),backOut:Hc([.33,1.53,.69,.99])};function rS(t,e){if(t)return typeof t=="function"?sS()?Jw(t,e):"ease-out":Fw(t)?Hc(t):Array.isArray(t)?t.map(n=>rS(n,e)||dT.easeOut):dT[t]}function DP(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:d}={},p=void 0){const v={[e]:n};d&&(v.offset=d);const b=rS(f,a);Array.isArray(b)&&(v.easing=b);const E={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(v,E)}function aS(t){return typeof t=="function"&&"applyToOptions"in t}function MP({type:t,...e}){return aS(t)&&sS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PP extends sv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Ky(typeof e.type!="string");const p=MP(e);this.animation=DP(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=iv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):RP(n,s,v),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return di(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+di(e)}get time(){return di(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=os(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&CP()?(this.animation.timeline=e,mi):n(this)}}const oS={anticipate:Lw,backInOut:jw,circInOut:Bw};function kP(t){return t in oS}function OP(t){typeof t.ease=="string"&&kP(t.ease)&&(t.ease=oS[t.ease])}const mT=10;class VP extends PP{constructor(e){OP(e),tS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new rv({...c,autoplay:!1}),d=os(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-mT).value,f.sample(d).value,mT),f.stop()}}const pT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($r.test(t)||t==="0")&&!t.startsWith("url("));function jP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function LP(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=pT(a,e),f=pT(l,e);return!c||!f?!1:jP(t)||(n==="spring"||aS(n))&&s}function Xg(t){t.duration=0,t.type="keyframes"}const UP=new Set(["opacity","clipPath","filter","transform"]),BP=Yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zP(t){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return BP()&&n&&UP.has(n)&&(n!=="transform"||!p)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const FP=40;class HP extends sv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:d,motionValue:p,element:v,...b}){var L;super(),this.stop=()=>{var M,I;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=jn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:p,element:v,...b},A=(v==null?void 0:v.KeyframeResolver)||av;this.keyframeResolver=new A(f,(M,I,O)=>this.onKeyframesResolved(M,I,E,!O),d,p,v),(L=this.keyframeResolver)==null||L.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:d,isHandoff:p,onUpdate:v}=s;this.resolvedAt=jn.now(),LP(e,l,c,f)||((Ks.instantAnimations||!d)&&(v==null||v(iv(e,s,n))),e[0]=e[e.length-1],Xg(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>FP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!p&&zP(E)?new VP({...E,element:E.motionValue.owner.current}):new rv(E);A.finished.then(()=>this.notifyFinished()).catch(mi),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),SP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const qP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GP(t){const e=qP.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function lS(t,e,n=1){const[s,a]=GP(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return Nw(c)?parseFloat(c):c}return Zy(a)?lS(a,e,n+1):a}function ov(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const cS=new Set(["width","height","top","left","right","bottom",...Nl]),$P={test:t=>t==="auto",parse:t=>t},uS=t=>e=>e.test(t),hS=[Cl,Re,ls,Mr,jM,VM,$P],gT=t=>hS.find(uS(t));function KP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Dw(t):!0}const YP=new Set(["brightness","contrast","saturate","opacity"]);function XP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Jy)||[];if(!s)return t;const a=n.replace(s,"");let l=YP.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const QP=/\b([a-z-]*)\(.*?\)/gu,Qg={...$r,getAnimatableNone:t=>{const e=t.match(QP);return e?e.map(XP).join(" "):t}},yT={...Cl,transform:Math.round},WP={rotate:Mr,rotateX:Mr,rotateY:Mr,rotateZ:Mr,scale:Tf,scaleX:Tf,scaleY:Tf,scaleZ:Tf,skew:Mr,skewX:Mr,skewY:Mr,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:cu,originX:sT,originY:sT,originZ:Re},lv={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...WP,zIndex:yT,fillOpacity:cu,strokeOpacity:cu,numOctaves:yT},ZP={...lv,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:Qg,WebkitFilter:Qg},fS=t=>ZP[t];function dS(t,e){let n=fS(t);return n!==Qg&&(n=$r),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const JP=new Set(["auto","none","0"]);function ek(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!JP.has(l)&&uu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=dS(n,a)}class tk extends av{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Zy(p))){const v=lS(p,n.current);v!==void 0&&(e[d]=v),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!cS.has(s)||e.length!==2)return;const[a,l]=e,c=gT(a),f=gT(l);if(c!==f)if(fT(c)&&fT(f))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Ba[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||KP(e[a]))&&s.push(a);s.length&&ek(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ba[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ba[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function nk(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const mS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function pS(t){return Iw(t)&&"offsetHeight"in t}const vT=30,ik=t=>!isNaN(parseFloat(t));class sk{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=jn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ik(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Xy);const s=this.events[e].add(n);return e==="change"?()=>{s(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vT);return Mw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(t,e){return new sk(t,e)}const{schedule:cv}=Hw(queueMicrotask,!1),Ri={x:!1,y:!1};function gS(){return Ri.x||Ri.y}function rk(t){return t==="x"||t==="y"?Ri[t]?null:(Ri[t]=!0,()=>{Ri[t]=!1}):Ri.x||Ri.y?null:(Ri.x=Ri.y=!0,()=>{Ri.x=Ri.y=!1})}function yS(t,e){const n=nk(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function _T(t){return!(t.pointerType==="touch"||gS())}function ak(t,e,n={}){const[s,a,l]=yS(t,n),c=f=>{if(!_T(f))return;const{target:d}=f,p=e(d,f);if(typeof p!="function"||!d)return;const v=b=>{_T(b)&&(p(b),d.removeEventListener("pointerleave",v))};d.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const vS=(t,e)=>e?t===e?!0:vS(t,e.parentElement):!1,uv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ok=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lk(t){return ok.has(t.tagName)||t.tabIndex!==-1}const Lf=new WeakSet;function bT(t){return e=>{e.key==="Enter"&&t(e)}}function og(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ck=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=bT(()=>{if(Lf.has(n))return;og(n,"down");const a=bT(()=>{og(n,"up")}),l=()=>og(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function xT(t){return uv(t)&&!gS()}function uk(t,e,n={}){const[s,a,l]=yS(t,n),c=f=>{const d=f.currentTarget;if(!xT(f))return;Lf.add(d);const p=e(d,f),v=(A,L)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",E),Lf.has(d)&&Lf.delete(d),xT(A)&&typeof p=="function"&&p(A,{success:L})},b=A=>{v(A,d===window||d===document||n.useGlobalTarget||vS(d,A.target))},E=A=>{v(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",E,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),pS(f)&&(f.addEventListener("focus",p=>ck(p,a)),!lk(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function _S(t){return Iw(t)&&"ownerSVGElement"in t}function hk(t){return _S(t)&&t.tagName==="svg"}const xn=t=>!!(t&&t.getVelocity),fk=[...hS,Gt,$r],dk=t=>fk.find(uS(t)),hv=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function TT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mk(...t){return e=>{let n=!1;const s=t.map(a=>{const l=TT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():TT(t[a],null)}}}}function pk(...t){return j.useCallback(mk(...t),t)}class gk extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=pS(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yk({children:t,isPresent:e,anchorX:n,root:s}){const a=j.useId(),l=j.useRef(null),c=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=j.useContext(hv),d=pk(l,t==null?void 0:t.ref);return j.useInsertionEffect(()=>{const{width:p,height:v,top:b,left:E,right:A}=c.current;if(e||!l.current||!p||!v)return;const L=n==="left"?`left: ${E}`:`right: ${A}`;l.current.dataset.motionPopId=a;const M=document.createElement("style");f&&(M.nonce=f);const I=s??document.head;return I.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            ${L}px !important;
            top: ${b}px !important;
          }
        `),()=>{I.contains(M)&&I.removeChild(M)}},[e]),y.jsx(gk,{isPresent:e,childRef:l,sizeRef:c,children:j.cloneElement(t,{ref:d})})}const vk=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:d})=>{const p=Hy(_k),v=j.useId();let b=!0,E=j.useMemo(()=>(b=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:A=>{p.set(A,!0);for(const L of p.values())if(!L)return;s&&s()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,s]);return l&&b&&(E={...E}),j.useMemo(()=>{p.forEach((A,L)=>p.set(L,!1))},[n]),j.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=y.jsx(yk,{isPresent:n,anchorX:f,root:d,children:t})),y.jsx(Ad.Provider,{value:E,children:t})};function _k(){return new Map}function bS(t=!0){const e=j.useContext(Ad);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=j.useId();j.useEffect(()=>{if(t)return a(l)},[t]);const c=j.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Ef=t=>t.key||"";function ET(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const Fa=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:d})=>{const[p,v]=bS(c),b=j.useMemo(()=>ET(t),[t]),E=c&&!p?[]:b.map(Ef),A=j.useRef(!0),L=j.useRef(b),M=Hy(()=>new Map),[I,O]=j.useState(b),[V,k]=j.useState(b);Cw(()=>{A.current=!1,L.current=b;for(let re=0;re<V.length;re++){const N=Ef(V[re]);E.includes(N)?M.delete(N):M.get(N)!==!0&&M.set(N,!1)}},[V,E.length,E.join("-")]);const W=[];if(b!==I){let re=[...b];for(let N=0;N<V.length;N++){const C=V[N],D=Ef(C);E.includes(D)||(re.splice(N,0,C),W.push(C))}return l==="wait"&&W.length&&(re=W),k(ET(re)),O(b),null}const{forceRender:ee}=j.useContext(Fy);return y.jsx(y.Fragment,{children:V.map(re=>{const N=Ef(re),C=c&&!p?!1:b===V||E.includes(N),D=()=>{if(M.has(N))M.set(N,!0);else return;let z=!0;M.forEach(P=>{P||(z=!1)}),z&&(ee==null||ee(),k(L.current),c&&(v==null||v()),s&&s())};return y.jsx(vk,{isPresent:C,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:C?void 0:D,anchorX:f,children:re},N)})})},xS=j.createContext({strict:!1}),wT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vl={};for(const t in wT)vl[t]={isEnabled:e=>wT[t].some(n=>!!e[n])};function bk(t){for(const e in t)vl[e]={...vl[e],...t[e]}}const xk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xk.has(t)}let TS=t=>!td(t);function Tk(t){typeof t=="function"&&(TS=e=>e.startsWith("on")?!td(e):t(e))}try{Tk(require("@emotion/is-prop-valid").default)}catch{}function Ek(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(TS(a)||n===!0&&td(a)||!e&&!td(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Rd=j.createContext({});function Cd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hu(t){return typeof t=="string"||Array.isArray(t)}const fv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dv=["initial",...fv];function Nd(t){return Cd(t.animate)||dv.some(e=>hu(t[e]))}function ES(t){return!!(Nd(t)||t.variants)}function wk(t,e){if(Nd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||hu(n)?n:void 0,animate:hu(s)?s:void 0}}return t.inherit!==!1?e:{}}function Sk(t){const{initial:e,animate:n}=wk(t,j.useContext(Rd));return j.useMemo(()=>({initial:e,animate:n}),[ST(e),ST(n)])}function ST(t){return Array.isArray(t)?t.join(" "):t}function AT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=AT(t,e.target.x),s=AT(t,e.target.y);return`${n}% ${s}%`}},Ak={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=$r.parse(t);if(a.length>5)return s;const l=$r.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=d;const p=Et(f,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Wg={borderRadius:{...zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zc,borderTopRightRadius:zc,borderBottomLeftRadius:zc,borderBottomRightRadius:zc,boxShadow:Ak};function wS(t,{layout:e,layoutId:n}){return Il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wg[t]||t==="opacity")}const Rk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ck=Nl.length;function Nk(t,e,n){let s="",a=!0;for(let l=0;l<Ck;l++){const c=Nl[l],f=t[c];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(c.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const p=mS(f,lv[c]);if(!d){a=!1;const v=Rk[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function mv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const d in e){const p=e[d];if(Il.has(d)){c=!0;continue}else if(Gw(d)){a[d]=p;continue}else{const v=mS(p,lv[d]);d.startsWith("origin")?(f=!0,l[d]=v):s[d]=v}}if(e.transform||(c||n?s.transform=Nk(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:d="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${d} ${p} ${v}`}}const pv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SS(t,e,n){for(const s in e)!xn(e[s])&&!wS(s,n)&&(t[s]=e[s])}function Ik({transformTemplate:t},e){return j.useMemo(()=>{const n=pv();return mv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Dk(t,e){const n=t.style||{},s={};return SS(s,n,t),Object.assign(s,Ik(t,e)),s}function Mk(t,e){const n={},s=Dk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Pk={offset:"stroke-dashoffset",array:"stroke-dasharray"},kk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ok(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?Pk:kk;t[l.offset]=Re.transform(-s);const c=Re.transform(e),f=Re.transform(n);t[l.array]=`${c} ${f}`}function AS(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},d,p,v){if(mv(t,f,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:E}=t;b.transform&&(E.transform=b.transform,delete b.transform),(E.transform||b.transformOrigin)&&(E.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),E.transform&&(E.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&Ok(b,a,l,c,!1)}const RS=()=>({...pv(),attrs:{}}),CS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Vk(t,e,n,s){const a=j.useMemo(()=>{const l=RS();return AS(l,e,CS(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};SS(l,t.style,t),a.style={...l,...a.style}}return a}const jk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gv(t){return typeof t!="string"||t.includes("-")?!1:!!(jk.indexOf(t)>-1||/[A-Z]/u.test(t))}function Lk(t,e,n,{latestValues:s},a,l=!1){const f=(gv(t)?Vk:Mk)(e,s,a,t),d=Ek(e,typeof t=="string",l),p=t!==j.Fragment?{...d,...f,ref:n}:{},{children:v}=e,b=j.useMemo(()=>xn(v)?v.get():v,[v]);return j.createElement(t,{...p,children:b})}function RT(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function yv(t,e,n,s){if(typeof e=="function"){const[a,l]=RT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=RT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Uf(t){return xn(t)?t.get():t}function Uk({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:Bk(n,s,a,t),renderState:e()}}function Bk(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=Uf(l[E]);let{initial:c,animate:f}=t;const d=Nd(t),p=ES(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?f:c;if(b&&typeof b!="boolean"&&!Cd(b)){const E=Array.isArray(b)?b:[b];for(let A=0;A<E.length;A++){const L=yv(t,E[A]);if(L){const{transitionEnd:M,transition:I,...O}=L;for(const V in O){let k=O[V];if(Array.isArray(k)){const W=v?k.length-1:0;k=k[W]}k!==null&&(a[V]=k)}for(const V in M)a[V]=M[V]}}}return a}const NS=t=>(e,n)=>{const s=j.useContext(Rd),a=j.useContext(Ad),l=()=>Uk(t,e,s,a);return n?l():Hy(l)};function vv(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(xn(s[c])||e.style&&xn(e.style[c])||wS(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const zk=NS({scrapeMotionValuesFromProps:vv,createRenderState:pv});function IS(t,e,n){const s=vv(t,e,n);for(const a in t)if(xn(t[a])||xn(e[a])){const l=Nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const Fk=NS({scrapeMotionValuesFromProps:IS,createRenderState:RS}),Hk=Symbol.for("motionComponentSymbol");function sl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qk(t,e,n){return j.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):sl(n)&&(n.current=s))},[e])}const _v=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gk="framerAppearId",DS="data-"+_v(Gk),MS=j.createContext({});function $k(t,e,n,s,a){var M,I;const{visualElement:l}=j.useContext(Rd),c=j.useContext(xS),f=j.useContext(Ad),d=j.useContext(hv).reducedMotion,p=j.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const v=p.current,b=j.useContext(MS);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&Kk(p.current,n,a,b);const E=j.useRef(!1);j.useInsertionEffect(()=>{v&&E.current&&v.update(n,f)});const A=n[DS],L=j.useRef(!!A&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,A))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,A)));return Cw(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),L.current&&v.animationState&&v.animationState.animateChanges())}),j.useEffect(()=>{v&&(!L.current&&v.animationState&&v.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)==null||O.call(window,A)}),L.current=!1),v.enteringChildren=void 0)}),v}function Kk(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:PS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&sl(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:d,layoutRoot:p})}function PS(t){if(t)return t.options.allowProjection!==!1?t.projection:PS(t.parent)}function lg(t,{forwardMotionProps:e=!1}={},n,s){n&&bk(n);const a=gv(t)?Fk:zk;function l(f,d){let p;const v={...j.useContext(hv),...f,layoutId:Yk(f)},{isStatic:b}=v,E=Sk(f),A=a(f,b);if(!b&&qy){Xk();const L=Qk(v);p=L.MeasureLayout,E.visualElement=$k(t,A,v,s,L.ProjectionNode)}return y.jsxs(Rd.Provider,{value:E,children:[p&&E.visualElement?y.jsx(p,{visualElement:E.visualElement,...v}):null,Lk(t,f,qk(A,E.visualElement,d),A,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=j.forwardRef(l);return c[Hk]=t,c}function Yk({layoutId:t}){const e=j.useContext(Fy).id;return e&&t!==void 0?e+"-"+t:t}function Xk(t,e){j.useContext(xS).strict}function Qk(t){const{drag:e,layout:n}=vl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Wk(t,e){if(typeof Proxy>"u")return lg;const n=new Map,s=(l,c)=>lg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,lg(c,void 0,t,e)),n.get(c))})}function kS({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Zk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Jk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function cg(t){return t===void 0||t===1}function Zg({scale:t,scaleX:e,scaleY:n}){return!cg(t)||!cg(e)||!cg(n)}function Oa(t){return Zg(t)||OS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function OS(t){return CT(t.x)||CT(t.y)}function CT(t){return t&&t!=="0%"}function nd(t,e,n){const s=t-n,a=e*s;return n+a}function NT(t,e,n,s,a){return a!==void 0&&(t=nd(t,a,s)),nd(t,n,s)+e}function Jg(t,e=0,n=1,s,a){t.min=NT(t.min,e,n,s,a),t.max=NT(t.max,e,n,s,a)}function VS(t,{x:e,y:n}){Jg(t.x,e.translate,e.scale,e.originPoint),Jg(t.y,n.translate,n.scale,n.originPoint)}const IT=.999999999999,DT=1.0000000000001;function eO(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&al(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,VS(t,c)),s&&Oa(l.latestValues)&&al(t,l.latestValues))}e.x<DT&&e.x>IT&&(e.x=1),e.y<DT&&e.y>IT&&(e.y=1)}function rl(t,e){t.min=t.min+e,t.max=t.max+e}function MT(t,e,n,s,a=.5){const l=Et(t.min,t.max,a);Jg(t,e,n,l,s)}function al(t,e){MT(t.x,e.x,e.scaleX,e.scale,e.originX),MT(t.y,e.y,e.scaleY,e.scale,e.originY)}function jS(t,e){return kS(Jk(t.getBoundingClientRect(),e))}function tO(t,e,n){const s=jS(t,n),{scroll:a}=e;return a&&(rl(s.x,a.offset.x),rl(s.y,a.offset.y)),s}const PT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:PT(),y:PT()}),kT=()=>({min:0,max:0}),Xt=()=>({x:kT(),y:kT()}),ey={current:null},LS={current:!1};function nO(){if(LS.current=!0,!!qy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ey.current=t.matches;t.addEventListener("change",e),e()}else ey.current=!1}const iO=new WeakMap;function sO(t,e,n){for(const s in e){const a=e[s],l=n[s];if(xn(a))t.addValue(s,a);else if(xn(l))t.addValue(s,yl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,yl(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const OT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rO{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=av,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=jn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Tt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Nd(n),this.isVariantNode=ES(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in b){const A=b[E];d[E]!==void 0&&xn(A)&&A.set(d[E])}}mount(e){var n;this.current=e,iO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),LS.current||nO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ey.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Gr(this.notifyUpdate),Gr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Il.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vl){const n=vl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<OT.length;s++){const a=OT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=sO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=yl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Nw(s)||Dw(s))?s=parseFloat(s):!dk(s)&&$r.test(n)&&(s=dS(e,n)),this.setBaseTarget(e,xn(s)?s.get():s)),xn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=yv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Xy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){cv.render(this.render)}}class US extends rO{constructor(){super(...arguments),this.KeyframeResolver=tk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BS(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function aO(t){return window.getComputedStyle(t)}class oO extends US{constructor(){super(...arguments),this.type="html",this.renderInstance=BS}readValueFromInstance(e,n){var s;if(Il.has(n))return(s=this.projection)!=null&&s.isProjecting?qg(n):bP(e,n);{const a=aO(e),l=(Gw(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jS(e,n)}build(e,n,s){mv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return vv(e,n,s)}}const zS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lO(t,e,n,s){BS(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(zS.has(a)?a:_v(a),e.attrs[a])}class cO extends US{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Il.has(n)){const s=fS(n);return s&&s.default||0}return n=zS.has(n)?n:_v(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return IS(e,n,s)}build(e,n,s){AS(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){lO(e,n,s,a)}mount(e){this.isSVGTag=CS(e.tagName),super.mount(e)}}const uO=(t,e)=>gv(t)?new cO(e):new oO(e,{allowProjection:t!==j.Fragment});function cl(t,e,n){const s=t.getProps();return yv(s,e,n!==void 0?n:s.custom,t)}const ty=t=>Array.isArray(t);function hO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yl(n))}function fO(t){return ty(t)?t[t.length-1]||0:t}function dO(t,e){const n=cl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=fO(l[c]);hO(t,c,f)}}function mO(t){return!!(xn(t)&&t.add)}function ny(t,e){const n=t.getValue("willChange");if(mO(n))return n.add(e);if(!n&&Ks.WillChange){const s=new Ks.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function FS(t){return t.props[DS]}const pO=t=>t!==null;function gO(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(pO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const yO={type:"spring",stiffness:500,damping:25,restSpeed:10},vO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_O={type:"keyframes",duration:.8},bO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xO=(t,{keyframes:e})=>e.length>2?_O:Il.has(t)?t.startsWith("scale")?vO(e[1]):yO:bO;function TO({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:d,elapsed:p,...v}){return!!Object.keys(v).length}const bv=(t,e,n,s={},a,l)=>c=>{const f=ov(s,t)||{},d=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-os(d);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};TO(f)||Object.assign(v,xO(t,v)),v.duration&&(v.duration=os(v.duration)),v.repeatDelay&&(v.repeatDelay=os(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Xg(v),v.delay===0&&(b=!0)),(Ks.instantAnimations||Ks.skipAnimations)&&(b=!0,Xg(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const E=gO(v.keyframes,f);if(E!==void 0){Tt.update(()=>{v.onUpdate(E),v.onComplete()});return}}return f.isSync?new rv(v):new HP(v)};function EO({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function HS(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const b=t.getValue(v,t.latestValues[v]??null),E=f[v];if(E===void 0||p&&EO(p,v))continue;const A={delay:n,...ov(l||{},v)},L=b.get();if(L!==void 0&&!b.isAnimating&&!Array.isArray(E)&&E===L&&!A.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const O=FS(t);if(O){const V=window.MotionHandoffAnimation(O,v,Tt);V!==null&&(A.startTime=V,M=!0)}}ny(t,v),b.start(bv(v,b,E,t.shouldReduceMotion&&cS.has(v)?{type:!1}:A,t,M));const I=b.animation;I&&d.push(I)}return c&&Promise.all(d).then(()=>{Tt.update(()=>{c&&dO(t,c)})}),d}function qS(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function iy(t,e,n={}){var d;const s=cl(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(HS(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:E}=a;return wO(t,e,p,v,b,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,v]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function wO(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),f.push(iy(d,e,{...c,delay:n+(typeof s=="function"?0:s)+qS(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function SO(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>iy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=iy(t,e,n);else{const a=typeof e=="function"?cl(t,e,n.custom):e;s=Promise.all(HS(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function GS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const AO=dv.length;function $S(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$S(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<AO;n++){const s=dv[n],a=t.props[s];(hu(a)||a===!1)&&(e[s]=a)}return e}const RO=[...fv].reverse(),CO=fv.length;function NO(t){return e=>Promise.all(e.map(({animation:n,options:s})=>SO(t,n,s)))}function IO(t){let e=NO(t),n=VT(),s=!0;const a=d=>(p,v)=>{var E;const b=cl(t,v,d==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(b){const{transition:A,transitionEnd:L,...M}=b;p={...p,...M,...L}}return p};function l(d){e=d(t)}function c(d){const{props:p}=t,v=$S(t.parent)||{},b=[],E=new Set;let A={},L=1/0;for(let I=0;I<CO;I++){const O=RO[I],V=n[O],k=p[O]!==void 0?p[O]:v[O],W=hu(k),ee=O===d?V.isActive:null;ee===!1&&(L=I);let re=k===v[O]&&k!==p[O]&&W;if(re&&s&&t.manuallyAnimateOnMount&&(re=!1),V.protectedKeys={...A},!V.isActive&&ee===null||!k&&!V.prevProp||Cd(k)||typeof k=="boolean")continue;const N=DO(V.prevProp,k);let C=N||O===d&&V.isActive&&!re&&W||I>L&&W,D=!1;const z=Array.isArray(k)?k:[k];let P=z.reduce(a(O),{});ee===!1&&(P={});const{prevResolvedValues:H={}}=V,U={...H,...P},Le=ue=>{C=!0,E.has(ue)&&(D=!0,E.delete(ue)),V.needsAnimating[ue]=!0;const pe=t.getValue(ue);pe&&(pe.liveStyle=!1)};for(const ue in U){const pe=P[ue],Ce=H[ue];if(A.hasOwnProperty(ue))continue;let G=!1;ty(pe)&&ty(Ce)?G=!GS(pe,Ce):G=pe!==Ce,G?pe!=null?Le(ue):E.add(ue):pe!==void 0&&E.has(ue)?Le(ue):V.protectedKeys[ue]=!0}V.prevProp=k,V.prevResolvedValues=P,V.isActive&&(A={...A,...P}),s&&t.blockInitialAnimation&&(C=!1);const We=re&&N;C&&(!We||D)&&b.push(...z.map(ue=>{const pe={type:O};if(typeof ue=="string"&&s&&!We&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ce}=t,G=cl(Ce,ue);if(Ce.enteringChildren&&G){const{delayChildren:w}=G.transition||{};pe.delay=qS(Ce.enteringChildren,t,w)}}return{animation:ue,options:pe}}))}if(E.size){const I={};if(typeof p.initial!="boolean"){const O=cl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(I.transition=O.transition)}E.forEach(O=>{const V=t.getBaseTarget(O),k=t.getValue(O);k&&(k.liveStyle=!0),I[O]=V??null}),b.push({animation:I})}let M=!!b.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(b):Promise.resolve()}function f(d,p){var b;if(n[d].isActive===p)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(d,p)}),n[d].isActive=p;const v=c(d);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=VT()}}}function DO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!GS(e,t):!1}function ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VT(){return{animate:ka(!0),whileInView:ka(),whileHover:ka(),whileTap:ka(),whileDrag:ka(),whileFocus:ka(),exit:ka()}}class ta{constructor(e){this.isMounted=!1,this.node=e}update(){}}class MO extends ta{constructor(e){super(e),e.animationState||(e.animationState=IO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PO=0;class kO extends ta{constructor(){super(...arguments),this.id=PO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OO={animation:{Feature:MO},exit:{Feature:kO}};function fu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Iu(t){return{point:{x:t.pageX,y:t.pageY}}}const VO=t=>e=>uv(e)&&t(e,Iu(e));function Wc(t,e,n,s){return fu(t,e,VO(n),s)}const KS=1e-4,jO=1-KS,LO=1+KS,YS=.01,UO=0-YS,BO=0+YS;function Rn(t){return t.max-t.min}function zO(t,e,n){return Math.abs(t-e)<=n}function jT(t,e,n,s=.5){t.origin=s,t.originPoint=Et(e.min,e.max,t.origin),t.scale=Rn(n)/Rn(e),t.translate=Et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jO&&t.scale<=LO||isNaN(t.scale))&&(t.scale=1),(t.translate>=UO&&t.translate<=BO||isNaN(t.translate))&&(t.translate=0)}function Zc(t,e,n,s){jT(t.x,e.x,n.x,s?s.originX:void 0),jT(t.y,e.y,n.y,s?s.originY:void 0)}function LT(t,e,n){t.min=n.min+e.min,t.max=t.min+Rn(e)}function FO(t,e,n){LT(t.x,e.x,n.x),LT(t.y,e.y,n.y)}function UT(t,e,n){t.min=e.min-n.min,t.max=t.min+Rn(e)}function id(t,e,n){UT(t.x,e.x,n.x),UT(t.y,e.y,n.y)}function ci(t){return[t("x"),t("y")]}const XS=({current:t})=>t?t.ownerDocument.defaultView:null,BT=(t,e)=>Math.abs(t-e);function HO(t,e){const n=BT(t.x,e.x),s=BT(t.y,e.y);return Math.sqrt(n**2+s**2)}class QS{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=hg(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,L=HO(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!L)return;const{point:M}=E,{timestamp:I}=dn;this.history.push({...M,timestamp:I});const{onStart:O,onMove:V}=this.handlers;A||(O&&O(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=ug(A,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:L,onSessionEnd:M,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=hg(E.type==="pointercancel"?this.lastMoveEventInfo:ug(A,this.transformPagePoint),this.history);this.startEvent&&L&&L(E,O),M&&M(E,O)},!uv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=Iu(e),d=ug(f,this.transformPagePoint),{point:p}=d,{timestamp:v}=dn;this.history=[{...p,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,hg(d,this.history)),this.removeListeners=Ru(Wc(this.contextWindow,"pointermove",this.handlePointerMove),Wc(this.contextWindow,"pointerup",this.handlePointerUp),Wc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gr(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function zT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hg({point:t},e){return{point:t,delta:zT(t,WS(e)),offset:zT(t,qO(e)),velocity:GO(e,.1)}}function qO(t){return t[0]}function WS(t){return t[t.length-1]}function GO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=WS(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>os(e)));)n--;if(!s)return{x:0,y:0};const l=di(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function $O(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Et(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Et(n,t,s.max):Math.min(t,n)),t}function FT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function KO(t,{top:e,left:n,bottom:s,right:a}){return{x:FT(t.x,n,a),y:FT(t.y,e,s)}}function HT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function YO(t,e){return{x:HT(t.x,e.x),y:HT(t.y,e.y)}}function XO(t,e){let n=.5;const s=Rn(t),a=Rn(e);return a>s?n=lu(e.min,e.max-s,t.min):s>a&&(n=lu(t.min,t.max-a,e.min)),$s(0,1,n)}function QO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sy=.35;function WO(t=sy){return t===!1?t=0:t===!0&&(t=sy),{x:qT(t,"left","right"),y:qT(t,"top","bottom")}}function qT(t,e,n){return{min:GT(t,e),max:GT(t,n)}}function GT(t,e){return typeof t=="number"?t:t[e]||0}const ZO=new WeakMap;class JO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Iu(b).point)},c=(b,E)=>{const{drag:A,dragPropagation:L,onDragStart:M}=this.getProps();if(A&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rk(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(O=>{let V=this.getAxisMotionValue(O).get()||0;if(ls.test(V)){const{projection:k}=this.visualElement;if(k&&k.layout){const W=k.layout.layoutBox[O];W&&(V=Rn(W)*(parseFloat(V)/100))}}this.originPoint[O]=V}),M&&Tt.postRender(()=>M(b,E)),ny(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},f=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:L,onDirectionLock:M,onDrag:I}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:O}=E;if(L&&this.currentDirection===null){this.currentDirection=e4(O),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",E.point,O),this.updateAxis("y",E.point,O),this.visualElement.render(),I&&I(b,E)},d=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E,this.stop(b,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ci(b=>{var E;return this.getAnimationState(b)==="paused"&&((E=this.getAxisMotionValue(b).animation)==null?void 0:E.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new QS(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:XS(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Tt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!wf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=$O(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&sl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=KO(s.layoutBox,e):this.constraints=!1,this.elastic=WO(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ci(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=QO(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=tO(s,a.root,this.visualElement.getTransformPagePoint());let c=YO(a.layout.layoutBox,l);if(n){const f=n(Zk(c));this.hasMutatedConstraints=!!f,f&&(c=kS(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=ci(v=>{if(!wf(v,n,this.currentDirection))return;let b=d&&d[v]||{};c&&(b={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,L={type:"inertia",velocity:s?e[v]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,L)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ny(this.visualElement,e),s.start(bv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ci(n=>{const{drag:s}=this.getProps();if(!wf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-Et(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!sl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ci(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const d=f.get();a[c]=XO({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ci(c=>{if(!wf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];f.set(Et(d,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;ZO.set(this.visualElement,this);const e=this.visualElement.current,n=Wc(e,"pointerdown",d=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();sl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Tt.read(s);const c=fu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ci(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=d[v].translate,b.set(b.get()+d[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=sy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function wf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function e4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class t4 extends ta{constructor(e){super(e),this.removeGroupControls=mi,this.removeListeners=mi,this.controls=new JO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const $T=t=>(e,n)=>{t&&Tt.postRender(()=>t(e,n))};class n4 extends ta{constructor(){super(...arguments),this.removePointerDownListener=mi}onPointerDown(e){this.session=new QS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:$T(e),onStart:$T(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Tt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Wc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let fg=!1;class i4 extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),fg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,fg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Tt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;fg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZS(t){const[e,n]=bS(),s=j.useContext(Fy);return y.jsx(i4,{...t,layoutGroup:s,switchLayoutGroup:j.useContext(MS),isPresent:e,safeToRemove:n})}function s4(t,e,n){const s=xn(t)?t:yl(t);return s.start(bv("",s,e,n)),s.animation}const r4=(t,e)=>t.depth-e.depth;class a4{constructor(){this.children=[],this.isDirty=!1}add(e){Gy(this.children,e),this.isDirty=!0}remove(e){$y(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(r4),this.isDirty=!1,this.children.forEach(e)}}function o4(t,e){const n=jn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Gr(s),t(l-e))};return Tt.setup(s,!0),()=>Gr(s)}const JS=["TopLeft","TopRight","BottomLeft","BottomRight"],l4=JS.length,KT=t=>typeof t=="string"?parseFloat(t):t,YT=t=>typeof t=="number"||Re.test(t);function c4(t,e,n,s,a,l){a?(t.opacity=Et(0,n.opacity??1,u4(s)),t.opacityExit=Et(e.opacity??1,0,h4(s))):l&&(t.opacity=Et(e.opacity??1,n.opacity??1,s));for(let c=0;c<l4;c++){const f=`border${JS[c]}Radius`;let d=XT(e,f),p=XT(n,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||YT(d)===YT(p)?(t[f]=Math.max(Et(KT(d),KT(p),s),0),(ls.test(p)||ls.test(d))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Et(e.rotate||0,n.rotate||0,s))}function XT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const u4=eA(0,.5,Uw),h4=eA(.5,.95,mi);function eA(t,e,n){return s=>s<t?0:s>e?1:n(lu(t,e,s))}function QT(t,e){t.min=e.min,t.max=e.max}function Ai(t,e){QT(t.x,e.x),QT(t.y,e.y)}function WT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ZT(t,e,n,s,a){return t-=e,t=nd(t,1/n,s),a!==void 0&&(t=nd(t,1/a,s)),t}function f4(t,e=0,n=1,s=.5,a,l=t,c=t){if(ls.test(e)&&(e=parseFloat(e),e=Et(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=Et(l.min,l.max,s);t===l&&(f-=e),t.min=ZT(t.min,e,n,f,a),t.max=ZT(t.max,e,n,f,a)}function JT(t,e,[n,s,a],l,c){f4(t,e[n],e[s],e[a],e.scale,l,c)}const d4=["x","scaleX","originX"],m4=["y","scaleY","originY"];function e1(t,e,n,s){JT(t.x,e,d4,n?n.x:void 0,s?s.x:void 0),JT(t.y,e,m4,n?n.y:void 0,s?s.y:void 0)}function t1(t){return t.translate===0&&t.scale===1}function tA(t){return t1(t.x)&&t1(t.y)}function n1(t,e){return t.min===e.min&&t.max===e.max}function p4(t,e){return n1(t.x,e.x)&&n1(t.y,e.y)}function i1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nA(t,e){return i1(t.x,e.x)&&i1(t.y,e.y)}function s1(t){return Rn(t.x)/Rn(t.y)}function r1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class g4{constructor(){this.members=[]}add(e){Gy(this.members,e),e.scheduleRender()}remove(e){if($y(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y4(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:E,skewX:A,skewY:L}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),E&&(s+=`rotateY(${E}deg) `),A&&(s+=`skewX(${A}deg) `),L&&(s+=`skewY(${L}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(s+=`scale(${f}, ${d})`),s||"none"}const dg=["","X","Y","Z"],v4=1e3;let _4=0;function mg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function iA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=FS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Tt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&iA(s)}function sA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=_4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(T4),this.nodes.forEach(A4),this.nodes.forEach(R4),this.nodes.forEach(E4)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new a4)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Xy),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const d=this.eventHandlers.get(c);d&&d.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=_S(c)&&!hk(c),this.instance=c;const{layoutId:f,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let v,b=0;const E=()=>this.root.updateBlockedByResize=!1;Tt.read(()=>{b=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,v&&v(),v=o4(E,250),Bf.hasAnimatedSinceResize&&(Bf.hasAnimatedSinceResize=!1,this.nodes.forEach(l1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||p.getDefaultTransition()||M4,{onLayoutAnimationStart:M,onLayoutAnimationComplete:I}=p.getProps(),O=!this.targetLayout||!nA(this.targetLayout,A),V=!b&&E;if(this.options.layoutRoot||this.resumeFrom||V||b&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...ov(L,"layout"),onPlay:M,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(v,V)}else b||l1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(S4),this.nodes.forEach(b4),this.nodes.forEach(x4)):this.nodes.forEach(o1),this.clearAllSnapshots();const f=jn.now();dn.delta=$s(0,1e3/60,f-dn.timestamp),dn.timestamp=f,dn.isProcessing=!0,ng.update.process(dn),ng.preRender.process(dn),ng.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w4),this.sharedNodes.forEach(N4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!tA(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Oa(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return c&&(d=this.removeTransform(d)),P4(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Xt();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(k4))){const{scroll:v}=this.root;v&&(rl(f.x,v.offset.x),rl(f.y,v.offset.y))}return f}removeElementScroll(c){var d;const f=Xt();if(Ai(f,c),(d=this.scroll)!=null&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:b,options:E}=v;v!==this.root&&b&&E.layoutScroll&&(b.wasRoot&&Ai(f,c),rl(f.x,b.offset.x),rl(f.y,b.offset.y))}return f}applyTransform(c,f=!1){const d=Xt();Ai(d,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&al(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Oa(v.latestValues)&&al(d,v.latestValues)}return Oa(this.latestValues)&&al(d,this.latestValues),d}removeTransform(c){const f=Xt();Ai(f,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Oa(p.latestValues))continue;Zg(p.latestValues)&&p.updateSnapshot();const v=Xt(),b=p.measurePageBox();Ai(v,b),e1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Oa(this.latestValues)&&e1(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var A;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=dn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ai(this.target,this.layout.layoutBox),VS(this.target,this.targetDelta)):Ai(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Zg(this.parent.latestValues)||OS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),id(this.relativeTargetOrigin,f,d),Ai(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var L;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(L=this.parent)!=null&&L.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Ai(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,E=this.treeScale.y;eO(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Xt());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WT(this.prevProjectionDelta.x,this.projectionDelta.x),WT(this.prevProjectionDelta.y,this.projectionDelta.y)),Zc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==E||!r1(this.projectionDelta.x,this.prevProjectionDelta.x)||!r1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(c,f=!1){const d=this.snapshot,p=d?d.latestValues:{},v={...this.latestValues},b=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=Xt(),A=d?d.source:void 0,L=this.layout?this.layout.source:void 0,M=A!==L,I=this.getStack(),O=!I||I.members.length<=1,V=!!(M&&!O&&this.options.crossfade===!0&&!this.path.some(D4));this.animationProgress=0;let k;this.mixTargetDelta=W=>{const ee=W/1e3;c1(b.x,c.x,ee),c1(b.y,c.y,ee),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(id(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),I4(this.relativeTarget,this.relativeTargetOrigin,E,ee),k&&p4(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Xt()),Ai(k,this.relativeTarget)),M&&(this.animationValues=v,c4(v,p,this.latestValues,ee,V,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,d,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{Bf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yl(0)),this.currentAnimation=s4(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:v}=c;if(!(!f||!d||!p)){if(this!==c&&this.layout&&p&&rA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Xt();const b=Rn(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+b;const E=Rn(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+E}Ai(f,d),al(f,v),Zc(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new g4),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const p={};d.z&&mg("z",c,p,this.animationValues);for(let v=0;v<dg.length;v++)mg(`rotate${dg[v]}`,c,p,this.animationValues),mg(`skew${dg[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Uf(f==null?void 0:f.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Uf(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Oa(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=y4(this.projectionDeltaWithTransform,this.treeScale,v);d&&(b=d(v,b)),c.transform=b;const{x:E,y:A}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const L in Wg){if(v[L]===void 0)continue;const{correct:M,applyTo:I,isCSSVariable:O}=Wg[L],V=b==="none"?v[L]:M(v[L],p);if(I){const k=I.length;for(let W=0;W<k;W++)c[I[W]]=V}else O?this.options.visualElement.renderState.vars[L]=V:c[L]=V}this.options.layoutId&&(c.pointerEvents=p===this?Uf(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(a1),this.root.sharedNodes.clear()}}}function b4(t){t.updateLayout()}function x4(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?ci(b=>{const E=c?e.measuredBox[b]:e.layoutBox[b],A=Rn(E);E.min=s[b].min,E.max=E.min+A}):rA(l,e.layoutBox,s)&&ci(b=>{const E=c?e.measuredBox[b]:e.layoutBox[b],A=Rn(s[b]);E.max=E.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+A)});const f=ol();Zc(f,s,e.layoutBox);const d=ol();c?Zc(d,t.applyTransform(a,!0),e.measuredBox):Zc(d,s,e.layoutBox);const p=!tA(f);let v=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:E,layout:A}=b;if(E&&A){const L=Xt();id(L,e.layoutBox,E.layoutBox);const M=Xt();id(M,s,A.layoutBox),nA(L,M)||(v=!0),b.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=L,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:d,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function T4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function E4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function w4(t){t.clearSnapshot()}function a1(t){t.clearMeasurements()}function o1(t){t.isLayoutDirty=!1}function S4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function l1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function A4(t){t.resolveTargetDelta()}function R4(t){t.calcProjection()}function C4(t){t.resetSkewAndRotation()}function N4(t){t.removeLeadSnapshot()}function c1(t,e,n){t.translate=Et(e.translate,0,n),t.scale=Et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function u1(t,e,n,s){t.min=Et(e.min,n.min,s),t.max=Et(e.max,n.max,s)}function I4(t,e,n,s){u1(t.x,e.x,n.x,s),u1(t.y,e.y,n.y,s)}function D4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const M4={duration:.45,ease:[.4,0,.1,1]},h1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),f1=h1("applewebkit/")&&!h1("chrome/")?Math.round:mi;function d1(t){t.min=f1(t.min),t.max=f1(t.max)}function P4(t){d1(t.x),d1(t.y)}function rA(t,e,n){return t==="position"||t==="preserve-aspect"&&!zO(s1(e),s1(n),.2)}function k4(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const O4=sA({attachResizeListener:(t,e)=>fu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pg={current:void 0},aA=sA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pg.current){const t=new O4({});t.mount(window),t.setOptions({layoutScroll:!0}),pg.current=t}return pg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),V4={pan:{Feature:n4},drag:{Feature:t4,ProjectionNode:aA,MeasureLayout:ZS}};function m1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Tt.postRender(()=>l(e,Iu(e)))}class j4 extends ta{mount(){const{current:e}=this.node;e&&(this.unmount=ak(e,(n,s)=>(m1(this.node,s,"Start"),a=>m1(this.node,a,"End"))))}unmount(){}}class L4 extends ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ru(fu(this.node.current,"focus",()=>this.onFocus()),fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function p1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Tt.postRender(()=>l(e,Iu(e)))}class U4 extends ta{mount(){const{current:e}=this.node;e&&(this.unmount=uk(e,(n,s)=>(p1(this.node,s,"Start"),(a,{success:l})=>p1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ry=new WeakMap,gg=new WeakMap,B4=t=>{const e=ry.get(t.target);e&&e(t)},z4=t=>{t.forEach(B4)};function F4({root:t,...e}){const n=t||document;gg.has(n)||gg.set(n,{});const s=gg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(z4,{root:t,...e})),s[a]}function H4(t,e,n){const s=F4(e);return ry.set(t,n),s.observe(t),()=>{ry.delete(t),s.unobserve(t)}}const q4={some:0,all:1};class G4 extends ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:q4[a]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),E=p?v:b;E&&E(d)};return H4(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($4(e,n))&&this.startObserver()}unmount(){}}function $4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const K4={inView:{Feature:G4},tap:{Feature:U4},focus:{Feature:L4},hover:{Feature:j4}},Y4={layout:{ProjectionNode:aA,MeasureLayout:ZS}},X4={...OO,...K4,...V4,...Y4},Ge=Wk(X4,uO),oA="919936169852",lA="TheDecoratingVaranasi",cA="https://thedecoratingvaranasi.com/wp-content/uploads/2025/10/cropped-cropped-WhatsApp-Image-2025-10-14-at-11.40.36-AM-300x108.jpeg",uA=[{id:"birthday",title:"Birthday Celebrations",description:"Magical setups for your special day. From balloon arches to themed parties.",image:"https://images.stockcake.com/public/c/8/1/c81f7134-8fd5-4e26-896f-5a0cd18eff8e_large/joyful-birthday-celebration-stockcake.jpg",priceStart:1999,features:["Balloon Arches","Themed Backdrops","Cake Table Decor"]},{id:"wedding",title:"Wedding Decorations",description:"Elegant floral arrangements and grand stage designs for your big day.",image:"https://images.unsplash.com/photo-1587271636175-90d58cdad458?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8aW5kaWFuJTIwd2VkZGluZyUyMGRlY29yfGVufDB8fDB8fHww",priceStart:15e3,features:["Floral Mandap","Entrance Gate","Stage Lighting"]},{id:"anniversary",title:"Anniversary Parties",description:"Romantic ambiance with candles, flowers, and elegant dining setups.",image:"https://m.media-amazon.com/images/I/71jLV5-8QOL._AC_UF1000,1000_QL80_.jpg",priceStart:2500,features:["Candlelight Dinner","Room Decor","Rose Petal Pathway"]},{id:"baby-shower",title:"Baby Showers",description:"Cute and cozy decorations to welcome the newest family member.",image:"https://t4.ftcdn.net/jpg/08/12/42/39/360_F_812423914_NbtgwoMQXTho1mxTTcjoWdWsmmhWbEv3.jpg",priceStart:3500,features:["Gender Reveal Props","Soft Pastels","Photo Booth"]},{id:"farewell",title:"Farewell Party",description:"Memorable send-offs with classy decor and photo corners.",image:"https://e1.pxfuel.com/desktop-wallpaper/683/418/desktop-wallpaper-fue-farewell-party-farewell.jpg",priceStart:2e3,features:["Signature Wall","Stage Setup","Memory Lane"]},{id:"inauguration",title:"Inauguration Party",description:"Professional and grand setups for shop or office openings.",image:"https://www.flowernpetals.com/wp-content/uploads/2019/07/marigold-Mala-flower-decorations-genda-flower-Mala-Decoration-16.jpg",priceStart:5e3,features:["Ribbon Cutting Area","Flower Garlands","Entrance Carpet"]}],Qo=(t,e,n,s)=>Array.from({length:s}).map((a,l)=>{const c=Math.floor(Math.random()*18501+1500),f=Math.random()>.3?Math.floor(Math.random()*20+5):0,d=f>0?Math.floor(c*(1+f/100)):c,p=`https://loremflickr.com/800/600/${n.replace(" ",",")}?lock=${t}-${l}`;return{id:`${t}-item-${l+1}`,serviceId:t,name:`${e} ${["Deluxe","Premium","Standard","Royal","Elegant"][l%5]} ${l+1}`,image:p,price:c,oldPrice:d,discount:f,shortDescription:`A beautiful ${e.toLowerCase()} setup perfect for your celebration.`,fullDescription:`Experience the best ${e.toLowerCase()} service in Varanasi. This package includes premium materials, professional installation, and breakdown. 

Includes: 
- High-quality props and decor elements 
- LED lighting setup 
- 4-hour rental duration (extendable) 
- On-site coordinator. 

Suitable for both indoor and outdoor venues. Customize colors to match your theme!`,tags:[l%3===0?"bestseller":"",l%4===0?"new":"",c<5e3?"budget":"premium","same-day"].filter(Boolean),rating:4+Math.random(),reviews:Math.floor(Math.random()*100+10)}}),hA=[...Qo("birthday","Balloon Decor","birthday,balloon",22),...Qo("wedding","Wedding Stage","wedding,flowers",20),...Qo("anniversary","Romantic Setup","rose,candle",20),...Qo("baby-shower","Baby Shower Theme","baby,pastel",20),...Qo("farewell","Party Backdrop","party,celebration",20),...Qo("inauguration","Inauguration Flower","marigold,opening",20)],g1=[{id:"bday-basic",serviceId:"birthday",name:"Basic Balloon Bliss",price:1999,image:"https://picsum.photos/id/158/400/300",includes:["200 Balloons","Happy Birthday Foil","Ribbons"]},{id:"bday-premium",serviceId:"birthday",name:"Premium Theme Setup",price:4999,image:"https://picsum.photos/id/327/400/300",includes:["Arch Setup","Backdrop","LED Lights","Name Cutout"]},{id:"wed-royal",serviceId:"wedding",name:"Royal Floral Stage",price:25e3,image:"https://picsum.photos/id/514/400/300",includes:["Fresh Flowers","Sofa Set","Stage Carpet","Backdrop Drapes"]}],Q4=()=>{const[t,e]=j.useState(!1),[n,s]=j.useState(!1),a=_s(),l=a.pathname==="/"||a.pathname==="/booking";j.useEffect(()=>{const v=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]),j.useEffect(()=>{e(!1)},[a]);const c=l&&!n,f=`fixed w-full z-50 transition-all duration-500 ease-in-out ${c?"bg-transparent py-4":"bg-white/95 backdrop-blur-md shadow-md py-2"}`,d=c?"text-white":"text-gray-800",p=c?"bg-secondary":"bg-primary";return y.jsxs("nav",{className:f,children:[y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex justify-between items-center h-16",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(dt,{to:"/",className:"flex-shrink-0 flex items-center gap-2 group",children:y.jsx("img",{src:cA,alt:lA,className:`w-auto object-contain rounded-sm transition-all duration-500 ease-in-out ${n?"h-8":"h-10 md:h-12"}`})}),y.jsx(Fa,{children:n&&!l&&y.jsx(Ge.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"hidden md:block",children:y.jsxs(dt,{to:"/",className:"flex items-center gap-1.5 text-xs font-bold text-gray-600 bg-gray-100 hover:bg-primary hover:text-white px-3 py-1.5 rounded-full transition-all",children:[y.jsx(qa,{className:"w-3 h-3"})," Back to Home"]})})})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[["Home","Services","Gallery","Contact"].map(v=>y.jsxs(dt,{to:v==="Home"?"/":`/${v.toLowerCase()}`,className:`relative group text-sm font-medium uppercase tracking-wider transition-colors ${d}`,children:[v,y.jsx("span",{className:`absolute -bottom-1 left-0 w-0 h-0.5 transition-all duration-300 ease-out group-hover:w-full ${p}`})]},v)),y.jsx(dt,{to:"/booking",children:y.jsx("button",{className:"bg-gradient-to-r from-primary to-purple-600 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300",children:"Book Now"})})]}),y.jsxs("div",{className:"md:hidden flex items-center gap-3",children:[y.jsx(Fa,{children:n&&!l&&y.jsx(Ge.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},children:y.jsxs(dt,{to:"/",className:"flex items-center gap-1 text-xs font-bold text-gray-600 bg-gray-100 px-3 py-1.5 rounded-full",children:[y.jsx(qa,{className:"w-3 h-3"})," Home"]})})}),y.jsx("button",{onClick:()=>e(!t),className:`p-2 rounded-md ${d}`,children:t?y.jsx(Au,{className:"h-6 w-6"}):y.jsx(ZD,{className:"h-6 w-6"})})]})]})}),y.jsx(Fa,{children:t&&y.jsx(Ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-t border-gray-100 shadow-xl overflow-hidden",children:y.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[["Home","Services","Gallery","Contact"].map(v=>y.jsx(dt,{to:v==="Home"?"/":`/${v.toLowerCase()}`,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-purple-50 transition-colors",children:v},v)),y.jsx(dt,{to:"/booking",className:"block w-full text-center mt-4 bg-primary text-white px-4 py-3 rounded-lg font-bold",children:"Book via WhatsApp"})]})})})]})},y1=["https://images.pexels.com/photos/796606/pexels-photo-796606.jpeg","https://images.pexels.com/photos/6229135/pexels-photo-6229135.jpeg","https://images.pexels.com/photos/1045541/pexels-photo-1045541.jpeg","https://images.pexels.com/photos/169198/pexels-photo-169198.jpeg","https://images.pexels.com/photos/587741/pexels-photo-587741.jpeg","https://images.pexels.com/photos/7802432/pexels-photo-7802432.jpeg","https://images.pexels.com/photos/433452/pexels-photo-433452.jpeg","https://images.pexels.com/photos/417458/pexels-photo-417458.jpeg"],W4=()=>{const t=j.useMemo(()=>y1[Math.floor(Math.random()*y1.length)],[]);return y.jsxs("div",{className:"relative h-screen w-full overflow-hidden flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat bg-fixed transition-opacity duration-1000",style:{backgroundImage:`url("${t}")`},children:y.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"})}),y.jsxs("div",{className:"relative z-10 text-center px-4 max-w-5xl mx-auto",children:[y.jsx(Ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:y.jsx("h2",{className:"text-secondary font-sans font-bold uppercase tracking-[0.2em] mb-4 text-sm md:text-base",children:"Premium Event Styling in Varanasi"})}),y.jsxs(Ge.h1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1,delay:.2},className:"text-5xl md:text-7xl lg:text-8xl font-serif text-white font-bold leading-tight mb-6 drop-shadow-2xl",children:["Make Every Moment ",y.jsx("br",{}),y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-pink-100 to-purple-200",children:"Unforgettable"})]}),y.jsx(Ge.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-gray-200 text-lg md:text-xl mb-10 max-w-2xl mx-auto font-light",children:"From dreamy weddings to joyful birthday bashes, we craft experiences that touch the heart."}),y.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[y.jsx(dt,{to:"/booking",children:y.jsx("button",{className:"px-8 py-4 bg-secondary text-dark font-bold rounded-full shadow-[0_0_20px_rgba(251,191,36,0.4)] hover:shadow-[0_0_30px_rgba(251,191,36,0.6)] hover:scale-105 transition-all duration-300",children:"Book a Celebration"})}),y.jsx(dt,{to:"/services",children:y.jsx("button",{className:"px-8 py-4 bg-white/10 backdrop-blur-md border border-white/30 text-white font-bold rounded-full hover:bg-white/20 transition-all duration-300",children:"View Packages"})})]})]}),y.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:1},className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 text-white animate-bounce",children:y.jsx(bw,{className:"w-8 h-8"})})]})},fA=({service:t,index:e})=>y.jsxs(Ge.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},whileHover:{y:-10},className:"group relative bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[y.jsxs(dt,{to:`/services/${t.id}`,className:"block h-64 overflow-hidden relative cursor-pointer",children:[y.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors z-10"}),y.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out",loading:"lazy"}),y.jsxs("div",{className:"absolute top-4 right-4 z-20 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-primary flex items-center gap-1",children:[y.jsx(zy,{className:"w-3 h-3 fill-current"}),"Top Rated"]})]}),y.jsxs("div",{className:"p-6 relative",children:[y.jsx(dt,{to:`/services/${t.id}`,children:y.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors cursor-pointer",children:t.title})}),y.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2 text-sm",children:t.description}),y.jsx("div",{className:"space-y-2 mb-6",children:t.features.slice(0,3).map((n,s)=>y.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[y.jsx("span",{className:"w-1.5 h-1.5 bg-secondary rounded-full mr-2"}),n]},s))}),y.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"text-gray-400",children:"Starts at"}),y.jsxs("div",{className:"font-bold text-lg text-gray-900",children:["",t.priceStart.toLocaleString()]})]}),y.jsx(dt,{to:`/services/${t.id}`,children:y.jsxs("button",{className:"flex items-center gap-2 text-primary font-bold text-sm hover:gap-3 transition-all",children:["View Items ",y.jsx(AD,{className:"w-4 h-4"})]})})]})]})]});var xv={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var G=new OffscreenCanvas(1,1),w=G.getContext("2d");w.fillRect(0,0,1,1);var $=G.transferToImageBitmap();w.createPattern($,"no-repeat")}catch{return!1}return!0})();function d(){}function p(G){var w=n.exports.Promise,$=w!==void 0?w:e.Promise;return typeof $=="function"?new $(G):(G(d,d),null)}var v=(function(G,w){return{transform:function($){if(G)return $;if(w.has($))return w.get($);var ie=new OffscreenCanvas($.width,$.height),le=ie.getContext("2d");return le.drawImage($,0,0),w.set($,ie),ie},clear:function(){w.clear()}}})(f,new Map),b=(function(){var G=Math.floor(16.666666666666668),w,$,ie={},le=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(he){var me=Math.random();return ie[me]=requestAnimationFrame(function de(be){le===be||le+G-1<be?(le=be,delete ie[me],he()):ie[me]=requestAnimationFrame(de)}),me},$=function(he){ie[he]&&cancelAnimationFrame(ie[he])}):(w=function(he){return setTimeout(he,G)},$=function(he){return clearTimeout(he)}),{frame:w,cancel:$}})(),E=(function(){var G,w,$={};function ie(le){function he(me,de){le.postMessage({options:me||{},callback:de})}le.init=function(de){var be=de.transferControlToOffscreen();le.postMessage({canvas:be},[be])},le.fire=function(de,be,Ee){if(w)return he(de,null),w;var et=Math.random().toString(36).slice(2);return w=p(function(Ye){function it(_t){_t.data.callback===et&&(delete $[et],le.removeEventListener("message",it),w=null,v.clear(),Ee(),Ye())}le.addEventListener("message",it),he(de,et),$[et]=it.bind(null,{data:{callback:et}})}),w},le.reset=function(){le.postMessage({reset:!0});for(var de in $)$[de](),delete $[de]}}return function(){if(G)return G;if(!s&&l){var le=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{G=new Worker(URL.createObjectURL(new Blob([le])))}catch(he){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",he),null}ie(G)}return G}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function L(G,w){return w?w(G):G}function M(G){return G!=null}function I(G,w,$){return L(G&&M(G[w])?G[w]:A[w],$)}function O(G){return G<0?0:Math.floor(G)}function V(G,w){return Math.floor(Math.random()*(w-G))+G}function k(G){return parseInt(G,16)}function W(G){return G.map(ee)}function ee(G){var w=String(G).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:k(w.substring(0,2)),g:k(w.substring(2,4)),b:k(w.substring(4,6))}}function re(G){var w=I(G,"origin",Object);return w.x=I(w,"x",Number),w.y=I(w,"y",Number),w}function N(G){G.width=document.documentElement.clientWidth,G.height=document.documentElement.clientHeight}function C(G){var w=G.getBoundingClientRect();G.width=w.width,G.height=w.height}function D(G){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=G,w}function z(G,w,$,ie,le,he,me,de,be){G.save(),G.translate(w,$),G.rotate(he),G.scale(ie,le),G.arc(0,0,1,me,de,be),G.restore()}function P(G){var w=G.angle*(Math.PI/180),$=G.spread*(Math.PI/180);return{x:G.x,y:G.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:G.startVelocity*.5+Math.random()*G.startVelocity,angle2D:-w+(.5*$-Math.random()*$),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:G.color,shape:G.shape,tick:0,totalTicks:G.ticks,decay:G.decay,drift:G.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:G.gravity*3,ovalScalar:.6,scalar:G.scalar,flat:G.flat}}function H(G,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var $=w.tick++/w.totalTicks,ie=w.x+w.random*w.tiltCos,le=w.y+w.random*w.tiltSin,he=w.wobbleX+w.random*w.tiltCos,me=w.wobbleY+w.random*w.tiltSin;if(G.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-$)+")",G.beginPath(),c&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))G.fill(ue(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(he-ie)*.1,Math.abs(me-le)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var de=Math.PI/10*w.wobble,be=Math.abs(he-ie)*.1,Ee=Math.abs(me-le)*.1,et=w.shape.bitmap.width*w.scalar,Ye=w.shape.bitmap.height*w.scalar,it=new DOMMatrix([Math.cos(de)*be,Math.sin(de)*be,-Math.sin(de)*Ee,Math.cos(de)*Ee,w.x,w.y]);it.multiplySelf(new DOMMatrix(w.shape.matrix));var _t=G.createPattern(v.transform(w.shape.bitmap),"no-repeat");_t.setTransform(it),G.globalAlpha=1-$,G.fillStyle=_t,G.fillRect(w.x-et/2,w.y-Ye/2,et,Ye),G.globalAlpha=1}else if(w.shape==="circle")G.ellipse?G.ellipse(w.x,w.y,Math.abs(he-ie)*w.ovalScalar,Math.abs(me-le)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):z(G,w.x,w.y,Math.abs(he-ie)*w.ovalScalar,Math.abs(me-le)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var Ie=Math.PI/2*3,Ot=4*w.scalar,Kt=8*w.scalar,an=w.x,En=w.y,ot=5,tt=Math.PI/ot;ot--;)an=w.x+Math.cos(Ie)*Kt,En=w.y+Math.sin(Ie)*Kt,G.lineTo(an,En),Ie+=tt,an=w.x+Math.cos(Ie)*Ot,En=w.y+Math.sin(Ie)*Ot,G.lineTo(an,En),Ie+=tt;else G.moveTo(Math.floor(w.x),Math.floor(w.y)),G.lineTo(Math.floor(w.wobbleX),Math.floor(le)),G.lineTo(Math.floor(he),Math.floor(me)),G.lineTo(Math.floor(ie),Math.floor(w.wobbleY));return G.closePath(),G.fill(),w.tick<w.totalTicks}function U(G,w,$,ie,le){var he=w.slice(),me=G.getContext("2d"),de,be,Ee=p(function(et){function Ye(){de=be=null,me.clearRect(0,0,ie.width,ie.height),v.clear(),le(),et()}function it(){s&&!(ie.width===a.width&&ie.height===a.height)&&(ie.width=G.width=a.width,ie.height=G.height=a.height),!ie.width&&!ie.height&&($(G),ie.width=G.width,ie.height=G.height),me.clearRect(0,0,ie.width,ie.height),he=he.filter(function(_t){return H(me,_t)}),he.length?de=b.frame(it):Ye()}de=b.frame(it),be=Ye});return{addFettis:function(et){return he=he.concat(et),Ee},canvas:G,promise:Ee,reset:function(){de&&b.cancel(de),be&&be()}}}function Le(G,w){var $=!G,ie=!!I(w||{},"resize"),le=!1,he=I(w,"disableForReducedMotion",Boolean),me=l&&!!I(w||{},"useWorker"),de=me?E():null,be=$?N:C,Ee=G&&de?!!G.__confetti_initialized:!1,et=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ye;function it(Ie,Ot,Kt){for(var an=I(Ie,"particleCount",O),En=I(Ie,"angle",Number),ot=I(Ie,"spread",Number),tt=I(Ie,"startVelocity",Number),ki=I(Ie,"decay",Number),Ll=I(Ie,"gravity",Number),so=I(Ie,"drift",Number),Zt=I(Ie,"colors",W),xs=I(Ie,"ticks",Number),Zs=I(Ie,"shapes"),sa=I(Ie,"scalar"),Oi=!!I(Ie,"flat"),ro=re(Ie),ra=an,Js=[],ao=G.width*ro.x,Ln=G.height*ro.y;ra--;)Js.push(P({x:ao,y:Ln,angle:En,spread:ot,startVelocity:tt,color:Zt[ra%Zt.length],shape:Zs[V(0,Zs.length)],ticks:xs,decay:ki,gravity:Ll,drift:so,scalar:sa,flat:Oi}));return Ye?Ye.addFettis(Js):(Ye=U(G,Js,be,Ot,Kt),Ye.promise)}function _t(Ie){var Ot=he||I(Ie,"disableForReducedMotion",Boolean),Kt=I(Ie,"zIndex",Number);if(Ot&&et)return p(function(tt){tt()});$&&Ye?G=Ye.canvas:$&&!G&&(G=D(Kt),document.body.appendChild(G)),ie&&!Ee&&be(G);var an={width:G.width,height:G.height};de&&!Ee&&de.init(G),Ee=!0,de&&(G.__confetti_initialized=!0);function En(){if(de){var tt={getBoundingClientRect:function(){if(!$)return G.getBoundingClientRect()}};be(tt),de.postMessage({resize:{width:tt.width,height:tt.height}});return}an.width=an.height=null}function ot(){Ye=null,ie&&(le=!1,e.removeEventListener("resize",En)),$&&G&&(document.body.contains(G)&&document.body.removeChild(G),G=null,Ee=!1)}return ie&&!le&&(le=!0,e.addEventListener("resize",En,!1)),de?de.fire(Ie,an,ot):it(Ie,an,ot)}return _t.reset=function(){de&&de.reset(),Ye&&Ye.reset()},_t}var We;function te(){return We||(We=Le(null,{useWorker:!0,resize:!0})),We}function ue(G,w,$,ie,le,he,me){var de=new Path2D(G),be=new Path2D;be.addPath(de,new DOMMatrix(w));var Ee=new Path2D;return Ee.addPath(be,new DOMMatrix([Math.cos(me)*le,Math.sin(me)*le,-Math.sin(me)*he,Math.cos(me)*he,$,ie])),Ee}function pe(G){if(!c)throw new Error("path confetti are not supported in this browser");var w,$;typeof G=="string"?w=G:(w=G.path,$=G.matrix);var ie=new Path2D(w),le=document.createElement("canvas"),he=le.getContext("2d");if(!$){for(var me=1e3,de=me,be=me,Ee=0,et=0,Ye,it,_t=0;_t<me;_t+=2)for(var Ie=0;Ie<me;Ie+=2)he.isPointInPath(ie,_t,Ie,"nonzero")&&(de=Math.min(de,_t),be=Math.min(be,Ie),Ee=Math.max(Ee,_t),et=Math.max(et,Ie));Ye=Ee-de,it=et-be;var Ot=10,Kt=Math.min(Ot/Ye,Ot/it);$=[Kt,0,0,Kt,-Math.round(Ye/2+de)*Kt,-Math.round(it/2+be)*Kt]}return{type:"path",path:w,matrix:$}}function Ce(G){var w,$=1,ie="#000000",le='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof G=="string"?w=G:(w=G.text,$="scalar"in G?G.scalar:$,le="fontFamily"in G?G.fontFamily:le,ie="color"in G?G.color:ie);var he=10*$,me=""+he+"px "+le,de=new OffscreenCanvas(he,he),be=de.getContext("2d");be.font=me;var Ee=be.measureText(w),et=Math.ceil(Ee.actualBoundingBoxRight+Ee.actualBoundingBoxLeft),Ye=Math.ceil(Ee.actualBoundingBoxAscent+Ee.actualBoundingBoxDescent),it=2,_t=Ee.actualBoundingBoxLeft+it,Ie=Ee.actualBoundingBoxAscent+it;et+=it+it,Ye+=it+it,de=new OffscreenCanvas(et,Ye),be=de.getContext("2d"),be.font=me,be.fillStyle=ie,be.fillText(w,_t,Ie);var Ot=1/$;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[Ot,0,0,Ot,-et*Ot/2,-Ye*Ot/2]}}n.exports=function(){return te().apply(this,arguments)},n.exports.reset=function(){te().reset()},n.exports.create=Le,n.exports.shapeFromPath=pe,n.exports.shapeFromText=Ce})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),xv,!1);const dA=xv.exports;xv.exports.create;const Z4=()=>{};var v1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},J4=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},pA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,A=p&63;d||(A=64,c||(E=64)),s.push(n[v],n[b],n[E],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||b==null)throw new eV;const E=l<<2|f>>4;if(s.push(E),p!==64){const A=f<<4&240|p>>2;if(s.push(A),b!==64){const L=p<<6&192|b;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tV=function(t){const e=mA(t);return pA.encodeByteArray(e,!0)},sd=function(t){return tV(t).replace(/\./g,"")},gA=function(t){try{return pA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=()=>nV().__FIREBASE_DEFAULTS__,sV=()=>{if(typeof process>"u"||typeof v1>"u")return;const t=v1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gA(t[1]);return e&&JSON.parse(e)},Id=()=>{try{return Z4()||iV()||sV()||rV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yA=t=>{var e,n;return(n=(e=Id())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},vA=t=>{const e=yA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_A=()=>{var t;return(t=Id())==null?void 0:t.config},bA=t=>{var e;return(e=Id())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sd(JSON.stringify(n)),sd(JSON.stringify(c)),""].join(".")}const Jc={};function oV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jc))Jc[e]?t.emulator.push(e):t.prod.push(e);return t}function lV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _1=!1;function Ev(t,e){if(typeof window>"u"||typeof document>"u"||!na(window.location.host)||Jc[t]===e||Jc[t]||_1)return;Jc[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=oV().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{_1=!0,c()},E}function v(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=lV(s),A=n("text"),L=document.getElementById(A)||document.createElement("span"),M=n("learnmore"),I=document.getElementById(M)||document.createElement("a"),O=n("preprendIcon"),V=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const k=E.element;f(k),v(I,M);const W=p();d(V,O),k.append(V,L,I,W),document.body.appendChild(k)}l?(L.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function uV(){var e;const t=(e=Id())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mV(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pV(){return!uV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gV(){try{return typeof indexedDB=="object"}catch{return!1}}function yV(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="FirebaseError";class bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vV,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?_V(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new bs(a,f,s)}}function _V(t,e){return t.replace(bV,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const bV=/\{\$([^}]+)}/g;function xV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ga(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(b1(l)&&b1(c)){if(!Ga(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function b1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Gc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TV(t,e){const n=new EV(t,e);return n.subscribe.bind(n)}class EV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");wV(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=yg),a.error===void 0&&(a.error=yg),a.complete===void 0&&(a.complete=yg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class Kr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new aV;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RV(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:AV(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AV(t){return t===Va?void 0:t}function RV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const NV={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},IV=ze.INFO,DV={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},MV=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=DV[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wv{constructor(e){this.name=e,this._logLevel=IV,this._logHandler=MV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const PV=(t,e)=>e.some(n=>t instanceof n);let x1,T1;function kV(){return x1||(x1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OV(){return T1||(T1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TA=new WeakMap,ay=new WeakMap,EA=new WeakMap,vg=new WeakMap,Sv=new WeakMap;function VV(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ur(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&TA.set(n,t)}).catch(()=>{}),Sv.set(e,t),e}function jV(t){if(ay.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});ay.set(t,e)}let oy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LV(t){oy=t(oy)}function UV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(_g(this),e,...n);return EA.set(s,e.sort?e.sort():[e]),Ur(s)}:OV().includes(t)?function(...e){return t.apply(_g(this),e),Ur(TA.get(this))}:function(...e){return Ur(t.apply(_g(this),e))}}function BV(t){return typeof t=="function"?UV(t):(t instanceof IDBTransaction&&jV(t),PV(t,kV())?new Proxy(t,oy):t)}function Ur(t){if(t instanceof IDBRequest)return VV(t);if(vg.has(t))return vg.get(t);const e=BV(t);return e!==t&&(vg.set(t,e),Sv.set(e,t)),e}const _g=t=>Sv.get(t);function zV(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Ur(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Ur(c.result),d.oldVersion,d.newVersion,Ur(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const FV=["get","getKey","getAll","getAllKeys","count"],HV=["put","add","delete","clear"],bg=new Map;function E1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bg.get(e))return bg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=HV.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||FV.includes(n)))return;const l=async function(c,...f){const d=this.transaction(c,a?"readwrite":"readonly");let p=d.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&d.done]))[0]};return bg.set(e,l),l}LV(t=>({...t,get:(e,n,s)=>E1(e,n)||t.get(e,n,s),has:(e,n)=>!!E1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GV(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function GV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ly="@firebase/app",w1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new wv("@firebase/app"),$V="@firebase/app-compat",KV="@firebase/analytics-compat",YV="@firebase/analytics",XV="@firebase/app-check-compat",QV="@firebase/app-check",WV="@firebase/auth",ZV="@firebase/auth-compat",JV="@firebase/database",ej="@firebase/data-connect",tj="@firebase/database-compat",nj="@firebase/functions",ij="@firebase/functions-compat",sj="@firebase/installations",rj="@firebase/installations-compat",aj="@firebase/messaging",oj="@firebase/messaging-compat",lj="@firebase/performance",cj="@firebase/performance-compat",uj="@firebase/remote-config",hj="@firebase/remote-config-compat",fj="@firebase/storage",dj="@firebase/storage-compat",mj="@firebase/firestore",pj="@firebase/ai",gj="@firebase/firestore-compat",yj="firebase",vj="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="[DEFAULT]",_j={[ly]:"fire-core",[$V]:"fire-core-compat",[YV]:"fire-analytics",[KV]:"fire-analytics-compat",[QV]:"fire-app-check",[XV]:"fire-app-check-compat",[WV]:"fire-auth",[ZV]:"fire-auth-compat",[JV]:"fire-rtdb",[ej]:"fire-data-connect",[tj]:"fire-rtdb-compat",[nj]:"fire-fn",[ij]:"fire-fn-compat",[sj]:"fire-iid",[rj]:"fire-iid-compat",[aj]:"fire-fcm",[oj]:"fire-fcm-compat",[lj]:"fire-perf",[cj]:"fire-perf-compat",[uj]:"fire-rc",[hj]:"fire-rc-compat",[fj]:"fire-gcs",[dj]:"fire-gcs-compat",[mj]:"fire-fst",[gj]:"fire-fst-compat",[pj]:"fire-vertex","fire-js":"fire-js",[yj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Map,bj=new Map,uy=new Map;function S1(t,e){try{t.container.addComponent(e)}catch(n){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $a(t){const e=t.name;if(uy.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;uy.set(e,t);for(const n of rd.values())S1(n,t);for(const n of bj.values())S1(n,t);return!0}function Dd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ui(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Du("app","Firebase",xj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=vj;function wA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:cy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Br.create("bad-app-name",{appName:String(a)});if(n||(n=_A()),!n)throw Br.create("no-options");const l=rd.get(a);if(l){if(Ga(n,l.options)&&Ga(s,l.config))return l;throw Br.create("duplicate-app",{appName:a})}const c=new CV(a);for(const d of uy.values())c.addComponent(d);const f=new Tj(n,s,c);return rd.set(a,f),f}function Av(t=cy){const e=rd.get(t);if(!e&&t===cy&&_A())return wA();if(!e)throw Br.create("no-app",{appName:t});return e}function cs(t,e,n){let s=_j[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(c.join(" "));return}$a(new Kr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="firebase-heartbeat-database",wj=1,du="firebase-heartbeat-store";let xg=null;function SA(){return xg||(xg=zV(Ej,wj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),xg}async function Sj(t){try{const n=(await SA()).transaction(du),s=await n.objectStore(du).get(AA(t));return await n.done,s}catch(e){if(e instanceof bs)Ys.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ys.warn(n.message)}}}async function A1(t,e){try{const s=(await SA()).transaction(du,"readwrite");await s.objectStore(du).put(e,AA(t)),await s.done}catch(n){if(n instanceof bs)Ys.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ys.warn(s.message)}}}function AA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=1024,Rj=30;class Cj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ij(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=R1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Rj){const c=Dj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ys.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R1(),{heartbeatsToSend:s,unsentEntries:a}=Nj(this._heartbeatsCache.heartbeats),l=sd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ys.warn(n),""}}}function R1(){return new Date().toISOString().substring(0,10)}function Nj(t,e=Aj){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),C1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),C1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ij{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gV()?yV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Sj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return A1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return A1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function C1(t){return sd(JSON.stringify({version:2,heartbeats:t})).length}function Dj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){$a(new Kr("platform-logger",e=>new qV(e),"PRIVATE")),$a(new Kr("heartbeat",e=>new Cj(e),"PRIVATE")),cs(ly,w1,t),cs(ly,w1,"esm2020"),cs("fire-js","")}Mj("");var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zr,RA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function D(){}D.prototype=C.prototype,N.F=C.prototype,N.prototype=new D,N.prototype.constructor=N,N.D=function(z,P,H){for(var U=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)U[Le-2]=arguments[Le];return C.prototype[P].apply(z,U)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,C,D){D||(D=0);const z=Array(16);if(typeof C=="string")for(var P=0;P<16;++P)z[P]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(P=0;P<16;++P)z[P]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=N.g[0],D=N.g[1],P=N.g[2];let H=N.g[3],U;U=C+(H^D&(P^H))+z[0]+3614090360&4294967295,C=D+(U<<7&4294967295|U>>>25),U=H+(P^C&(D^P))+z[1]+3905402710&4294967295,H=C+(U<<12&4294967295|U>>>20),U=P+(D^H&(C^D))+z[2]+606105819&4294967295,P=H+(U<<17&4294967295|U>>>15),U=D+(C^P&(H^C))+z[3]+3250441966&4294967295,D=P+(U<<22&4294967295|U>>>10),U=C+(H^D&(P^H))+z[4]+4118548399&4294967295,C=D+(U<<7&4294967295|U>>>25),U=H+(P^C&(D^P))+z[5]+1200080426&4294967295,H=C+(U<<12&4294967295|U>>>20),U=P+(D^H&(C^D))+z[6]+2821735955&4294967295,P=H+(U<<17&4294967295|U>>>15),U=D+(C^P&(H^C))+z[7]+4249261313&4294967295,D=P+(U<<22&4294967295|U>>>10),U=C+(H^D&(P^H))+z[8]+1770035416&4294967295,C=D+(U<<7&4294967295|U>>>25),U=H+(P^C&(D^P))+z[9]+2336552879&4294967295,H=C+(U<<12&4294967295|U>>>20),U=P+(D^H&(C^D))+z[10]+4294925233&4294967295,P=H+(U<<17&4294967295|U>>>15),U=D+(C^P&(H^C))+z[11]+2304563134&4294967295,D=P+(U<<22&4294967295|U>>>10),U=C+(H^D&(P^H))+z[12]+1804603682&4294967295,C=D+(U<<7&4294967295|U>>>25),U=H+(P^C&(D^P))+z[13]+4254626195&4294967295,H=C+(U<<12&4294967295|U>>>20),U=P+(D^H&(C^D))+z[14]+2792965006&4294967295,P=H+(U<<17&4294967295|U>>>15),U=D+(C^P&(H^C))+z[15]+1236535329&4294967295,D=P+(U<<22&4294967295|U>>>10),U=C+(P^H&(D^P))+z[1]+4129170786&4294967295,C=D+(U<<5&4294967295|U>>>27),U=H+(D^P&(C^D))+z[6]+3225465664&4294967295,H=C+(U<<9&4294967295|U>>>23),U=P+(C^D&(H^C))+z[11]+643717713&4294967295,P=H+(U<<14&4294967295|U>>>18),U=D+(H^C&(P^H))+z[0]+3921069994&4294967295,D=P+(U<<20&4294967295|U>>>12),U=C+(P^H&(D^P))+z[5]+3593408605&4294967295,C=D+(U<<5&4294967295|U>>>27),U=H+(D^P&(C^D))+z[10]+38016083&4294967295,H=C+(U<<9&4294967295|U>>>23),U=P+(C^D&(H^C))+z[15]+3634488961&4294967295,P=H+(U<<14&4294967295|U>>>18),U=D+(H^C&(P^H))+z[4]+3889429448&4294967295,D=P+(U<<20&4294967295|U>>>12),U=C+(P^H&(D^P))+z[9]+568446438&4294967295,C=D+(U<<5&4294967295|U>>>27),U=H+(D^P&(C^D))+z[14]+3275163606&4294967295,H=C+(U<<9&4294967295|U>>>23),U=P+(C^D&(H^C))+z[3]+4107603335&4294967295,P=H+(U<<14&4294967295|U>>>18),U=D+(H^C&(P^H))+z[8]+1163531501&4294967295,D=P+(U<<20&4294967295|U>>>12),U=C+(P^H&(D^P))+z[13]+2850285829&4294967295,C=D+(U<<5&4294967295|U>>>27),U=H+(D^P&(C^D))+z[2]+4243563512&4294967295,H=C+(U<<9&4294967295|U>>>23),U=P+(C^D&(H^C))+z[7]+1735328473&4294967295,P=H+(U<<14&4294967295|U>>>18),U=D+(H^C&(P^H))+z[12]+2368359562&4294967295,D=P+(U<<20&4294967295|U>>>12),U=C+(D^P^H)+z[5]+4294588738&4294967295,C=D+(U<<4&4294967295|U>>>28),U=H+(C^D^P)+z[8]+2272392833&4294967295,H=C+(U<<11&4294967295|U>>>21),U=P+(H^C^D)+z[11]+1839030562&4294967295,P=H+(U<<16&4294967295|U>>>16),U=D+(P^H^C)+z[14]+4259657740&4294967295,D=P+(U<<23&4294967295|U>>>9),U=C+(D^P^H)+z[1]+2763975236&4294967295,C=D+(U<<4&4294967295|U>>>28),U=H+(C^D^P)+z[4]+1272893353&4294967295,H=C+(U<<11&4294967295|U>>>21),U=P+(H^C^D)+z[7]+4139469664&4294967295,P=H+(U<<16&4294967295|U>>>16),U=D+(P^H^C)+z[10]+3200236656&4294967295,D=P+(U<<23&4294967295|U>>>9),U=C+(D^P^H)+z[13]+681279174&4294967295,C=D+(U<<4&4294967295|U>>>28),U=H+(C^D^P)+z[0]+3936430074&4294967295,H=C+(U<<11&4294967295|U>>>21),U=P+(H^C^D)+z[3]+3572445317&4294967295,P=H+(U<<16&4294967295|U>>>16),U=D+(P^H^C)+z[6]+76029189&4294967295,D=P+(U<<23&4294967295|U>>>9),U=C+(D^P^H)+z[9]+3654602809&4294967295,C=D+(U<<4&4294967295|U>>>28),U=H+(C^D^P)+z[12]+3873151461&4294967295,H=C+(U<<11&4294967295|U>>>21),U=P+(H^C^D)+z[15]+530742520&4294967295,P=H+(U<<16&4294967295|U>>>16),U=D+(P^H^C)+z[2]+3299628645&4294967295,D=P+(U<<23&4294967295|U>>>9),U=C+(P^(D|~H))+z[0]+4096336452&4294967295,C=D+(U<<6&4294967295|U>>>26),U=H+(D^(C|~P))+z[7]+1126891415&4294967295,H=C+(U<<10&4294967295|U>>>22),U=P+(C^(H|~D))+z[14]+2878612391&4294967295,P=H+(U<<15&4294967295|U>>>17),U=D+(H^(P|~C))+z[5]+4237533241&4294967295,D=P+(U<<21&4294967295|U>>>11),U=C+(P^(D|~H))+z[12]+1700485571&4294967295,C=D+(U<<6&4294967295|U>>>26),U=H+(D^(C|~P))+z[3]+2399980690&4294967295,H=C+(U<<10&4294967295|U>>>22),U=P+(C^(H|~D))+z[10]+4293915773&4294967295,P=H+(U<<15&4294967295|U>>>17),U=D+(H^(P|~C))+z[1]+2240044497&4294967295,D=P+(U<<21&4294967295|U>>>11),U=C+(P^(D|~H))+z[8]+1873313359&4294967295,C=D+(U<<6&4294967295|U>>>26),U=H+(D^(C|~P))+z[15]+4264355552&4294967295,H=C+(U<<10&4294967295|U>>>22),U=P+(C^(H|~D))+z[6]+2734768916&4294967295,P=H+(U<<15&4294967295|U>>>17),U=D+(H^(P|~C))+z[13]+1309151649&4294967295,D=P+(U<<21&4294967295|U>>>11),U=C+(P^(D|~H))+z[4]+4149444226&4294967295,C=D+(U<<6&4294967295|U>>>26),U=H+(D^(C|~P))+z[11]+3174756917&4294967295,H=C+(U<<10&4294967295|U>>>22),U=P+(C^(H|~D))+z[2]+718787259&4294967295,P=H+(U<<15&4294967295|U>>>17),U=D+(H^(P|~C))+z[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+H&4294967295}s.prototype.v=function(N,C){C===void 0&&(C=N.length);const D=C-this.blockSize,z=this.C;let P=this.h,H=0;for(;H<C;){if(P==0)for(;H<=D;)a(this,N,H),H+=this.blockSize;if(typeof N=="string"){for(;H<C;)if(z[P++]=N.charCodeAt(H++),P==this.blockSize){a(this,z),P=0;break}}else for(;H<C;)if(z[P++]=N[H++],P==this.blockSize){a(this,z),P=0;break}}this.h=P,this.o+=C},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var D=N.length-8;D<N.length;++D)N[D]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,D=0;D<4;++D)for(let z=0;z<32;z+=8)N[C++]=this.g[D]>>>z&255;return N};function l(N,C){var D=f;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=C(N)}function c(N,C){this.h=C;const D=[];let z=!0;for(let P=N.length-1;P>=0;P--){const H=N[P]|0;z&&H==C||(D[P]=H,z=!1)}this.g=D}var f={};function d(N){return-128<=N&&N<128?l(N,function(C){return new c([C|0],C<0?-1:0)}):new c([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return I(p(-N));const C=[];let D=1;for(let z=0;N>=D;z++)C[z]=N/D|0,D*=4294967296;return new c(C,0)}function v(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return I(v(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(C,8));let z=b;for(let H=0;H<N.length;H+=8){var P=Math.min(8,N.length-H);const U=parseInt(N.substring(H,H+P),C);P<8?(P=p(Math.pow(C,P)),z=z.j(P).add(p(U))):(z=z.j(D),z=z.add(p(U)))}return z}var b=d(0),E=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(M(this))return-I(this).m();let N=0,C=1;for(let D=0;D<this.g.length;D++){const z=this.i(D);N+=(z>=0?z:4294967296+z)*C,C*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(M(this))return"-"+I(this).toString(N);const C=p(Math.pow(N,6));var D=this;let z="";for(;;){const P=W(D,C).g;D=O(D,P.j(C));let H=((D.g.length>0?D.g[0]:D.h)>>>0).toString(N);if(D=P,L(D))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function M(N){return N.h==-1}t.l=function(N){return N=O(this,N),M(N)?-1:L(N)?0:1};function I(N){const C=N.g.length,D=[];for(let z=0;z<C;z++)D[z]=~N.g[z];return new c(D,~N.h).add(E)}t.abs=function(){return M(this)?I(this):this},t.add=function(N){const C=Math.max(this.g.length,N.g.length),D=[];let z=0;for(let P=0;P<=C;P++){let H=z+(this.i(P)&65535)+(N.i(P)&65535),U=(H>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);z=U>>>16,H&=65535,U&=65535,D[P]=U<<16|H}return new c(D,D[D.length-1]&-2147483648?-1:0)};function O(N,C){return N.add(I(C))}t.j=function(N){if(L(this)||L(N))return b;if(M(this))return M(N)?I(this).j(I(N)):I(I(this).j(N));if(M(N))return I(this.j(I(N)));if(this.l(A)<0&&N.l(A)<0)return p(this.m()*N.m());const C=this.g.length+N.g.length,D=[];for(var z=0;z<2*C;z++)D[z]=0;for(z=0;z<this.g.length;z++)for(let P=0;P<N.g.length;P++){const H=this.i(z)>>>16,U=this.i(z)&65535,Le=N.i(P)>>>16,We=N.i(P)&65535;D[2*z+2*P]+=U*We,V(D,2*z+2*P),D[2*z+2*P+1]+=H*We,V(D,2*z+2*P+1),D[2*z+2*P+1]+=U*Le,V(D,2*z+2*P+1),D[2*z+2*P+2]+=H*Le,V(D,2*z+2*P+2)}for(N=0;N<C;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=C;N<2*C;N++)D[N]=0;return new c(D,0)};function V(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function k(N,C){this.g=N,this.h=C}function W(N,C){if(L(C))throw Error("division by zero");if(L(N))return new k(b,b);if(M(N))return C=W(I(N),C),new k(I(C.g),I(C.h));if(M(C))return C=W(N,I(C)),new k(I(C.g),C.h);if(N.g.length>30){if(M(N)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var D=E,z=C;z.l(N)<=0;)D=ee(D),z=ee(z);var P=re(D,1),H=re(z,1);for(z=re(z,2),D=re(D,2);!L(z);){var U=H.add(z);U.l(N)<=0&&(P=P.add(D),H=U),z=re(z,1),D=re(D,1)}return C=O(N,P.j(C)),new k(P,C)}for(P=b;N.l(C)>=0;){for(D=Math.max(1,Math.floor(N.m()/C.m())),z=Math.ceil(Math.log(D)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=p(D),U=H.j(C);M(U)||U.l(N)>0;)D-=z,H=p(D),U=H.j(C);L(H)&&(H=E),P=P.add(H),N=O(N,U)}return new k(P,N)}t.B=function(N){return W(this,N).h},t.and=function(N){const C=Math.max(this.g.length,N.g.length),D=[];for(let z=0;z<C;z++)D[z]=this.i(z)&N.i(z);return new c(D,this.h&N.h)},t.or=function(N){const C=Math.max(this.g.length,N.g.length),D=[];for(let z=0;z<C;z++)D[z]=this.i(z)|N.i(z);return new c(D,this.h|N.h)},t.xor=function(N){const C=Math.max(this.g.length,N.g.length),D=[];for(let z=0;z<C;z++)D[z]=this.i(z)^N.i(z);return new c(D,this.h^N.h)};function ee(N){const C=N.g.length+1,D=[];for(let z=0;z<C;z++)D[z]=N.i(z)<<1|N.i(z-1)>>>31;return new c(D,N.h)}function re(N,C){const D=C>>5;C%=32;const z=N.g.length-D,P=[];for(let H=0;H<z;H++)P[H]=C>0?N.i(H+D)>>>C|N.i(H+D+1)<<32-C:N.i(H+D);return new c(P,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,RA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,zr=c}).apply(typeof N1<"u"?N1:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CA,$c,NA,zf,hy,IA,DA,MA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var T=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var K=h[R];if(!(K in T))break e;T=T[K]}h=h[h.length-1],R=T[h],_=_(R),_!=R&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&T.push([R,_[R]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function d(h,_,T){return h.call.apply(h.bind,arguments)}function p(h,_,T){return p=d,p.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,K,Z){for(var fe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)fe[Pe-2]=arguments[Pe];return _.prototype[K].apply(R,fe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const _=h.length;if(_>0){const T=Array(_);for(let R=0;R<_;R++)T[R]=h[R];return T}return[]}function L(h,_){for(let R=1;R<arguments.length;R++){const K=arguments[R];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=h.length||0;const Z=K.length||0;h.length=T+Z;for(let fe=0;fe<Z;fe++)h[T+fe]=K[fe]}else h.push(K)}}class M{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(h){c.setTimeout(()=>{throw h},0)}function O(){var h=N;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class V{constructor(){this.h=this.g=null}add(_,T){const R=k.get();R.set(_,T),this.h?this.h.next=R:this.g=R,this.h=R}}var k=new M(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,N=new V,C=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(D)}};function D(){for(var h;h=O();){try{h.h.call(h.g)}catch(T){I(T)}var _=k;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}re=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function U(h){return/^[\s\xa0]*$/.test(h)}function Le(h,_){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(Le,P),Le.prototype.init=function(h,_){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),te=0;function ue(h,_,T,R,K){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!R,this.ha=K,this.key=++te,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h,_,T){for(const R in h)_.call(T,h[R],R,h)}function G(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function w(h){const _={};for(const T in h)_[T]=h[T];return _}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(h,_){let T,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(T in R)h[T]=R[T];for(let Z=0;Z<$.length;Z++)T=$[Z],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,_,T,R,K){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const fe=me(h,_,R,K);return fe>-1?(_=h[fe],T||(_.fa=!1)):(_=new ue(_,this.src,Z,!!R,K),_.fa=T,h.push(_)),_};function he(h,_){const T=_.type;if(T in h.g){var R=h.g[T],K=Array.prototype.indexOf.call(R,_,void 0),Z;(Z=K>=0)&&Array.prototype.splice.call(R,K,1),Z&&(pe(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function me(h,_,T,R){for(let K=0;K<h.length;++K){const Z=h[K];if(!Z.da&&Z.listener==_&&Z.capture==!!T&&Z.ha==R)return K}return-1}var de="closure_lm_"+(Math.random()*1e6|0),be={};function Ee(h,_,T,R,K){if(Array.isArray(_)){for(let Z=0;Z<_.length;Z++)Ee(h,_[Z],T,R,K);return null}return T=En(T),h&&h[We]?h.J(_,T,f(R)?!!R.capture:!1,K):et(h,_,T,!1,R,K)}function et(h,_,T,R,K,Z){if(!_)throw Error("Invalid event type");const fe=f(K)?!!K.capture:!!K;let Pe=Kt(h);if(Pe||(h[de]=Pe=new le(h)),T=Pe.add(_,T,R,fe,Z),T.proxy)return T;if(R=Ye(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)H||(K=fe),K===void 0&&(K=!1),h.addEventListener(_.toString(),R,K);else if(h.attachEvent)h.attachEvent(Ie(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ye(){function h(T){return _.call(h.src,h.listener,T)}const _=Ot;return h}function it(h,_,T,R,K){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)it(h,_[Z],T,R,K);else R=f(R)?!!R.capture:!!R,T=En(T),h&&h[We]?(h=h.i,Z=String(_).toString(),Z in h.g&&(_=h.g[Z],T=me(_,T,R,K),T>-1&&(pe(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[Z],h.h--)))):h&&(h=Kt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=me(_,T,R,K)),(T=h>-1?_[h]:null)&&_t(T))}function _t(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[We])he(_.i,h);else{var T=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(T,R,h.capture):_.detachEvent?_.detachEvent(Ie(T),R):_.addListener&&_.removeListener&&_.removeListener(R),(T=Kt(_))?(he(T,h),T.h==0&&(T.src=null,_[de]=null)):pe(h)}}}function Ie(h){return h in be?be[h]:be[h]="on"+h}function Ot(h,_){if(h.da)h=!0;else{_=new Le(_,this);const T=h.listener,R=h.ha||h.src;h.fa&&_t(h),h=T.call(R,_)}return h}function Kt(h){return h=h[de],h instanceof le?h:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function En(h){return typeof h=="function"?h:(h[an]||(h[an]=function(_){return h.handleEvent(_)}),h[an])}function ot(){z.call(this),this.i=new le(this),this.M=this,this.G=null}b(ot,z),ot.prototype[We]=!0,ot.prototype.removeEventListener=function(h,_,T,R){it(this,h,_,T,R)};function tt(h,_){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new P(_,h);else if(_ instanceof P)_.target=_.target||h;else{var K=_;_=new P(R,h),ie(_,K)}K=!0;let Z,fe;if(T)for(fe=T.length-1;fe>=0;fe--)Z=_.g=T[fe],K=ki(Z,R,!0,_)&&K;if(Z=_.g=h,K=ki(Z,R,!0,_)&&K,K=ki(Z,R,!1,_)&&K,T)for(fe=0;fe<T.length;fe++)Z=_.g=T[fe],K=ki(Z,R,!1,_)&&K}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let R=0;R<T.length;R++)pe(T[R]);delete h.g[_],h.h--}}this.G=null},ot.prototype.J=function(h,_,T,R){return this.i.add(String(h),_,!1,T,R)},ot.prototype.K=function(h,_,T,R){return this.i.add(String(h),_,!0,T,R)};function ki(h,_,T,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let Z=0;Z<_.length;++Z){const fe=_[Z];if(fe&&!fe.da&&fe.capture==T){const Pe=fe.listener,Dt=fe.ha||fe.src;fe.fa&&he(h.i,fe),K=Pe.call(Dt,R)!==!1&&K}}return K&&!R.defaultPrevented}function Ll(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function so(h){h.g=Ll(()=>{h.g=null,h.i&&(h.i=!1,so(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Zt extends z{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:so(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(h){z.call(this),this.h=h,this.g={}}b(xs,z);var Zs=[];function sa(h){Ce(h.g,function(_,T){this.g.hasOwnProperty(T)&&_t(_)},h),h.g={}}xs.prototype.N=function(){xs.Z.N.call(this),sa(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oi=c.JSON.stringify,ro=c.JSON.parse,ra=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Js(){}function ao(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function on(){P.call(this,"d")}b(on,P);function Qn(){P.call(this,"c")}b(Qn,P);var It={},Yu=null;function oo(){return Yu=Yu||new ot}It.Ia="serverreachability";function Xu(h){P.call(this,It.Ia,h)}b(Xu,P);function Vi(h){const _=oo();tt(_,new Xu(_))}It.STAT_EVENT="statevent";function aa(h,_){P.call(this,It.STAT_EVENT,h),this.stat=_}b(aa,P);function Vt(h){const _=oo();tt(_,new aa(_,h))}It.Ja="timingevent";function ji(h,_){P.call(this,It.Ja,h),this.size=_}b(ji,P);function Li(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function pi(){this.g=!0}pi.prototype.ua=function(){this.g=!1};function Zd(h,_,T,R,K,Z){h.info(function(){if(h.g)if(Z){var fe="",Pe=Z.split("&");for(let Ze=0;Ze<Pe.length;Ze++){var Dt=Pe[Ze].split("=");if(Dt.length>1){const bt=Dt[0];Dt=Dt[1];const ei=bt.split("_");fe=ei.length>=2&&ei[1]=="type"?fe+(bt+"="+Dt+"&"):fe+(bt+"=redacted&")}}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+_+`
`+T+`
`+fe})}function Qu(h,_,T,R,K,Z,fe){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+_+`
`+T+`
`+Z+" "+fe})}function Ui(h,_,T,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Jd(h,T)+(R?" "+R:"")})}function oa(h,_){h.info(function(){return"TIMEOUT: "+_})}pi.prototype.info=function(){};function Jd(h,_){if(!h.g)return _;if(!_)return null;try{const Z=JSON.parse(_);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var T=Z[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var K=R[0];if(K!="noop"&&K!="stop"&&K!="close")for(let fe=1;fe<R.length;fe++)R[fe]=""}}}}return Oi(Z)}catch{return _}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bl;function ca(){}b(ca,Js),ca.prototype.g=function(){return new XMLHttpRequest},Bl=new ca;function Ts(h){return encodeURIComponent(String(h))}function Wu(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function gi(h,_,T,R){this.j=h,this.i=_,this.l=T,this.S=R||1,this.V=new xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yi}function yi(){this.i=null,this.g="",this.h=!1}var jt={},Jt={};function Bi(h,_,T){h.M=1,h.A=ua(Ut(_)),h.u=T,h.R=!0,lo(h,null)}function lo(h,_){h.F=Date.now(),zi(h),h.B=Ut(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),fo(T.i,"t",R),h.C=0,T=h.j.L,h.h=new yi,h.g=fh(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Zt(p(h.Y,h,h.g),h.P)),_=h.V,T=h.g,R=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(Zs[0]=K.toString()),K=Zs);for(let Z=0;Z<K.length;Z++){const fe=Ee(T,K[Z],R||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=h.J?w(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Vi(),Zd(h.i,h.v,h.B,h.l,h.S,h.u)}gi.prototype.ba=function(h){h=h.target;const _=this.O;_&&bi(h)==3?_.j():this.Y(h)},gi.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=bi(this.g),Dt=this.g.ya(),Ze=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Pe!=4||Dt==7||(Dt==8||Ze<=0?Vi(3):Vi(2)),Fi(this);var _=this.g.ca();this.X=_;var T=em(this);if(this.o=_==200,Qu(this.i,this.v,this.B,this.l,this.S,Pe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,K=this.g;if((R=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(R)){var Z=R;break t}}Z=null}if(h=Z)Ui(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hi(this,h);else{this.o=!1,this.m=3,Vt(12),Un(this),Wn(this);break e}}if(this.R){h=!0;let bt;for(;!this.K&&this.C<T.length;)if(bt=Ju(this,T),bt==Jt){Pe==4&&(this.m=4,Vt(14),h=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==jt){this.m=4,Vt(15),Ui(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ui(this.i,this.l,bt,null),Hi(this,bt);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||T.length!=0||this.h.h||(this.m=1,Vt(16),h=!1),this.o=this.o&&h,!h)Ui(this.i,this.l,T,"[Invalid Chunked Response]"),Un(this),Wn(this);else if(T.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),tc(fe),fe.P=!0,Vt(11))}}else Ui(this.i,this.l,T,null),Hi(this,T);Pe==4&&Un(this),this.o&&!this.K&&(Pe==4?lh(this.j,this):(this.o=!1,zi(this)))}else ws(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Un(this),Wn(this)}}}catch{}finally{}};function em(h){if(!Zu(h))return h.g.la();const _=ln(h.g);if(_==="")return"";let T="";const R=_.length,K=bi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Un(h),Wn(h),"";h.h.i=new c.TextDecoder}for(let Z=0;Z<R;Z++)h.h.h=!0,T+=h.h.i.decode(_[Z],{stream:!(K&&Z==R-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Zu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ju(h,_){var T=h.C,R=_.indexOf(`
`,T);return R==-1?Jt:(T=Number(_.substring(T,R)),isNaN(T)?jt:(R+=1,R+T>_.length?Jt:(_=_.slice(R,R+T),h.C=R+T,_)))}gi.prototype.cancel=function(){this.K=!0,Un(this)};function zi(h){h.T=Date.now()+h.H,co(h,h.H)}function co(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Li(p(h.aa,h),_)}function Fi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}gi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(oa(this.i,this.B),this.M!=2&&(Vi(),Vt(17)),Un(this),this.m=2,Wn(this)):co(this,this.T-h)};function Wn(h){h.j.I==0||h.K||lh(h.j,h)}function Un(h){Fi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,sa(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Hi(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Gi(T.h,h))){if(!h.L&&Gi(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)vo(T),or(T);else break e;ya(T),Vt(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Li(p(T.Va,T),6e3));qi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Wi(T,11)}else if((h.L||T.g==h)&&vo(T),!U(_))for(K=T.Ba.g.parse(_),_=0;_<K.length;_++){let Ze=K[_];const bt=Ze[0];if(!(bt<=T.K))if(T.K=bt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const ei=Ze[3];ei!=null&&(T.ka=ei,T.j.info("VER="+T.ka));const Zi=Ze[4];Zi!=null&&(T.za=Zi,T.j.info("SVER="+T.za));const xi=Ze[5];xi!=null&&typeof xi=="number"&&xi>0&&(R=1.5*xi,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Ti=h.g;if(Ti){const va=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var Z=R.h;Z.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Hl(Z,Z.h),Z.h=null))}if(R.G){const _o=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(R.wa=_o,st(R.J,R.G,_o))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var fe=h;if(R.na=hh(R,R.L?R.ba:null,R.W),fe.L){ql(R.h,fe);var Pe=fe,Dt=R.O;Dt&&(Pe.H=Dt),Pe.D&&(Fi(Pe),zi(Pe)),R.g=fe}else ah(R);T.i.length>0&&Qi(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Wi(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Wi(T,7):Jl(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Vi(4)}catch{}}var Lt=class{constructor(h,_){this.g=h,this.map=_}};function zl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qi(h){return h.h?1:h.g?h.g.size:0}function Gi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Hl(h,_){h.g?h.g.add(_):h.h=_}function ql(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}zl.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Gl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return A(h.i)}var eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let K,Z=null;R>=0?(K=h[T].substring(0,R),Z=h[T].substring(R+1)):K=h[T],_(K,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Bn?(this.l=h.l,en(this,h.j),this.o=h.o,this.g=h.g,er(this,h.u),this.h=h.h,$l(this,sh(h.i)),this.m=h.m):h&&(_=String(h).match(eh))?(this.l=!1,en(this,_[1]||"",!0),this.o=$i(_[2]||""),this.g=$i(_[3]||"",!0),er(this,_[4]),this.h=$i(_[5]||"",!0),$l(this,_[6]||"",!0),this.m=$i(_[7]||"")):(this.l=!1,this.i=new nr(null,this.l))}Bn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ha(_,ho,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ha(_,ho,!0),"@"),h.push(Ts(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ha(T,T.charAt(0)=="/"?Kl:th,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ha(T,nh)),h.join("")},Bn.prototype.resolve=function(h){const _=Ut(this);let T=!!h.j;T?en(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var R=h.h;if(T)er(_,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var K=_.h.lastIndexOf("/");K!=-1&&(R=_.h.slice(0,K+1)+R)}if(K=R,K==".."||K==".")R="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){R=K.lastIndexOf("/",0)==0,K=K.split("/");const Z=[];for(let fe=0;fe<K.length;){const Pe=K[fe++];Pe=="."?R&&fe==K.length&&Z.push(""):Pe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),R&&fe==K.length&&Z.push("")):(Z.push(Pe),R=!0)}R=Z.join("/")}else R=K}return T?_.h=R:T=h.i.toString()!=="",T?$l(_,sh(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Ut(h){return new Bn(h)}function en(h,_,T){h.j=T?$i(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function er(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function $l(h,_,T){_ instanceof nr?(h.i=_,mo(h.i,h.l)):(T||(_=ha(_,tr)),h.i=new nr(_,h.l))}function st(h,_,T){h.i.set(_,T)}function ua(h){return st(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function $i(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ha(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Cn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ho=/[#\/\?@]/g,th=/[#\?:]/g,Kl=/[#\?]/g,tr=/[#\?@]/g,nh=/#/g;function nr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&uo(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=nr.prototype,t.add=function(h,_){Nn(this),this.i=null,h=ir(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function ih(h,_){Nn(h),_=ir(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Yl(h,_){return Nn(h),_=ir(h,_),h.g.has(_)}t.forEach=function(h,_){Nn(this),this.g.forEach(function(T,R){T.forEach(function(K){h.call(_,K,R,this)},this)},this)};function Xl(h,_){Nn(h);let T=[];if(typeof _=="string")Yl(h,_)&&(T=T.concat(h.g.get(ir(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}t.set=function(h,_){return Nn(this),this.i=null,h=ir(this,h),Yl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Xl(this,h),h.length>0?String(h[0]):_):_};function fo(h,_,T){ih(h,_),T.length>0&&(h.i=null,h.g.set(ir(h,_),A(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var T=_[R];const K=Ts(T);T=Xl(this,T);for(let Z=0;Z<T.length;Z++){let fe=K;T[Z]!==""&&(fe+="="+Ts(T[Z])),h.push(fe)}}return this.i=h.join("&")};function sh(h){const _=new nr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function ir(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function mo(h,_){_&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(T,R){const K=R.toLowerCase();R!=K&&(ih(this,R),fo(this,K,T))},h)),h.j=_}function vi(h,_){const T=new pi;if(c.Image){const R=new Image;R.onload=v(Zn,T,"TestLoadImage: loaded",!0,_,R),R.onerror=v(Zn,T,"TestLoadImage: error",!1,_,R),R.onabort=v(Zn,T,"TestLoadImage: abort",!1,_,R),R.ontimeout=v(Zn,T,"TestLoadImage: timeout",!1,_,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function Ql(h,_){const T=new pi,R=new AbortController,K=setTimeout(()=>{R.abort(),Zn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(Z=>{clearTimeout(K),Z.ok?Zn(T,"TestPingServer: ok",!0,_):Zn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Zn(T,"TestPingServer: error",!1,_)})}function Zn(h,_,T,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(T)}catch{}}function sr(){this.g=new ra}function Ki(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ki,Js),Ki.prototype.g=function(){return new fa(this.i,this.h)};function fa(h,_){ot.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(fa,ot),t=fa.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,_i(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;po(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function po(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?rr(this):_i(this),this.readyState==3&&po(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,rr(this))},t.Na=function(h){this.g&&(this.response=h,rr(this))},t.ga=function(){this.g&&rr(this)};function rr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,_i(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function _i(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jn(h){let _="";return Ce(h,function(T,R){_+=R,_+=":",_+=T,_+=`\r
`}),_}function da(h,_,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Jn(T),typeof h=="string"?T!=null&&Ts(T):st(h,_,T))}function lt(h){ot.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(lt,ot);var Yi=/^https?$/i,Wl=["POST","PUT"];t=lt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bl.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Z){ma(this,Z);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)T.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())T.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Wl,_,void 0)>=0)||R||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of T)this.g.setRequestHeader(Z,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){ma(this,Z)}};function ma(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Zl(h),Es(h)}function Zl(h){h.A||(h.A=!0,tt(h,"complete"),tt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,tt(this,"complete"),tt(this,"abort"),Es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Es(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?pa(this):this.Xa())},t.Xa=function(){pa(this)};function pa(h){if(h.h&&typeof l<"u"){if(h.v&&bi(h)==4)setTimeout(h.Ca.bind(h),0);else if(tt(h,"readystatechange"),bi(h)==4){h.h=!1;try{const Z=h.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var R;if(R=Z===0){let fe=String(h.D).match(eh)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),R=!Yi.test(fe?fe.toLowerCase():"")}T=R}if(T)tt(h,"complete"),tt(h,"success");else{h.o=6;try{var K=bi(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",Zl(h)}}finally{Es(h)}}}}function Es(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||tt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function bi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),ro(_)}};function ln(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(h){const _={};h=(h.g&&bi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(U(h[R]))continue;var T=Wu(h[R]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=_[K]||[];_[K]=Z,Z.push(T)}G(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function ar(h){this.za=0,this.i=[],this.j=new pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,h),this.Za=Xi("retryDelaySeedMs",1e4,h),this.Ta=Xi("forwardChannelMaxRetries",2,h),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new zl(h&&h.concurrentRequestLimit),this.Ba=new sr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ar.prototype,t.ka=8,t.I=1,t.connect=function(h,_,T,R){Vt(0),this.W=h,this.H=_||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=hh(this,null,this.W),Qi(this)};function Jl(h){if(go(h),h.I==3){var _=h.V++,T=Ut(h.J);if(st(T,"SID",h.M),st(T,"RID",_),st(T,"TYPE","terminate"),ga(h,T),_=new gi(h,h.j,_),_.M=2,_.A=ua(Ut(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=fh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),zi(_)}uh(h)}function or(h){h.g&&(tc(h),h.g.cancel(),h.g=null)}function go(h){or(h),h.v&&(c.clearTimeout(h.v),h.v=null),vo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Qi(h){if(!Fl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ee||C(),re||(ee(),re=!0),N.add(_,h),h.D=0}}function yo(h,_){return qi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Li(p(h.Ea,h,_),ch(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new gi(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=w(Z),ie(Z,this.U)):Z=this.U),this.u!==null||this.R||(K.J=Z,Z=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=rh(this,K,_),T=Ut(this.J),st(T,"RID",h),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),ga(this,T),Z&&(this.R?_="headers="+Ts(Jn(Z))+"&"+_:this.u&&da(T,this.u,Z)),Hl(this.h,K),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",_),st(T,"SID","null"),K.U=!0,Bi(K,T,null)):Bi(K,T,_),this.I=2}}else this.I==3&&(h?ec(this,h):this.i.length==0||Fl(this.h)||ec(this))};function ec(h,_){var T;_?T=_.l:T=h.V++;const R=Ut(h.J);st(R,"SID",h.M),st(R,"RID",T),st(R,"AID",h.K),ga(h,R),h.u&&h.o&&da(R,h.u,h.o),T=new gi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=rh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Hl(h.h,T),Bi(T,R,_)}function ga(h,_){h.H&&Ce(h.H,function(T,R){st(_,R,T)}),h.l&&Ce({},function(T,R){st(_,R,T)})}function rh(h,_,T){T=Math.min(h.i.length,T);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var K=h.i;let Pe=-1;for(;;){const Dt=["count="+T];Pe==-1?T>0?(Pe=K[0].g,Dt.push("ofs="+Pe)):Pe=0:Dt.push("ofs="+Pe);let Ze=!0;for(let bt=0;bt<T;bt++){var Z=K[bt].g;const ei=K[bt].map;if(Z-=Pe,Z<0)Pe=Math.max(0,K[bt].g-100),Ze=!1;else try{Z="req"+Z+"_"||"";try{var fe=ei instanceof Map?ei:Object.entries(ei);for(const[Zi,xi]of fe){let Ti=xi;f(xi)&&(Ti=Oi(xi)),Dt.push(Z+Zi+"="+encodeURIComponent(Ti))}}catch(Zi){throw Dt.push(Z+"type="+encodeURIComponent("_badmap")),Zi}}catch{R&&R(ei)}}if(Ze){fe=Dt.join("&");break e}}fe=void 0}return h=h.i.splice(0,T),_.G=h,fe}function ah(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ee||C(),re||(ee(),re=!0),N.add(_,h),h.A=0}}function ya(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Li(p(h.Da,h),ch(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,oh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Li(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),or(this),oh(this))};function tc(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function oh(h){h.g=new gi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ut(h.na);st(_,"RID","rpc"),st(_,"SID",h.M),st(_,"AID",h.K),st(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&st(_,"TO",h.ia),st(_,"TYPE","xmlhttp"),ga(h,_),h.u&&h.o&&da(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ua(Ut(_)),T.u=null,T.R=!0,lo(T,h)}t.Va=function(){this.C!=null&&(this.C=null,or(this),ya(this),Vt(19))};function vo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function lh(h,_){var T=null;if(h.g==_){vo(h),tc(h),h.g=null;var R=2}else if(Gi(h.h,_))T=_.G,ql(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var K=h.D;R=oo(),tt(R,new ji(R,T)),Qi(h)}else ah(h);else if(K=_.m,K==3||K==0&&_.X>0||!(R==1&&yo(h,_)||R==2&&ya(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),K){case 1:Wi(h,5);break;case 4:Wi(h,10);break;case 3:Wi(h,6);break;default:Wi(h,2)}}}function ch(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Wi(h,_){if(h.j.info("Error code "+_),_==2){var T=p(h.bb,h),R=h.Ua;const K=!R;R=new Bn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||en(R,"https"),ua(R),K?vi(R.toString(),T):Ql(R.toString(),T)}else Vt(2);h.I=0,h.l&&h.l.pa(_),uh(h),go(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function uh(h){if(h.I=0,h.ja=[],h.l){const _=Gl(h.h);(_.length!=0||h.i.length!=0)&&(L(h.ja,_),L(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function hh(h,_,T){var R=T instanceof Bn?Ut(T):new Bn(T);if(R.g!="")_&&(R.g=_+"."+R.g),er(R,R.u);else{var K=c.location;R=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const Z=new Bn(null);R&&en(Z,R),_&&(Z.g=_),K&&er(Z,K),T&&(Z.h=T),R=Z}return T=h.G,_=h.wa,T&&_&&st(R,T,_),st(R,"VER",h.ka),ga(h,R),R}function fh(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new lt(new Ki({ab:T})):new lt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}t=dh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lr(){}lr.prototype.g=function(h,_){return new wn(h,_)};function wn(h,_){ot.call(this),this.g=new ar(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!U(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ss(this)}b(wn,ot),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Jl(this.g)},wn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Oi(h),h=T);_.i.push(new Lt(_.Ya++,h)),_.I==3&&Qi(_)},wn.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,wn.Z.N.call(this)};function mh(h){on.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(mh,on);function ph(){Qn.call(this),this.status=1}b(ph,Qn);function Ss(h){this.g=h}b(Ss,dh),Ss.prototype.ra=function(){tt(this.g,"a")},Ss.prototype.qa=function(h){tt(this.g,new mh(h))},Ss.prototype.pa=function(h){tt(this.g,new ph)},Ss.prototype.oa=function(){tt(this.g,"b")},lr.prototype.createWebChannel=lr.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,MA=function(){return new lr},DA=function(){return oo()},IA=It,hy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,zf=la,Ul.COMPLETE="complete",NA=Ul,ao.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ot.prototype.listen=ot.prototype.J,$c=ao,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,CA=lt}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const I1="@firebase/firestore",D1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new wv("@firebase/firestore");function Zo(){return Ka.logLevel}function ge(t,...e){if(Ka.logLevel<=ze.DEBUG){const n=e.map(Rv);Ka.debug(`Firestore (${Dl}): ${t}`,...n)}}function Xs(t,...e){if(Ka.logLevel<=ze.ERROR){const n=e.map(Rv);Ka.error(`Firestore (${Dl}): ${t}`,...n)}}function _l(t,...e){if(Ka.logLevel<=ze.WARN){const n=e.map(Rv);Ka.warn(`Firestore (${Dl}): ${t}`,...n)}}function Rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,PA(t,s,n)}function PA(t,e,n){let s=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Xs(s),new Error(s)}function nt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||PA(e,a,s)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class kj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Oj{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},f=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>f(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new kA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class Vj{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jj{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Vj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const s=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Uj(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Fe(t,e){return t<e?-1:t>e?1:0}function fy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Tg(a)===Tg(l)?Fe(a,l):Tg(a)?1:-1}return Fe(t.length,e.length)}const Bj=55296,zj=57343;function Tg(t){const e=t.charCodeAt(0);return e>=Bj&&e<=zj}function bl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="__name__";class ss{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ss?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ss.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Fe(e.length,n.length)}static compareSegments(e,n){const s=ss.isNumericId(e),a=ss.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ss.extractNumericId(e).compare(ss.extractNumericId(n)):fy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zr.fromString(e.substring(4,e.length-2))}}class mt extends ss{construct(e,n,s){return new mt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const Fj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends ss{construct(e,n,s){return new pn(e,n,s)}static isValidIdentifier(e){return Fj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P1}static keyField(){return new pn([P1])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new _e(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(mt.fromString(e))}static fromName(e){return new Te(mt.fromString(e).popFirst(5))}static empty(){return new Te(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e,n){if(!n)throw new _e(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hj(t,e,n,s){if(e===!0&&s===!0)throw new _e(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k1(t){if(!Te.isDocumentKey(t))throw new _e(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O1(t){if(Te.isDocumentKey(t))throw new _e(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Iv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Iv(t);throw new _e(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pu(t,e){if(!OA(t))throw new _e(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new _e(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=-62135596800,j1=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*j1);return new yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V1)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j1}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:$t("string",yt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new yt(0,0))}static max(){return new Ne(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function qj(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new yt(n+1,0):new yt(n,s));return new Xr(a,Te.empty(),e)}function Gj(t){return new Xr(t.readTime,t.key,mu)}class Xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(Ne.min(),Te.empty(),mu)}static max(){return new Xr(Ne.max(),Te.empty(),mu)}}function $j(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==Kj)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(d=>s(d)))})),c=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((a=>a?oe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((v=>{c[p]=v,++f,f===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new oe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function Xj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Md.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-1;function Pd(t){return t==null}function ad(t){return t===0&&1/t==-1/0}function Qj(t){return typeof t=="number"&&Number.isInteger(t)&&!ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="";function Wj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L1(e)),e=Zj(t.get(n),e);return L1(e)}function Zj(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case VA:n+="";break;default:n+=l}}return n}function L1(t){return t+VA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ja(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}}class Af{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??mn.RED,this.left=a??mn.EMPTY,this.right=l??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new mn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return mn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B1(this.data.getIterator())}getIteratorFrom(e){return new B1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class B1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new Wt(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new LA("Invalid base64 string: "+l):l}})(e);return new gn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const Jj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=Jj.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wr(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="server_timestamp",BA="__type__",zA="__previous_value__",FA="__local_write_time__";function Mv(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[BA])==null?void 0:s.stringValue)===UA}function kd(t){const e=t.mapValue.fields[zA];return Mv(e)?kd(e):e}function pu(t){const e=Qr(t.mapValue.fields[FA].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n,s,a,l,c,f,d,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=v}}const od="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||od}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="__type__",t3="__max__",Rf={mapValue:{}},qA="__vector__",ld="value";function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mv(t)?4:i3(t)?9007199254740991:n3(t)?10:11:Ae(28295,{value:t})}function gs(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Qr(a.timestampValue),f=Qr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Wr(a.bytesValue).isEqual(Wr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return kt(a.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(a.geoPointValue.longitude)===kt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return kt(a.integerValue)===kt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=kt(a.doubleValue),f=kt(l.doubleValue);return c===f?ad(c)===ad(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return bl(t.arrayValue.values||[],e.arrayValue.values||[],gs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(U1(c)!==U1(f))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(f[d]===void 0||!gs(c[d],f[d])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function yu(t,e){return(t.values||[]).find((n=>gs(n,e)))!==void 0}function xl(t,e){if(t===e)return 0;const n=Zr(t),s=Zr(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=kt(l.integerValue||l.doubleValue),d=kt(c.integerValue||c.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1})(t,e);case 3:return z1(t.timestampValue,e.timestampValue);case 4:return z1(pu(t),pu(e));case 5:return fy(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=Wr(l),d=Wr(c);return f.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),d=c.split("/");for(let p=0;p<f.length&&p<d.length;p++){const v=Fe(f[p],d[p]);if(v!==0)return v}return Fe(f.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Fe(kt(l.latitude),kt(c.latitude));return f!==0?f:Fe(kt(l.longitude),kt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return F1(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var E,A,L,M;const f=l.fields||{},d=c.fields||{},p=(E=f[ld])==null?void 0:E.arrayValue,v=(A=d[ld])==null?void 0:A.arrayValue,b=Fe(((L=p==null?void 0:p.values)==null?void 0:L.length)||0,((M=v==null?void 0:v.values)==null?void 0:M.length)||0);return b!==0?b:F1(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Rf.mapValue&&c===Rf.mapValue)return 0;if(l===Rf.mapValue)return 1;if(c===Rf.mapValue)return-1;const f=l.fields||{},d=Object.keys(f),p=c.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let b=0;b<d.length&&b<v.length;++b){const E=fy(d[b],v[b]);if(E!==0)return E;const A=xl(f[d[b]],p[v[b]]);if(A!==0)return A}return Fe(d.length,v.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function z1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Qr(t),s=Qr(e),a=Fe(n.seconds,s.seconds);return a!==0?a:Fe(n.nanos,s.nanos)}function F1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=xl(n[a],s[a]);if(l)return l}return Fe(n.length,s.length)}function Tl(t){return dy(t)}function dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=dy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${dy(n.fields[c])}`;return a+"}"})(t.mapValue):Ae(61005,{value:t})}function Ff(t){switch(Zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kd(t);return e?16+Ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Wr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Ff(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ja(s.fields,((l,c)=>{a+=l.length+Ff(c)})),a})(t.mapValue);default:throw Ae(13486,{value:t})}}function my(t){return!!t&&"integerValue"in t}function Pv(t){return!!t&&"arrayValue"in t}function H1(t){return!!t&&"nullValue"in t}function q1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function n3(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HA])==null?void 0:s.stringValue)===qA}function eu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ja(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=eu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(t.arrayValue.values[n]);return e}return{...t}}function i3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=pn.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=eu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ja(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new hi(eu(this.value))}}function GA(t){const e=[];return Ja(t.fields,((n,s)=>{const a=new pn([n]);if(Hf(s)){const l=GA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new bn(e,0,Ne.min(),Ne.min(),Ne.min(),hi.empty(),0)}static newFoundDocument(e,n,s,a){return new bn(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new bn(e,2,n,Ne.min(),Ne.min(),hi.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Ne.min(),Ne.min(),hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.position=e,this.inclusive=n}}function G1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Te.comparator(Te.fromName(c.referenceValue),n.key):s=xl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function $1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function s3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{}class Qt extends $A{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new a3(e,n,s):n==="array-contains"?new c3(e,s):n==="in"?new u3(e,s):n==="not-in"?new h3(e,s):n==="array-contains-any"?new f3(e,s):new Qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new o3(e,s):new l3(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends $A{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ys(e,n)}matches(e){return KA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KA(t){return t.op==="and"}function YA(t){return r3(t)&&KA(t)}function r3(t){for(const e of t.filters)if(e instanceof ys)return!1;return!0}function py(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(YA(t))return t.filters.map((e=>py(e))).join(",");{const e=t.filters.map((n=>py(n))).join(",");return`${t.op}(${e})`}}function XA(t,e){return t instanceof Qt?(function(s,a){return a instanceof Qt&&s.op===a.op&&s.field.isEqual(a.field)&&gs(s.value,a.value)})(t,e):t instanceof ys?(function(s,a){return a instanceof ys&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&XA(c,a.filters[f])),!0):!1})(t,e):void Ae(19439)}function QA(t){return t instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`})(t):t instanceof ys?(function(n){return n.op.toString()+" {"+n.getFilters().map(QA).join(" ,")+"}"})(t):"Filter"}class a3 extends Qt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class o3 extends Qt{constructor(e,n){super(e,"in",n),this.keys=WA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l3 extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=WA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function WA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Te.fromName(s.referenceValue)))}class c3 extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pv(n)&&yu(n.arrayValue,this.value)}}class u3 extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class h3 extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class f3 extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function K1(t,e=null,n=[],s=[],a=null,l=null,c=null){return new d3(t,e,n,s,a,l,c)}function kv(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>py(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Tl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Tl(s))).join(",")),e.Te=n}return e.Te}function Ov(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$1(t.startAt,e.startAt)&&$1(t.endAt,e.endAt)}function gy(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m3(t,e,n,s,a,l,c,f){return new ku(t,e,n,s,a,l,c,f)}function ZA(t){return new ku(t)}function Y1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p3(t){return t.collectionGroup!==null}function tu(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Wt(pn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ud(l,s))})),n.has(pn.keyField().canonicalString())||e.Ie.push(new ud(pn.keyField(),s))}return e.Ie}function us(t){const e=Me(t);return e.Ee||(e.Ee=g3(e,tu(t))),e.Ee}function g3(t,e){if(t.limitType==="F")return K1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ud(a.field,l)}));const n=t.endAt?new cd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new cd(t.startAt.position,t.startAt.inclusive):null;return K1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function yy(t,e,n){return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Od(t,e){return Ov(us(t),us(e))&&t.limitType===e.limitType}function JA(t){return`${kv(us(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>QA(a))).join(", ")}]`),Pd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Tl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Tl(a))).join(",")),`Target(${s})`})(us(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Te.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of tu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,d){const p=G1(c,f,d);return c.inclusive?p<=0:p<0})(s.startAt,tu(s),a)||s.endAt&&!(function(c,f,d){const p=G1(c,f,d);return c.inclusive?p>=0:p>0})(s.endAt,tu(s),a))})(t,e)}function y3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e2(t){return(e,n)=>{let s=!1;for(const a of tu(t)){const l=v3(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function v3(t,e,n){const s=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(l,c,f){const d=c.data.field(l),p=f.data.field(l);return d!==null&&p!==null?xl(d,p):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return jA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new St(Te.comparator);function Qs(){return _3}const t2=new St(Te.comparator);function Kc(...t){let e=t2;for(const n of t)e=e.insert(n.key,n);return e}function n2(t){let e=t2;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ua(){return nu()}function i2(){return nu()}function nu(){return new eo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const b3=new St(Te.comparator),x3=new Wt(Te.comparator);function He(...t){let e=x3;for(const n of t)e=e.add(n);return e}const T3=new Wt(Fe);function E3(){return T3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function s2(t){return{integerValue:""+t}}function w3(t,e){return Qj(e)?s2(e):Vv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this._=void 0}}function S3(t,e,n){return t instanceof vu?(function(a,l){const c={fields:{[BA]:{stringValue:UA},[FA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Mv(l)&&(l=kd(l)),l&&(c.fields[zA]=l),{mapValue:c}})(n,e):t instanceof _u?a2(t,e):t instanceof bu?o2(t,e):(function(a,l){const c=r2(a,l),f=X1(c)+X1(a.Ae);return my(c)&&my(a.Ae)?s2(f):Vv(a.serializer,f)})(t,e)}function A3(t,e,n){return t instanceof _u?a2(t,e):t instanceof bu?o2(t,e):n}function r2(t,e){return t instanceof hd?(function(s){return my(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class vu extends jd{}class _u extends jd{constructor(e){super(),this.elements=e}}function a2(t,e){const n=l2(e);for(const s of t.elements)n.some((a=>gs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class bu extends jd{constructor(e){super(),this.elements=e}}function o2(t,e){let n=l2(e);for(const s of t.elements)n=n.filter((a=>!gs(a,s)));return{arrayValue:{values:n}}}class hd extends jd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function X1(t){return kt(t.integerValue||t.doubleValue)}function l2(t){return Pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.field=e,this.transform=n}}function C3(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof _u&&a instanceof _u||s instanceof bu&&a instanceof bu?bl(s.elements,a.elements,gs):s instanceof hd&&a instanceof hd?gs(s.Ae,a.Ae):s instanceof vu&&a instanceof vu})(t.transform,e.transform)}class N3{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ld{}function c2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jv(t.key,Ii.none()):new Ou(t.key,t.data,Ii.none());{const n=t.data,s=hi.empty();let a=new Wt(pn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new to(t.key,s,new Ci(a.toArray()),Ii.none())}}function I3(t,e,n){t instanceof Ou?(function(a,l,c){const f=a.value.clone(),d=W1(a.fieldTransforms,l,c.transformResults);f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof to?(function(a,l,c){if(!qf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=W1(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(u2(a)),d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function iu(t,e,n,s){return t instanceof Ou?(function(l,c,f,d){if(!qf(l.precondition,c))return f;const p=l.value.clone(),v=Z1(l.fieldTransforms,d,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof to?(function(l,c,f,d){if(!qf(l.precondition,c))return f;const p=Z1(l.fieldTransforms,d,c),v=c.data;return v.setAll(u2(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,f){return qf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function D3(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=r2(s.transform,a||null);l!=null&&(n===null&&(n=hi.empty()),n.set(s.field,l))}return n||null}function Q1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&bl(s,a,((l,c)=>C3(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends Ld{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class to extends Ld{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function u2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function W1(t,e,n){const s=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,A3(c,f,n[a]))}return s}function Z1(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,S3(l,c,e))}return s}class jv extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M3 extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&I3(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=i2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const d=c2(c,f);d!==null&&s.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((n,s)=>Q1(n,s)))&&bl(this.baseMutations,e.baseMutations,((n,s)=>Q1(n,s)))}}class Lv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return b3})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Lv(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,$e;function V3(t){switch(t){case ce.OK:return Ae(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function h2(t){if(t===void 0)return Xs("GRPC error has no .code"),ce.UNKNOWN;switch(t){case qt.OK:return ce.OK;case qt.CANCELLED:return ce.CANCELLED;case qt.UNKNOWN:return ce.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ce.INTERNAL;case qt.UNAVAILABLE:return ce.UNAVAILABLE;case qt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case qt.NOT_FOUND:return ce.NOT_FOUND;case qt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case qt.ABORTED:return ce.ABORTED;case qt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case qt.DATA_LOSS:return ce.DATA_LOSS;default:return Ae(39323,{code:t})}}($e=qt||(qt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new zr([4294967295,4294967295],0);function J1(t){const e=j3().encode(t),n=new RA;return n.update(e),new Uint8Array(n.digest())}function eE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zr([n,s],0),new zr([a,l],0)]}class Uv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yc(`Invalid padding: ${n}`);if(s<0)throw new Yc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(zr.fromNumber(s)));return a.compare(L3)===1&&(a=new zr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=J1(e),[s,a]=eE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Uv(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=J1(e),[s,a]=eE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ud(Ne.min(),a,new St(Fe),Qs(),He())}}class Vu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vu(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class f2{constructor(e,n){this.targetId=e,this.Ce=n}}class d2{constructor(e,n,s=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class tE{constructor(){this.ve=0,this.Fe=nE(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}})),new Vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=nE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qs(),this.Je=Cf(),this.He=Cf(),this.Ye=new St(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(gy(l))if(s===0){const c=new Te(l.path);this.et(n,c,bn.newNoDocument(c,Ne.min()))}else nt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),d=f?this.ct(f,e,c):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Wr(s).toUint8Array()}catch(d){if(d instanceof LA)return _l("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new Uv(c,a,l)}catch(d){return _l(d instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&gy(f.target)){const d=new Te(f.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,bn.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=He();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ud(e,n,this.Ye,this.je,s);return this.je=Qs(),this.Je=Cf(),this.He=Cf(),this.Ye=new St(Fe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cf(){return new St(Te.comparator)}function nE(){return new St(Te.comparator)}const B3={asc:"ASCENDING",desc:"DESCENDING"},z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F3={and:"AND",or:"OR"};class H3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vy(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q3(t,e){return fd(t,e.toTimestamp())}function hs(t){return nt(!!t,49232),Ne.fromTimestamp((function(n){const s=Qr(n);return new yt(s.seconds,s.nanos)})(t))}function Bv(t,e){return _y(t,e).canonicalString()}function _y(t,e){const n=(function(a){return new mt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function p2(t){const e=mt.fromString(t);return nt(b2(e),10190,{key:e.toString()}),e}function by(t,e){return Bv(t.databaseId,e.path)}function Eg(t,e){const n=p2(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(y2(n))}function g2(t,e){return Bv(t.databaseId,e)}function G3(t){const e=p2(t);return e.length===4?mt.emptyPath():y2(e)}function xy(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y2(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function iE(t,e,n){return{name:by(t,e),fields:n.value.mapValue.fields}}function $3(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(nt(v===void 0||typeof v=="string",58123),gn.fromBase64String(v||"")):(nt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),gn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ce.UNKNOWN:h2(p.code);return new _e(v,p.message||"")})(c);n=new d2(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Eg(t,s.document.name),l=hs(s.document.updateTime),c=s.document.createTime?hs(s.document.createTime):Ne.min(),f=new hi({mapValue:{fields:s.document.fields}}),d=bn.newFoundDocument(a,l,c,f),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Gf(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Eg(t,s.document),l=s.readTime?hs(s.readTime):Ne.min(),c=bn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Gf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Eg(t,s.document),l=s.removedTargetIds||[];n=new Gf([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new O3(a,l),f=s.targetId;n=new f2(f,c)}}return n}function K3(t,e){let n;if(e instanceof Ou)n={update:iE(t,e.key,e.value)};else if(e instanceof jv)n={delete:by(t,e.key)};else if(e instanceof to)n={update:iE(t,e.key,e.data),updateMask:n6(e.fieldMask)};else{if(!(e instanceof M3))return Ae(16599,{Vt:e.type});n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof vu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof _u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof hd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ae(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:q3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(t,e.precondition)),n}function Y3(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?hs(a.updateTime):hs(l);return c.isEqual(Ne.min())&&(c=hs(l)),new N3(c,a.transformResults||[])})(n,e)))):[]}function X3(t,e){return{documents:[g2(t,e.path)]}}function Q3(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=g2(t,a);const l=(function(p){if(p.length!==0)return _2(ys.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(E){return{field:el(E.field),direction:J3(E.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=vy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function W3(t){let e=G3(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){nt(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const E=v2(b);return E instanceof ys&&YA(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((E=>(function(L){return new ud(tl(L.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let E;return E=typeof b=="object"?b.value:b,Pd(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(b){const E=!!b.before,A=b.values||[];return new cd(A,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const E=!b.before,A=b.values||[];return new cd(A,E)})(n.endAt)),m3(e,a,c,l,f,"F",d,p)}function Z3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=tl(n.unaryFilter.field);return Qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=tl(n.unaryFilter.field);return Qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=tl(n.unaryFilter.field);return Qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=tl(n.unaryFilter.field);return Qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qt.create(tl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ys.create(n.compositeFilter.filters.map((s=>v2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function J3(t){return B3[t]}function e6(t){return z3[t]}function t6(t){return F3[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return pn.fromServerFormat(t.fieldPath)}function _2(t){return t instanceof Qt?(function(n){if(n.op==="=="){if(q1(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(H1(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q1(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(H1(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:e6(n.op),value:n.value}}})(t):t instanceof ys?(function(n){const s=n.getFilters().map((a=>_2(a)));return s.length===1?s[0]:{compositeFilter:{op:t6(n.op),filters:s}}})(t):Ae(54877,{filter:t})}function n6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function b2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,s,a,l=Ne.min(),c=Ne.min(),f=gn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.yt=e}}function s6(t){const e=W3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.Cn=new a6}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Xr.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class a6{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Wt(mt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Wt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x2=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(x2,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="LruGarbageCollector",o6=1048576;function aE([t,e],[n,s]){const a=Fe(t,n);return a===0?Fe(e,s):a}class l6{constructor(e){this.Ir=e,this.buffer=new Wt(aE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class c6{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(rE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pl(n)?ge(rE,"Ignoring IndexedDB error during garbage collection: ",n):await Ml(n)}await this.Vr(3e5)}))}}class u6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Md.ce);const s=new l6(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(sE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),Zo()<=ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(d-f)+`ms
	Removed ${b} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function h6(t,e){return new u6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.changes=new eo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&iu(s.mutation,a,Ci.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const a=Ua();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Kc();return l.forEach(((f,d)=>{c=c.insert(f,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ua();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=Qs();const c=nu(),f=(function(){return nu()})();return n.forEach(((d,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof to)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),iu(v.mutation,p,v.mutation.getFieldMask(),yt.now())):c.set(p.key,Ci.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>f.set(p,new d6(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=nu();let a=new St(((c,f)=>c-f)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let v=s.get(d)||Ci.empty();v=f.applyToLocalView(p,v),s.set(d,v);const b=(a.get(f.batchId)||He()).add(d);a=a.insert(f.batchId,b)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,v=d.value,b=i2();v.forEach((E=>{if(!l.has(E)){const A=c2(n.get(E),s.get(E));A!==null&&b.set(E,A),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return oe.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):oe.resolve(Ua());let f=mu,d=l;return c.next((p=>oe.forEach(p,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{d=d.insert(v,E)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,He()))).next((v=>({batchId:f,changes:n2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let a=Kc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Kc();return this.indexManager.getCollectionParents(e,l).next((f=>oe.forEach(f,(d=>{const p=(function(b,E){return new ku(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((v=>{v.forEach(((b,E)=>{c=c.insert(b,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((d,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,bn.newInvalidDocument(v)))}));let f=Kc();return c.forEach(((d,p)=>{const v=l.get(d);v!==void 0&&iu(v.mutation,p,Ci.empty(),yt.now()),Vd(n,p)&&(f=f.insert(d,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:hs(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:s6(a.bundledQuery),readTime:hs(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.overlays=new St(Te.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ua();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const a=Ua(),l=n.length+1,c=new Te(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new St(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Ua(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Ua(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return oe.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new k3(n,s));let l=this.qr.get(n);l===void 0&&(l=He(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.Qr=new Wt(nn.$r),this.Ur=new Wt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new nn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Te(new mt([])),s=new nn(n,e),a=new nn(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new mt([])),s=new nn(n,e),a=new nn(n,e+1);let l=He();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new nn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(nn.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new P3(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new nn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Dv:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new nn(n,0),a=new nn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Wt(Fe);return n.forEach((a=>{const l=new nn(a,0),c=new nn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Te.isDocumentKey(l)||(l=l.child(""));const c=new nn(new Te(l),0);let f=new Wt(Fe);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(d.Yr)),!0)}),c),oe.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new nn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new nn(n,0),a=this.Zr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.ri=e,this.docs=(function(){return new St(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let s=Qs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():bn.newInvalidDocument(a))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Qs();const c=n.path,f=new Te(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||$j(Gj(v),s)<=0||(a.has(v.key)||Vd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ae(9500)}ii(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new b6(this)}getSize(e){return oe.resolve(this.size)}}class b6 extends f6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.persistence=e,this.si=new eo((n=>kv(n)),Ov),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new zv,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new El(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Md(0),this.li=!1,this.li=!0,this.hi=new y6,this.referenceDelegate=e(this),this.Pi=new x6(this),this.indexManager=new r6,this.remoteDocumentCache=(function(a){return new _6(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new i6(n),this.Ii=new p6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new v6(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const a=new T6(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class T6 extends Yj{constructor(e){super(),this.currentSequenceNumber=e}}class Fv{constructor(e){this.persistence=e,this.Ri=new zv,this.Vi=null}static mi(e){return new Fv(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const a=Te.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dd{constructor(e,n){this.persistence=e,this.pi=new eo((s=>Wj(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=h6(this,n)}static mi(e,n){return new dd(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,l.removeEntry(c,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}br(e,n,s){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=He(),a=He();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Hv(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pV()?8:Xj(Tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new E6;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Zo()<=ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Zo()<=ze.DEBUG&&ge("QueryEngine","Query:",Jo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Zo()<=ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,us(n))):oe.resolve())}ys(e,n){if(Y1(n))return oe.resolve(null);let s=us(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=yy(n,null,"F"),s=us(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=He(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((d=>{const p=this.Ds(n,f);return this.Cs(n,p,c,d.readTime)?this.ys(e,yy(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,s,a){return Y1(n)||a.isEqual(Ne.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?oe.resolve(null):(Zo()<=ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jo(n)),this.vs(e,c,n,qj(a,mu)).next((f=>f)))}))}Ds(e,n){let s=new Wt(e2(e));return n.forEach(((a,l)=>{Vd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Zo()<=ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.ps.getDocumentsMatchingQuery(e,n,Xr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="LocalStore",S6=3e8;class A6{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new St(Fe),this.xs=new eo((l=>kv(l)),Ov),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function R6(t,e,n,s){return new A6(t,e,n,s)}async function E2(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let d=He();for(const p of a){c.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(s,d).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function C6(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,d,p,v){const b=p.batch,E=b.keys();let A=oe.resolve();return E.forEach((L=>{A=A.next((()=>v.getEntry(d,L))).next((M=>{const I=p.docVersions.get(L);nt(I!==null,48541),M.version.compareTo(I)<0&&(b.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),v.addEntry(M)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(d,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let d=He();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function w2(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function N6(t,e){const n=Me(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const E=a.get(b);if(!E)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let A=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(gn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,s)),a=a.insert(b,A),(function(M,I,O){return M.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=S6?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(E,A,v)&&f.push(n.Pi.updateTargetData(l,A))}));let d=Qs(),p=He();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(I6(l,c,e.documentUpdates).next((v=>{d=v.ks,p=v.qs}))),!s.isEqual(Ne.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return oe.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function I6(t,e,n){let s=He(),a=He();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Qs();return n.forEach(((f,d)=>{const p=l.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),d.isNoDocument()&&d.version.isEqual(Ne.min())?(e.removeEntry(f,d.readTime),c=c.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(f,d)):ge(qv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function D6(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Dv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function M6(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Lr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ty(t,e,n){const s=Me(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Pl(c))throw c;ge(qv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function oE(t,e,n){const s=Me(t);let a=Ne.min(),l=He();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,v){const b=Me(d),E=b.xs.get(v);return E!==void 0?oe.resolve(b.Ms.get(E)):b.Pi.getTargetData(p,v)})(s,c,us(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((d=>{l=d}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ne.min(),n?l:He()))).next((f=>(P6(s,y3(e),f),{documents:f,Qs:l})))))}function P6(t,e,n){let s=t.Os.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class lE{constructor(){this.activeTargetIds=E3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k6{constructor(){this.Mo=new lE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="ConnectivityMonitor";class uE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(cE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(cE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf=null;function Ey(){return Nf===null?Nf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nf++,"0x"+Nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="RestConnection",V6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===od?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=Ey(),f=this.zo(e,n.toUriEncodedString());ge(wg,`Sending RPC '${e}' ${c}:`,f,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(f),v=na(p);return this.Jo(e,f,d,s,v).then((b=>(ge(wg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw _l(wg,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=V6[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class U6 extends j6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=Ey();return new Promise(((f,d)=>{const p=new CA;p.setWithCredentials(!0),p.listenOnce(NA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case zf.NO_ERROR:const b=p.getResponseJson();ge(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case zf.TIMEOUT:ge(vn,`RPC '${e}' ${c} timed out`),d(new _e(ce.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const E=p.getStatus();if(ge(vn,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const L=A==null?void 0:A.error;if(L&&L.status&&L.message){const M=(function(O){const V=O.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(V)>=0?V:ce.UNKNOWN})(L.status);d(new _e(M,L.message))}else d(new _e(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new _e(ce.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(vn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ge(vn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=Ey(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=MA(),f=DA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const v=l.join("");ge(vn,`Creating RPC '${e}' stream ${a}: ${v}`,d);const b=c.createWebChannel(v,d);this.I_(b);let E=!1,A=!1;const L=new L6({Yo:I=>{A?ge(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(E||(ge(vn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),ge(vn,`RPC '${e}' stream ${a} sending:`,I),b.send(I))},Zo:()=>b.close()}),M=(I,O,V)=>{I.listen(O,(k=>{try{V(k)}catch(W){setTimeout((()=>{throw W}),0)}}))};return M(b,$c.EventType.OPEN,(()=>{A||(ge(vn,`RPC '${e}' stream ${a} transport opened.`),L.o_())})),M(b,$c.EventType.CLOSE,(()=>{A||(A=!0,ge(vn,`RPC '${e}' stream ${a} transport closed`),L.a_(),this.E_(b))})),M(b,$c.EventType.ERROR,(I=>{A||(A=!0,_l(vn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),L.a_(new _e(ce.UNAVAILABLE,"The operation could not be completed")))})),M(b,$c.EventType.MESSAGE,(I=>{var O;if(!A){const V=I.data[0];nt(!!V,16349);const k=V,W=(k==null?void 0:k.error)||((O=k[0])==null?void 0:O.error);if(W){ge(vn,`RPC '${e}' stream ${a} received error:`,W);const ee=W.status;let re=(function(D){const z=qt[D];if(z!==void 0)return h2(z)})(ee),N=W.message;re===void 0&&(re=ce.INTERNAL,N="Unknown error status: "+ee+" with message "+W.message),A=!0,L.a_(new _e(re,N)),b.close()}else ge(vn,`RPC '${e}' stream ${a} received:`,V),L.u_(V)}})),M(f,IA.STAT_EVENT,(I=>{I.stat===hy.PROXY?ge(vn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===hy.NOPROXY&&ge(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){return new H3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class A2{constructor(e,n,s,a,l,c,f,d){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new S2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Xs(n.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(hE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B6 extends A2{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$3(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?hs(c.readTime):Ne.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xy(this.serializer),n.addTarget=(function(l,c){let f;const d=c.target;if(f=gy(d)?{documents:X3(l,d)}:{query:Q3(l,d).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=m2(l,c.resumeToken);const p=vy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ne.min())>0){f.readTime=fd(l,c.snapshotVersion.toTimestamp());const p=vy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=Z3(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xy(this.serializer),n.removeTarget=e,this.q_(n)}}class z6 extends A2{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Y3(e.writeResults,e.commitTime),s=hs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>K3(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{}class H6 extends F6{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,_y(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ce.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,_y(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ce.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xs(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="RemoteStore";class G6{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{no(this)&&(ge(Ya,"Restarting streams for network reachability change."),await(async function(d){const p=Me(d);p.Ea.add(4),await ju(p),p.Ra.set("Unknown"),p.Ea.delete(4),await zd(p)})(this))}))})),this.Ra=new q6(s,a)}}async function zd(t){if(no(t))for(const e of t.da)await e(!0)}async function ju(t){for(const e of t.da)await e(!1)}function R2(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yv(n)?Kv(n):kl(n).O_()&&$v(n,e))}function Gv(t,e){const n=Me(t),s=kl(n);n.Ia.delete(e),s.O_()&&C2(n,e),n.Ia.size===0&&(s.O_()?s.L_():no(n)&&n.Ra.set("Unknown"))}function $v(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).Y_(e)}function C2(t,e){t.Va.Ue(e),kl(t).Z_(e)}function Kv(t){t.Va=new U3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.Ra.ua()}function Yv(t){return no(t)&&!kl(t).x_()&&t.Ia.size>0}function no(t){return Me(t).Ea.size===0}function N2(t){t.Va=void 0}async function $6(t){t.Ra.set("Online")}async function K6(t){t.Ia.forEach(((e,n)=>{$v(t,e)}))}async function Y6(t,e){N2(t),Yv(t)?(t.Ra.ha(e),Kv(t)):t.Ra.set("Unknown")}async function X6(t,e,n){if(t.Ra.set("Online"),e instanceof d2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){ge(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await md(t,s)}else if(e instanceof Gf?t.Va.Ze(e):e instanceof f2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const s=await w2(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(d.resumeToken,c))}})),f.targetMismatches.forEach(((d,p)=>{const v=l.Ia.get(d);if(!v)return;l.Ia.set(d,v.withResumeToken(gn.EMPTY_BYTE_STRING,v.snapshotVersion)),C2(l,d);const b=new Lr(v.target,d,p,v.sequenceNumber);$v(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){ge(Ya,"Failed to raise snapshot:",s),await md(t,s)}}async function md(t,e,n){if(!Pl(e))throw e;t.Ea.add(1),await ju(t),t.Ra.set("Offline"),n||(n=()=>w2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(Ya,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zd(t)}))}function I2(t,e){return e().catch((n=>md(t,n,e)))}async function Fd(t){const e=Me(t),n=Jr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dv;for(;Q6(e);)try{const a=await D6(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,W6(e,a)}catch(a){await md(e,a)}D2(e)&&M2(e)}function Q6(t){return no(t)&&t.Ta.length<10}function W6(t,e){t.Ta.push(e);const n=Jr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function D2(t){return no(t)&&!Jr(t).x_()&&t.Ta.length>0}function M2(t){Jr(t).start()}async function Z6(t){Jr(t).ra()}async function J6(t){const e=Jr(t);for(const n of t.Ta)e.ea(n.mutations)}async function eL(t,e,n){const s=t.Ta.shift(),a=Lv.from(s,e,n);await I2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Fd(t)}async function tL(t,e){e&&Jr(t).X_&&await(async function(s,a){if((function(c){return V3(c)&&c!==ce.ABORTED})(a.code)){const l=s.Ta.shift();Jr(s).B_(),await I2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Fd(s)}})(t,e),D2(t)&&M2(t)}async function fE(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ge(Ya,"RemoteStore received new credentials");const s=no(n);n.Ea.add(3),await ju(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zd(n)}async function nL(t,e){const n=Me(t);e?(n.Ea.delete(2),await zd(n)):e||(n.Ea.add(2),await ju(n),n.Ra.set("Unknown"))}function kl(t){return t.ma||(t.ma=(function(n,s,a){const l=Me(n);return l.sa(),new B6(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:$6.bind(null,t),t_:K6.bind(null,t),r_:Y6.bind(null,t),H_:X6.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Yv(t)?Kv(t):t.Ra.set("Unknown")):(await t.ma.stop(),N2(t))}))),t.ma}function Jr(t){return t.fa||(t.fa=(function(n,s,a){const l=Me(n);return l.sa(),new z6(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Z6.bind(null,t),r_:tL.bind(null,t),ta:J6.bind(null,t),na:eL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Fd(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(Ya,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new Xv(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qv(t,e){if(Xs("AsyncQueue",`${e}: ${t}`),Pl(t))return new _e(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=Kc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ul;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.ga=new St(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class wl{constructor(e,n,s,a,l,c,f,d,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new wl(e,n,ul.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sL{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Me(n),l=a.queries;a.queries=mE(),l.forEach(((c,f)=>{for(const d of f.Sa)d.onError(s)}))})(this,new _e(ce.ABORTED,"Firestore shutting down"))}}function mE(){return new eo((t=>JA(t)),Od)}async function rL(t,e){const n=Me(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new iL,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Qv(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Wv(n)}async function aL(t,e){const n=Me(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function oL(t,e){const n=Me(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&Wv(n)}function lL(t,e,n){const s=Me(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Wv(t){t.Ca.forEach((e=>{e.next()}))}var wy,pE;(pE=wy||(wy={})).Ma="default",pE.Cache="cache";class cL{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new wl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.key=e}}class k2{constructor(e){this.key=e}}class uL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=e2(e),this.tu=new ul(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new dE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const E=a.get(v),A=Vd(this.query,b)?b:null,L=!!E&&this.mutatedKeys.has(E.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;E&&A?E.data.isEqual(A.data)?L!==M&&(s.track({type:3,doc:A}),I=!0):this.su(E,A)||(s.track({type:2,doc:A}),I=!0,(d&&this.eu(A,d)>0||p&&this.eu(A,p)<0)&&(f=!0)):!E&&A?(s.track({type:0,doc:A}),I=!0):E&&!A&&(s.track({type:1,doc:E}),I=!0,(d||p)&&(f=!0)),I&&(A?(c=c.add(A),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(A,L){const M=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:I})}};return M(A)-M(L)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,c.length!==0||p?{snapshot:new wl(this.query,e.tu,l,c,e.mutatedKeys,d===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new k2(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new P2(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zv="SyncEngine";class hL{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class fL{constructor(e){this.key=e,this.hu=!1}}class dL{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new eo((f=>JA(f)),Od),this.Iu=new Map,this.Eu=new Set,this.du=new St(Te.comparator),this.Au=new Map,this.Ru=new zv,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mL(t,e,n=!0){const s=B2(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await O2(s,e,n,!0),a}async function pL(t,e){const n=B2(t);await O2(n,e,!0,!1)}async function O2(t,e,n,s){const a=await M6(t.localStore,us(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await gL(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&R2(t.remoteStore,a),f}async function gL(t,e,n,s,a){t.pu=(b,E,A)=>(async function(M,I,O,V){let k=I.view.ru(O);k.Cs&&(k=await oE(M.localStore,I.query,!1).then((({documents:N})=>I.view.ru(N,k))));const W=V&&V.targetChanges.get(I.targetId),ee=V&&V.targetMismatches.get(I.targetId)!=null,re=I.view.applyChanges(k,M.isPrimaryClient,W,ee);return yE(M,I.targetId,re.au),re.snapshot})(t,b,E,A);const l=await oE(t.localStore,e,!0),c=new uL(e,l.Qs),f=c.ru(l.documents),d=Vu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,d);yE(t,n,p.au);const v=new hL(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function yL(t,e,n){const s=Me(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Od(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ty(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Gv(s.remoteStore,a.targetId),Sy(s,a.targetId)})).catch(Ml)):(Sy(s,a.targetId),await Ty(s.localStore,a.targetId,!0))}async function vL(t,e){const n=Me(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gv(n.remoteStore,s.targetId))}async function _L(t,e,n){const s=AL(t);try{const a=await(function(c,f){const d=Me(c),p=yt.now(),v=f.reduce(((A,L)=>A.add(L.key)),He());let b,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let L=Qs(),M=He();return d.Ns.getEntries(A,v).next((I=>{L=I,L.forEach(((O,V)=>{V.isValidDocument()||(M=M.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,L))).next((I=>{b=I;const O=[];for(const V of f){const k=D3(V,b.get(V.key).overlayedDocument);k!=null&&O.push(new to(V.key,k,GA(k.value.mapValue),Ii.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,O,f)})).next((I=>{E=I;const O=I.applyToLocalDocumentSet(b,M);return d.documentOverlayCache.saveOverlays(A,I.batchId,O)}))})).then((()=>({batchId:E.batchId,changes:n2(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,d){let p=c.Vu[c.currentUser.toKey()];p||(p=new St(Fe)),p=p.insert(f,d),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Lu(s,a.changes),await Fd(s.remoteStore)}catch(a){const l=Qv(a,"Failed to persist write");n.reject(l)}}async function V2(t,e){const n=Me(t);try{const s=await N6(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?nt(c.hu,14607):a.removedDocuments.size>0&&(nt(c.hu,42227),c.hu=!1))})),await Lu(n,s,e)}catch(s){await Ml(s)}}function gE(t,e,n){const s=Me(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const d=Me(c);d.onlineState=f;let p=!1;d.queries.forEach(((v,b)=>{for(const E of b.Sa)E.va(f)&&(p=!0)})),p&&Wv(d)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bL(t,e,n){const s=Me(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new St(Te.comparator);c=c.insert(l,bn.newNoDocument(l,Ne.min()));const f=He().add(l),d=new Ud(Ne.min(),new Map,new St(Fe),c,f);await V2(s,d),s.du=s.du.remove(l),s.Au.delete(e),Jv(s)}else await Ty(s.localStore,e,!1).then((()=>Sy(s,e,n))).catch(Ml)}async function xL(t,e){const n=Me(t),s=e.batch.batchId;try{const a=await C6(n.localStore,e);L2(n,s,null),j2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(n,a)}catch(a){await Ml(a)}}async function TL(t,e,n){const s=Me(t);try{const a=await(function(c,f){const d=Me(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return d.mutationQueue.lookupMutationBatch(p,f).next((b=>(nt(b!==null,37113),v=b.keys(),d.mutationQueue.removeMutationBatch(p,b)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>d.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);L2(s,e,n),j2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Lu(s,a)}catch(a){await Ml(a)}}function j2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function L2(t,e,n){const s=Me(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||U2(t,s)}))}function U2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Gv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Jv(t))}function yE(t,e,n){for(const s of n)s instanceof P2?(t.Ru.addReference(s.key,e),EL(t,s)):s instanceof k2?(ge(Zv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||U2(t,s.key)):Ae(19791,{wu:s})}function EL(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ge(Zv,"New document in limbo: "+n),t.Eu.add(s),Jv(t))}function Jv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(mt.fromString(e)),s=t.fu.next();t.Au.set(s,new fL(n)),t.du=t.du.insert(n,s),R2(t.remoteStore,new Lr(us(ZA(n.path)),s,"TargetPurposeLimboResolution",Md.ce))}}async function Lu(t,e,n){const s=Me(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,d)=>{c.push(s.pu(d,e,n).then((p=>{var v;if((p||n)&&s.isPrimaryClient){const b=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(d.targetId,b?"current":"not-current")}if(p){a.push(p);const b=Hv.As(d.targetId,p);l.push(b)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(d,p){const v=Me(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(p,(E=>oe.forEach(E.Es,(A=>v.persistence.referenceDelegate.addReference(b,E.targetId,A))).next((()=>oe.forEach(E.ds,(A=>v.persistence.referenceDelegate.removeReference(b,E.targetId,A)))))))))}catch(b){if(!Pl(b))throw b;ge(qv,"Failed to update sequence numbers: "+b)}for(const b of p){const E=b.targetId;if(!b.fromCache){const A=v.Ms.get(E),L=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(E,M)}}})(s.localStore,l))}async function wL(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ge(Zv,"User change. New user:",e.toKey());const s=await E2(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((d=>{d.reject(new _e(ce.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lu(n,s.Ls)}}function SL(t,e){const n=Me(t),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let a=He();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function B2(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=V2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bL.bind(null,e),e.Pu.H_=oL.bind(null,e.eventManager),e.Pu.yu=lL.bind(null,e.eventManager),e}function AL(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TL.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return R6(this.persistence,new w6,e.initialUser,this.serializer)}Cu(e){return new T2(Fv.mi,this.serializer)}Du(e){return new k6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class RL extends pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof dd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new c6(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new T2((s=>dd.mi(s,n)),this.serializer)}}class Ay{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wL.bind(null,this.syncEngine),await nL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sL})()}createDatastore(e){const n=Bd(e.databaseInfo.databaseId),s=(function(l){return new U6(l)})(e.databaseInfo);return(function(l,c,f,d){return new H6(l,c,f,d)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new G6(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>gE(this.syncEngine,n,0)),(function(){return uE.v()?new uE:new O6})())}createSyncEngine(e,n){return(function(a,l,c,f,d,p,v){const b=new dL(a,l,c,f,d,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Me(a);ge(Ya,"RemoteStore shutting down."),l.Ea.add(5),await ju(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ay.provider={build:()=>new Ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="FirestoreClient";class NL{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=Cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ge(ea,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ge(ea,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Qv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ag(t,e){t.asyncQueue.verifyOperationInProgress(),ge(ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await E2(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function vE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IL(t);ge(ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>fE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>fE(e.remoteStore,a))),t._onlineComponents=e}async function IL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(ea,"Using user provided OfflineComponentProvider");try{await Ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;_l("Error using user provided cache. Falling back to memory cache: "+n),await Ag(t,new pd)}}else ge(ea,"Using default OfflineComponentProvider"),await Ag(t,new RL(void 0));return t._offlineComponents}async function z2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(ea,"Using user provided OnlineComponentProvider"),await vE(t,t._uninitializedComponentsProvider._online)):(ge(ea,"Using default OnlineComponentProvider"),await vE(t,new Ay))),t._onlineComponents}function DL(t){return z2(t).then((e=>e.syncEngine))}async function ML(t){const e=await z2(t),n=e.eventManager;return n.onListen=mL.bind(null,e.syncEngine),n.onUnlisten=yL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vL.bind(null,e.syncEngine),n}function PL(t,e,n={}){const s=new Fr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,d,p){const v=new CL({next:E=>{v.Nu(),c.enqueueAndForget((()=>aL(l,b))),E.fromCache&&d.source==="server"?p.reject(new _e(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new cL(f,v,{includeMetadataChanges:!0,qa:!0});return rL(l,b)})(await ML(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="firestore.googleapis.com",bE=!0;class xE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H2,this.ssl=bE}else this.host=e.host,this.ssl=e.ssl??bE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o6)throw new _e(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Pj;switch(s.type){case"firstParty":return new jj(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=_E.get(n);s&&(ge("ComponentProvider","Removing Datastore"),_E.delete(n),s.terminate())})(this),Promise.resolve()}}function kL(t,e,n,s={}){var p;t=Yr(t,Uu);const a=na(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Tv(`https://${f}`),Ev("Firestore",!0)),l.host!==H2&&l.host!==f&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:f,ssl:a,emulatorOptions:s};if(!Ga(d,c)&&(t._setSettings(d),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=_n.MOCK_USER;else{v=xA(s.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new _e(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new _n(E)}t._authCredentials=new kj(new kA(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pu(n,sn._jsonSchema))return new sn(e,s||null,new Te(mt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:$t("string",sn._jsonSchemaVersion),referencePath:$t("string")};class Hr extends Bu{constructor(e,n,s){super(e,n,ZA(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Te(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function su(t,e,...n){if(t=rn(t),Nv("collection","path",e),t instanceof Uu){const s=mt.fromString(e,...n);return O1(s),new Hr(t,null,s)}{if(!(t instanceof sn||t instanceof Hr))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(mt.fromString(e,...n));return O1(s),new Hr(t.firestore,null,s)}}function OL(t,e){if(t=Yr(t,Uu),Nv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bu(t,null,(function(s){return new ku(mt.emptyPath(),s)})(e))}function zu(t,e,...n){if(t=rn(t),arguments.length===1&&(e=Cv.newId()),Nv("doc","path",e),t instanceof Uu){const s=mt.fromString(e,...n);return k1(s),new sn(t,null,new Te(s))}{if(!(t instanceof sn||t instanceof Hr))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(mt.fromString(e,...n));return k1(s),new sn(t.firestore,t instanceof Hr?t.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="AsyncQueue";class EE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new S2(this,"async_queue_retry"),this._c=()=>{const s=Sg();s&&ge(TE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pl(e))throw e;ge(TE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Xs("INTERNAL UNHANDLED ERROR: ",wE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Xv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fu extends Uu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new EE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EE(e),this._firestoreClient=void 0,await e}}}function VL(t,e){const n=typeof t=="object"?t:Av(),s=typeof t=="string"?t:od,a=Dd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=vA("firestore");l&&kL(a,...l)}return a}function q2(t){if(t._terminated)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jL(t),t._firestoreClient}function jL(t){var s,a,l;const e=t._freezeSettings(),n=(function(f,d,p,v){return new e3(f,d,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,F2(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new NL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(gn.fromBase64String(e))}catch(n){throw new _e(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:$t("string",fi._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fs._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,fs._jsonSchema))return new fs(e.latitude,e.longitude)}}fs._jsonSchemaVersion="firestore/geoPoint/1.0",fs._jsonSchema={type:$t("string",fs._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ds(e.vectorValues);throw new _e(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:$t("string",ds._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=/^__.*__$/;class UL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}function G2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class n0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(G2(this.Ac)&&LL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bd(e)}Cc(e,n,s,a=!1){return new n0({Ac:e,methodName:n,Dc:s,path:pn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $2(t){const e=t._freezeSettings(),n=Bd(t._databaseId);return new BL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K2(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);W2("Data must be an object, but it was:",c,s);const f=X2(s,c);let d,p;if(l.merge)d=new Ci(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const E=zL(e,b,n);if(!c.contains(E))throw new _e(ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);HL(v,E)||v.push(E)}d=new Ci(v),p=c.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,p=c.fieldTransforms;return new UL(new hi(f),d,p)}class i0 extends t0{_toFieldTransform(e){return new R3(e.path,new vu)}isEqual(e){return e instanceof i0}}function Y2(t,e){if(Q2(t=rn(t)))return W2("Unsupported field value:",e,t),X2(t,e);if(t instanceof t0)return(function(s,a){if(!G2(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let d=Y2(f,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w3(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=yt.fromDate(s);return{timestampValue:fd(a.serializer,l)}}if(s instanceof yt){const l=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fd(a.serializer,l)}}if(s instanceof fs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fi)return{bytesValue:m2(a.serializer,s._byteString)};if(s instanceof sn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Bv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ds)return(function(c,f){return{mapValue:{fields:{[HA]:{stringValue:qA},[ld]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Vv(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Iv(s)}`)})(t,e)}function X2(t,e){const n={};return jA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(t,((s,a)=>{const l=Y2(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Q2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof fs||t instanceof fi||t instanceof sn||t instanceof t0||t instanceof ds)}function W2(t,e,n){if(!Q2(n)||!OA(n)){const s=Iv(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function zL(t,e,n){if((e=rn(e))instanceof e0)return e._internalPath;if(typeof e=="string")return Z2(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const FL=new RegExp("[~\\*/\\[\\]]");function Z2(t,e,n){if(e.search(FL)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new e0(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${a}`),d+=")"),new _e(ce.INVALID_ARGUMENT,f+t+d)}function HL(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qL extends J2{data(){return super.data()}}function eR(t,e){return typeof e=="string"?Z2(t,e):e instanceof e0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $L{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ja(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[ld].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>kt(c.doubleValue)));return new ds(n)}convertGeoPoint(e){return new fs(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=kd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=mt.fromString(e);nt(b2(s),9688,{name:e});const a=new gu(s.get(1),s.get(3)),l=new Te(s.popFirst(5));return a.isEqual(n)||Xs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class If{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hl extends J2{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(eR("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hl._jsonSchemaVersion="firestore/documentSnapshot/1.0",hl._jsonSchema={type:$t("string",hl._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class $f extends hl{data(e={}){return super.data(e)}}class fl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new If(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new $f(this._firestore,this._userDataWriter,s.key,s,new If(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const d=new $f(a._firestore,a._userDataWriter,f.doc.key,f.doc,new If(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const d=new $f(a._firestore,a._userDataWriter,f.doc.key,f.doc,new If(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:KL(f.type),doc:d,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:$t("string",fl._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class YL extends $L{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function Df(t){t=Yr(t,Bu);const e=Yr(t.firestore,Fu),n=q2(e),s=new YL(e);return GL(t._query),PL(n,t._query).then((a=>new fl(e,s,t,a)))}function nR(t,e,n){t=Yr(t,sn);const s=Yr(t.firestore,Fu),a=tR(t.converter,e,n);return s0(s,[K2($2(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ii.none())])}function iR(t){return s0(Yr(t.firestore,Fu),[new jv(t._key,Ii.none())])}function sR(t,e){const n=Yr(t.firestore,Fu),s=zu(t),a=tR(t.converter,e);return s0(n,[K2($2(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Ii.exists(!1))]).then((()=>s))}function s0(t,e){return(function(s,a){const l=new Fr;return s.asyncQueue.enqueueAndForget((async()=>_L(await DL(s),a,l))),l.promise})(q2(t),e)}function Sl(){return new i0("serverTimestamp")}(function(e,n=!0){(function(a){Dl=a})(Za),$a(new Kr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Fu(new Oj(s.getProvider("auth-internal")),new Lj(c,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),cs(I1,D1,e),cs(I1,D1,"esm2020")})();var XL="firebase",QL="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(XL,QL,"app");function rR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WL=rR,aR=new Du("auth","Firebase",rR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new wv("@firebase/auth");function ZL(t,...e){yd.logLevel<=ze.WARN&&yd.warn(`Auth (${Za}): ${t}`,...e)}function Kf(t,...e){yd.logLevel<=ze.ERROR&&yd.error(`Auth (${Za}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,...e){throw r0(t,...e)}function ms(t,...e){return r0(t,...e)}function oR(t,e,n){const s={...WL(),[e]:n};return new Du("auth","Firebase",s).create(e,{appName:t.name})}function qr(t){return oR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return aR.create(t,...e)}function Se(t,e,...n){if(!t)throw r0(e,...n)}function zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kf(e),new Error(e)}function Ws(t,e){t||zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function JL(){return SE()==="http:"||SE()==="https:"}function SE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JL()||fV()||"connection"in navigator)?navigator.onLine:!0}function t5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ws(n>e,"Short delay should be less than long delay!"),this.isMobile=cV()||dV()}get(){return e5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t,e){Ws(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s5=new Hu(3e4,6e4);function io(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ia(t,e,n,s,a={}){return cR(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Mu({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return hV()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&na(t.emulatorConfig.host)&&(p.credentials="include"),lR.fetch()(await uR(t,t.config.apiHost,n,f),p)})}async function cR(t,e,n){t._canInitEmulator=!1;const s={...n5,...e};try{const a=new a5(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Mf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Mf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Mf(t,"user-disabled",c);const v=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw oR(t,v,p);Di(t,v)}}catch(a){if(a instanceof bs)throw a;Di(t,"network-request-failed",{message:String(a)})}}async function Hd(t,e,n,s,a={}){const l=await ia(t,e,n,s,a);return"mfaPendingCredential"in l&&Di(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function uR(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?a0(t.config,a):`${t.config.apiScheme}://${a}`;return i5.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function r5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ms(this.auth,"network-request-failed")),s5.get())})}}function Mf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ms(t,e,s);return a.customData._tokenResponse=n,a}function AE(t){return t!==void 0&&t.enterprise!==void 0}class o5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l5(t,e){return ia(t,"GET","/v2/recaptchaConfig",io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(t,e){return ia(t,"POST","/v1/accounts:delete",e)}async function vd(t,e){return ia(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u5(t,e=!1){const n=rn(t),s=await n.getIdToken(e),a=o0(s);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:ru(Rg(a.auth_time)),issuedAtTime:ru(Rg(a.iat)),expirationTime:ru(Rg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Rg(t){return Number(t)*1e3}function o0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const a=gA(n);return a?JSON.parse(a):(Kf("Failed to decode base64 JWT payload"),null)}catch(a){return Kf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function RE(t){const e=o0(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof bs&&h5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function h5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t){var b;const e=t.auth,n=await t.getIdToken(),s=await xu(t,vd(e,{idToken:n}));Se(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(b=a.providerUserInfo)!=null&&b.length?hR(a.providerUserInfo):[],c=m5(t.providerData,l),f=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=f?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Cy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function d5(t){const e=rn(t);await _d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m5(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function hR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(t,e){const n=await cR(t,{},async()=>{const s=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await uR(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:s};return t.emulatorConfig&&na(t.emulatorConfig.host)&&(d.credentials="include"),lR.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g5(t,e){return ia(t,"POST","/v2/accounts:revokeToken",io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=RE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await p5(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new dl;return s&&(Se(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new f5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Cy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u5(this,e)}reload(){return d5(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await _d(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await xu(this,c5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:A,providerData:L,stsTokenManager:M}=n;Se(b&&M,e,"internal-error");const I=dl.fromJSON(this.name,M);Se(typeof b=="string",e,"internal-error"),Dr(s,e.name),Dr(a,e.name),Se(typeof E=="boolean",e,"internal-error"),Se(typeof A=="boolean",e,"internal-error"),Dr(l,e.name),Dr(c,e.name),Dr(f,e.name),Dr(d,e.name),Dr(p,e.name),Dr(v,e.name);const O=new Ni({uid:b,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:I,createdAt:p,lastLoginAt:v});return L&&Array.isArray(L)&&(O.providerData=L.map(V=>({...V}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new dl;a.updateFromServerResponse(n);const l=new Ni({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await _d(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?hR(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new dl;f.updateFromIdToken(s);const d=new Ni({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Cy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;function Fs(t){Ws(t instanceof Function,"Expected a class definition");let e=CE.get(t);return e?(Ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fR.type="NONE";const NE=fR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t,e,n){return`firebase:${t}:${e}:${n}`}class ml{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Yf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Yf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vd(this.auth,{idToken:e}).catch(()=>{});return n?Ni._fromGetAccountInfoResponse(this.auth,n,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ml(Fs(NE),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Fs(NE);const c=Yf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const E=await vd(e,{idToken:v}).catch(()=>{});if(!E)break;b=await Ni._fromGetAccountInfoResponse(e,E,v)}else b=Ni._fromJSON(e,v);p!==l&&(f=b),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new ml(l,e,s):(l=d[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new ml(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vR(e))return"Blackberry";if(_R(e))return"Webos";if(mR(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(yR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function dR(t=Tn()){return/firefox\//i.test(t)}function mR(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(t=Tn()){return/crios\//i.test(t)}function gR(t=Tn()){return/iemobile/i.test(t)}function yR(t=Tn()){return/android/i.test(t)}function vR(t=Tn()){return/blackberry/i.test(t)}function _R(t=Tn()){return/webos/i.test(t)}function l0(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y5(t=Tn()){var e;return l0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function v5(){return mV()&&document.documentMode===10}function bR(t=Tn()){return l0(t)||yR(t)||_R(t)||vR(t)||/windows phone/i.test(t)||gR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t,e=[]){let n;switch(t){case"Browser":n=IE(Tn());break;case"Worker":n=`${IE(Tn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const d=e(l);c(d)}catch(d){f(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t,e={}){return ia(t,"GET","/v2/passwordPolicy",io(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=6;class T5{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??x5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new _5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fs(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vd(this,{idToken:e}),s=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===f)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _d(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(qr(this));const n=e?rn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b5(this),n=new T5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await g5(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fs(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[Fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&ZL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ol(t){return rn(t)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=TV(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w5(t){qd=t}function TR(t){return qd.loadJS(t)}function S5(){return qd.recaptchaEnterpriseScript}function A5(){return qd.gapiScript}function R5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class C5{constructor(){this.enterprise=new N5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class N5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const I5="recaptcha-enterprise",ER="NO_RECAPTCHA";class D5{constructor(e){this.type=I5,this.auth=Ol(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{l5(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new o5(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(d=>{f(d)})})}function a(l,c,f){const d=window.grecaptcha;AE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(ER)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new C5().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&AE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=S5();d.length!==0&&(d+=f),TR(d).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function ME(t,e,n,s=!1,a=!1){const l=new D5(t);let c;if(a)c=ER;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function PE(t,e,n,s,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ME(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ME(t,e,n,n==="getOobCode");return s(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t,e){const n=Dd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ga(l,e??{}))return a;Di(a,"already-initialized")}return n.initialize({options:e})}function P5(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function k5(t,e,n){const s=Ol(t);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=wR(e),{host:c,port:f}=O5(e),d=f===null?"":`:${f}`,p={url:`${l}//${c}${d}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Ga(p,s.config.emulator)&&Ga(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,na(c)?(Tv(`${l}//${c}${d}`),Ev("Auth",!0)):V5()}function wR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O5(t){const e=wR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:kE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:kE(c)}}}function kE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,n){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}async function j5(t,e){return ia(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(t,e){return Hd(t,"POST","/v1/accounts:signInWithPassword",io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e){return Hd(t,"POST","/v1/accounts:signInWithEmailLink",io(t,e))}async function B5(t,e){return Hd(t,"POST","/v1/accounts:signInWithEmailLink",io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends c0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PE(e,n,"signInWithPassword",L5);case"emailLink":return U5(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PE(e,s,"signUpPassword",j5);case"emailLink":return B5(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e){return Hd(t,"POST","/v1/accounts:signInWithIdp",io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="http://localhost";class Xa extends c0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Xa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,pl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:z5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H5(t){const e=qc(Gc(t)).link,n=e?qc(Gc(e)).deep_link_id:null,s=qc(Gc(t)).deep_link_id;return(s?qc(Gc(s)).link:null)||s||n||e||t}class u0{constructor(e){const n=qc(Gc(e)),s=n.apiKey??null,a=n.oobCode??null,l=F5(n.mode??null);Se(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=H5(e);try{return new u0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(e,n){return Tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=u0.parseLink(n);return Se(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends SR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends qu{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xa._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends qu{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends qu{constructor(){super("twitter.com")}static credential(e,n){return Xa._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ni._fromIdTokenResponse(e,s,a),c=OE(s);return new Al({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=OE(s);return new Al({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function OE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends bs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,bd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new bd(e,n,s,a)}}function AR(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?bd._fromErrorAndOperation(t,l,e,s):l})}async function q5(t,e,n=!1){const s=await xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Al._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e,n=!1){const{auth:s}=t;if(ui(s.app))return Promise.reject(qr(s));const a="reauthenticate";try{const l=await xu(t,AR(s,a,e,t),n);Se(l.idToken,s,"internal-error");const c=o0(l.idToken);Se(c,s,"internal-error");const{sub:f}=c;return Se(t.uid===f,s,"user-mismatch"),Al._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Di(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(t,e,n=!1){if(ui(t.app))return Promise.reject(qr(t));const s="signIn",a=await AR(t,s,e),l=await Al._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function $5(t,e){return RR(Ol(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t){const e=Ol(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Y5(t,e,n){return ui(t.app)?Promise.reject(qr(t)):$5(rn(t),Vl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&K5(t),s})}function X5(t,e,n,s){return rn(t).onIdTokenChanged(e,n,s)}function Q5(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function W5(t,e,n,s){return rn(t).onAuthStateChanged(e,n,s)}function Z5(t){return rn(t).signOut()}const xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xd,"1"),this.storage.removeItem(xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=1e3,eU=10;class NR extends CR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,d)=>{this.notifyListeners(c,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);v5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,eU):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},J5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NR.type="LOCAL";const tU=NR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR extends CR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IR.type="SESSION";const DR=IR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Gd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),d=await nU(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,d)=>{const p=h0("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(v),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(){return window}function sU(t){ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){return typeof ps().WorkerGlobalScope<"u"&&typeof ps().importScripts=="function"}async function rU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function oU(){return MR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="firebaseLocalStorageDb",lU=1,Td="firebaseLocalStorage",kR="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $d(t,e){return t.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function cU(){const t=indexedDB.deleteDatabase(PR);return new Gu(t).toPromise()}function Ny(){const t=indexedDB.open(PR,lU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Td,{keyPath:kR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Td)?e(s):(s.close(),await cU(),e(await Ny()))})})}async function VE(t,e,n){const s=$d(t,!0).put({[kR]:e,value:n});return new Gu(s).toPromise()}async function uU(t,e){const n=$d(t,!1).get(e),s=await new Gu(n).toPromise();return s===void 0?null:s.value}function jE(t,e){const n=$d(t,!0).delete(e);return new Gu(n).toPromise()}const hU=800,fU=3;class OR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ny(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>fU)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(oU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await rU(),!this.activeServiceWorker)return;this.sender=new iU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ny();return await VE(e,xd,"1"),await jE(e,xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>VE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uU(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=$d(a,!1).getAll();return new Gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OR.type="LOCAL";const dU=OR;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t,e){return e?Fs(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends c0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pU(t){return RR(t.auth,new f0(t),t.bypassAuthState)}function gU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),G5(n,new f0(t),t.bypassAuthState)}async function yU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),q5(n,new f0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pU;case"linkViaPopup":case"linkViaRedirect":return yU;case"reauthViaPopup":case"reauthViaRedirect":return gU;default:Di(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new Hu(2e3,1e4);class ll extends VR{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=h0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vU.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="pendingRedirect",Xf=new Map;class bU extends VR{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Xf.get(this.auth._key());if(!e){try{const s=await xU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xU(t,e){const n=wU(e),s=EU(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function TU(t,e){Xf.set(t._key(),e)}function EU(t){return Fs(t._redirectPersistence)}function wU(t){return Yf(_U,t.config.apiKey,t.name)}async function SU(t,e,n=!1){if(ui(t.app))return Promise.reject(qr(t));const s=Ol(t),a=mU(s,e),c=await new bU(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=600*1e3;class RU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!jR(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(ms(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AU&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(e))}saveEventToCache(e){this.cachedEventUids.add(LE(e)),this.lastProcessedEventTime=Date.now()}}function LE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e={}){return ia(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DU=/^https?/;async function MU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NU(t);for(const n of e)try{if(PU(n))return}catch{}Di(t,"unauthorized-domain")}function PU(t){const e=Ry(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!DU.test(n))return!1;if(IU.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=new Hu(3e4,6e4);function UE(){const t=ps().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OU(t){return new Promise((e,n)=>{var a,l,c;function s(){UE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UE(),n(ms(t,"network-request-failed"))},timeout:kU.get()})}if((l=(a=ps().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=ps().gapi)!=null&&c.load)s();else{const f=R5("iframefcb");return ps()[f]=()=>{gapi.load?s():n(ms(t,"network-request-failed"))},TR(`${A5()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function VU(t){return Qf=Qf||OU(t),Qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=new Hu(5e3,15e3),LU="__/auth/iframe",UU="emulator/auth/iframe",BU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FU(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?a0(e,UU):`https://${t.config.authDomain}/${LU}`,s={apiKey:e.apiKey,appName:t.name,v:Za},a=zU.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Mu(s).slice(1)}`}async function HU(t){const e=await VU(t),n=ps().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:FU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BU,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=ms(t,"network-request-failed"),f=ps().setTimeout(()=>{l(c)},jU.get());function d(){ps().clearTimeout(f),a(s)}s.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GU=500,$U=600,KU="_blank",YU="http://localhost";class BE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XU(t,e,n,s=GU,a=$U){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const d={...qU,width:s.toString(),height:a.toString(),top:l,left:c},p=Tn().toLowerCase();n&&(f=pR(p)?KU:n),dR(p)&&(e=e||YU,d.scrollbars="yes");const v=Object.entries(d).reduce((E,[A,L])=>`${E}${A}=${L},`,"");if(y5(p)&&f!=="_self")return QU(e||"",f),new BE(null);const b=window.open(e||"",f,v);Se(b,t,"popup-blocked");try{b.focus()}catch{}return new BE(b)}function QU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="__/auth/handler",ZU="emulator/auth/handler",JU=encodeURIComponent("fac");async function zE(t,e,n,s,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Za,eventId:a};if(e instanceof SR){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",xV(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof qu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const d=await t._getAppCheckToken(),p=d?`#${JU}=${encodeURIComponent(d)}`:"";return`${e9(t)}?${Mu(f).slice(1)}${p}`}function e9({config:t}){return t.emulator?a0(t,ZU):`https://${t.authDomain}/${WU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class t9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DR,this._completeRedirectFn=SU,this._overrideRedirectResult=TU}async _openPopup(e,n,s,a){var c;Ws((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await zE(e,n,s,Ry(),a);return XU(e,l,h0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await zE(e,n,s,Ry(),a);return sU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ws(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await HU(e),s=new RU(e);return n.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cg,{type:Cg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[Cg];l!==void 0&&n(!!l),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bR()||mR()||l0()}}const n9=t9;var FE="@firebase/auth",HE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r9(t){$a(new Kr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xR(t)},p=new E5(s,a,l,d);return P5(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$a(new Kr("auth-internal",e=>{const n=Ol(e.getProvider("auth").getImmediate());return(s=>new i9(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(FE,HE,s9(t)),cs(FE,HE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=300,o9=bA("authIdTokenMaxAge")||a9;let qE=null;const l9=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>o9)return;const a=n==null?void 0:n.token;qE!==a&&(qE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function c9(t=Av()){const e=Dd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M5(t,{popupRedirectResolver:n9,persistence:[dU,tU,DR]}),s=bA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=l9(l.toString());Q5(n,c,()=>c(n.currentUser)),X5(n,f=>c(f))}}const a=yA("auth");return a&&k5(n,`http://${a}`),n}function u9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}w5({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ms("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",u9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r9("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebasestorage.googleapis.com",UR="storageBucket",h9=120*1e3,f9=600*1e3,d9=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At extends bs{constructor(e,n,s=0){super(Ng(e),`Firebase Storage: ${n} (${Ng(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ng(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function Ng(t){return"storage/"+t}function d0(){const t="An unknown error occurred, please check the error payload for server response.";return new At(vt.UNKNOWN,t)}function m9(t){return new At(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function p9(t){return new At(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function g9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(vt.UNAUTHENTICATED,t)}function y9(){return new At(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function v9(t){return new At(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function BR(){return new At(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zR(){return new At(vt.CANCELED,"User canceled the upload/download.")}function _9(t){return new At(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function b9(t){return new At(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function x9(){return new At(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UR+"' property when initializing the app?")}function FR(){return new At(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function T9(){return new At(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function E9(){return new At(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w9(t){return new At(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Iy(t){return new At(vt.INVALID_ARGUMENT,t)}function HR(){return new At(vt.APP_DELETED,"The Firebase app was deleted.")}function S9(t){return new At(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function au(t,e){return new At(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fc(t){throw new At(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Yn.makeFromUrl(e,n)}catch{return new Yn(e,"")}if(s.path==="")return s;throw b9(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function p(W){W.path_=decodeURIComponent(W.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${b}/${v}/b/${a}/o${E}`,"i"),L={bucket:1,path:3},M=n===LR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",O=new RegExp(`^https?://${M}/${a}/${I}`,"i"),k=[{regex:f,indices:d,postModify:l},{regex:A,indices:L,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let W=0;W<k.length;W++){const ee=k[W],re=ee.regex.exec(e);if(re){const N=re[ee.indices.bucket];let C=re[ee.indices.path];C||(C=""),s=new Yn(N,C),ee.postModify(s);break}}if(s==null)throw _9(e);return s}}class A9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function d(){return f===2}let p=!1;function v(...I){p||(p=!0,e.apply(null,I))}function b(I){a=setTimeout(()=>{a=null,t(A,d())},I)}function E(){l&&clearTimeout(l)}function A(I,...O){if(p){E();return}if(I){E(),v.call(null,I,...O);return}if(d()||c){E(),v.call(null,I,...O);return}s<64&&(s*=2);let k;f===1?(f=2,k=0):k=(s+Math.random())*1e3,b(k)}let L=!1;function M(I){L||(L=!0,E(),!p&&(a!==null?(I||(f=2),clearTimeout(a),b(0)):I||(f=1)))}return b(0),l=setTimeout(()=>{c=!0,M(!0)},n),M}function C9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){return t!==void 0}function I9(t){return typeof t=="function"}function D9(t){return typeof t=="object"&&!Array.isArray(t)}function Kd(t){return typeof t=="string"||t instanceof String}function GE(t){return m0()&&t instanceof Blob}function m0(){return typeof Blob<"u"}function $E(t,e,n,s){if(s<e)throw Iy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Iy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function qR(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ha;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ha||(Ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n,s,a,l,c,f,d,p,v,b,E=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=E,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,M)=>{this.resolve_=L,this.reject_=M,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Pf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const d=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Ha.NO_ERROR,d=l.getStatus();if(!f||GR(d,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ha.ABORT;s(!1,new Pf(!1,null,v));return}const p=this.successCodes_.indexOf(d)!==-1;s(!0,new Pf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(f,f.getResponse());N9(d)?l(d):l()}catch(d){c(d)}else if(f!==null){const d=d0();d.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,d)):c(d)}else if(a.canceled){const d=this.appDelete_?HR():zR();c(d)}else{const d=BR();c(d)}};this.canceled_?n(!1,new Pf(!1,null,!0)):this.backoffId_=R9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&C9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function P9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function O9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function V9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function j9(t,e,n,s,a,l,c=!0,f=!1){const d=qR(t.urlParams),p=t.url+d,v=Object.assign({},t.headers);return O9(v,e),P9(v,n),k9(v,l),V9(v,s),new M9(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function U9(...t){const e=L9();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(m0())return new Blob(t);throw new At(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function B9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t){if(typeof atob>"u")throw w9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ig{constructor(e,n){this.data=e,this.contentType=n||null}}function F9(t,e){switch(t){case rs.RAW:return new Ig($R(e));case rs.BASE64:case rs.BASE64URL:return new Ig(KR(t,e));case rs.DATA_URL:return new Ig(q9(e),G9(e))}throw d0()}function $R(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=t.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function H9(t){let e;try{e=decodeURIComponent(t)}catch{throw au(rs.DATA_URL,"Malformed data URL.")}return $R(e)}function KR(t,e){switch(t){case rs.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw au(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case rs.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw au(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=z9(e)}catch(a){throw a.message.includes("polyfill")?a:au(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class YR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw au(rs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=$9(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function q9(t){const e=new YR(t);return e.base64?KR(rs.BASE64,e.rest):H9(e.rest)}function G9(t){return new YR(t).contentType}function $9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){let s=0,a="";GE(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(GE(this.data_)){const s=this.data_,a=B9(s,e,n);return a===null?null:new jr(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new jr(s,!0)}}static getBlob(...e){if(m0()){const n=e.map(s=>s instanceof jr?s.data_:s);return new jr(U9.apply(null,n))}else{const n=e.map(c=>Kd(c)?F9(rs.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new jr(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(t){let e;try{e=JSON.parse(t)}catch{return null}return D9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y9(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function QR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t,e){return e}class An{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||X9}}let kf=null;function Q9(t){return!Kd(t)||t.length<2?t:QR(t)}function WR(){if(kf)return kf;const t=[];t.push(new An("bucket")),t.push(new An("generation")),t.push(new An("metageneration")),t.push(new An("name","fullPath",!0));function e(l,c){return Q9(c)}const n=new An("name");n.xform=e,t.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new An("size");return a.xform=s,t.push(a),t.push(new An("timeCreated")),t.push(new An("updated")),t.push(new An("md5Hash",null,!0)),t.push(new An("cacheControl",null,!0)),t.push(new An("contentDisposition",null,!0)),t.push(new An("contentEncoding",null,!0)),t.push(new An("contentLanguage",null,!0)),t.push(new An("contentType",null,!0)),t.push(new An("metadata","customMetadata",!0)),kf=t,kf}function W9(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Yn(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function Z9(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,e[c.server])}return W9(s,t),s}function ZR(t,e,n){const s=XR(e);return s===null?null:Z9(t,s,n)}function J9(t,e,n,s){const a=XR(e);if(a===null||!Kd(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=t.bucket,b=t.fullPath,E="/b/"+c(v)+"/o/"+c(b),A=$u(E,n,s),L=qR({alt:"media",token:p});return A+L})[0]}function JR(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class jl{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t){if(!t)throw d0()}function p0(t,e){function n(s,a){const l=ZR(t,a,e);return qs(l!==null),l}return n}function eB(t,e){function n(s,a){const l=ZR(t,a,e);return qs(l!==null),J9(l,a,t.host,t._protocol)}return n}function Ku(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=y9():a=g9():n.getStatus()===402?a=p9(t.bucket):n.getStatus()===403?a=v9(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function eC(t){const e=Ku(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=m9(t.path)),l.serverResponse=a.serverResponse,l}return n}function tB(t,e,n){const s=e.fullServerUrl(),a=$u(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new jl(a,l,p0(t,n),c);return f.errorHandler=eC(e),f}function nB(t,e,n){const s=e.fullServerUrl(),a=$u(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new jl(a,l,eB(t,n),c);return f.errorHandler=eC(e),f}function iB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tC(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=iB(null,e)),s}function sB(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let k="";for(let W=0;W<2;W++)k=k+Math.random().toString().slice(2);return k}const d=f();c["Content-Type"]="multipart/related; boundary="+d;const p=tC(e,s,a),v=JR(p,n),b="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+d+"--",A=jr.getBlob(b,s,E);if(A===null)throw FR();const L={name:p.fullPath},M=$u(l,t.host,t._protocol),I="POST",O=t.maxUploadRetryTime,V=new jl(M,I,p0(t,n),O);return V.urlParams=L,V.headers=c,V.body=A.uploadData(),V.errorHandler=Ku(e),V}class Ed{constructor(e,n,s,a){this.current=e,this.total=n,this.finalized=!!s,this.metadata=a||null}}function g0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{qs(!1)}return qs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function rB(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c=tC(e,s,a),f={name:c.fullPath},d=$u(l,t.host,t._protocol),p="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},b=JR(c,n),E=t.maxUploadRetryTime;function A(M){g0(M);let I;try{I=M.getResponseHeader("X-Goog-Upload-URL")}catch{qs(!1)}return qs(Kd(I)),I}const L=new jl(d,p,A,E);return L.urlParams=f,L.headers=v,L.body=b,L.errorHandler=Ku(e),L}function aB(t,e,n,s){const a={"X-Goog-Upload-Command":"query"};function l(p){const v=g0(p,["active","final"]);let b=null;try{b=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qs(!1)}b||qs(!1);const E=Number(b);return qs(!isNaN(E)),new Ed(E,s.size(),v==="final")}const c="POST",f=t.maxUploadRetryTime,d=new jl(n,c,l,f);return d.headers=a,d.errorHandler=Ku(e),d}const KE=256*1024;function oB(t,e,n,s,a,l,c,f){const d=new Ed(0,0);if(c?(d.current=c.current,d.total=c.total):(d.current=0,d.total=s.size()),s.size()!==d.total)throw T9();const p=d.total-d.current;let v=p;a>0&&(v=Math.min(v,a));const b=d.current,E=b+v;let A="";v===0?A="finalize":p===v?A="upload, finalize":A="upload";const L={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${d.current}`},M=s.slice(b,E);if(M===null)throw FR();function I(W,ee){const re=g0(W,["active","final"]),N=d.current+v,C=s.size();let D;return re==="final"?D=p0(e,l)(W,ee):D=null,new Ed(N,C,re==="final",D)}const O="POST",V=e.maxUploadRetryTime,k=new jl(n,O,I,V);return k.headers=L,k.body=M.uploadData(),k.progressCallback=f||null,k.errorHandler=Ku(t),k}const Vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Dg(t){switch(t){case"running":case"pausing":case"canceling":return Vn.RUNNING;case"paused":return Vn.PAUSED;case"success":return Vn.SUCCESS;case"canceled":return Vn.CANCELED;case"error":return Vn.ERROR;default:return Vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n,s){if(I9(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class cB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw Fc("cannot .send() more than once");if(na(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uB extends cB{initXhr(){this.xhr_.responseType="text"}}function nl(){return new uB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=WR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(GR(a.status,[]))if(l)a=BR();else{this.sleepTime=Math.max(this.sleepTime*2,d9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=rB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,nl,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const a=aB(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,nl,n,s);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=KE*this._chunkMultiplier,n=new Ed(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=oB(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const f=this._ref.storage._makeRequest(c,nl,a,l,!1);this._request=f,f.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){KE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=tB(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,nl,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=sB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,nl,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=zR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Dg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,a){const l=new lB(n||void 0,s||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Dg(this._state)){case Vn.SUCCESS:Wo(this._resolve.bind(null,this.snapshot))();break;case Vn.CANCELED:case Vn.ERROR:const n=this._reject;Wo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Dg(this._state)){case Vn.RUNNING:case Vn.PAUSED:e.next&&Wo(e.next.bind(e,this.snapshot))();break;case Vn.SUCCESS:e.complete&&Wo(e.complete.bind(e))();break;case Vn.CANCELED:case Vn.ERROR:e.error&&Wo(e.error.bind(e,this._error))();break;default:e.error&&Wo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this._service=e,n instanceof Yn?this._location=n:this._location=Yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qa(e,n)}get root(){const e=new Yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QR(this._location.path)}get storage(){return this._service}get parent(){const e=K9(this._location.path);if(e===null)return null;const n=new Yn(this._location.bucket,e);return new Qa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw S9(e)}}function fB(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new hB(t,new jr(e),n)}function dB(t){t._throwIfRoot("getDownloadURL");const e=nB(t.storage,t._location,WR());return t.storage.makeRequestWithTokens(e,nl).then(n=>{if(n===null)throw E9();return n})}function mB(t,e){const n=Y9(t._location.path,e),s=new Yn(t._location.bucket,n);return new Qa(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t){return/^[A-Za-z]+:\/\//.test(t)}function gB(t,e){return new Qa(t,e)}function nC(t,e){if(t instanceof y0){const n=t;if(n._bucket==null)throw x9();const s=new Qa(n,n._bucket);return e!=null?nC(s,e):s}else return e!==void 0?mB(t,e):t}function yB(t,e){if(e&&pB(e)){if(t instanceof y0)return gB(t,e);throw Iy("To use ref(service, url), the first argument must be a Storage instance.")}else return nC(t,e)}function YE(t,e){const n=e==null?void 0:e[UR];return n==null?null:Yn.makeFromBucketSpec(n,t)}function vB(t,e,n,s={}){t.host=`${e}:${n}`;const a=na(e);a&&(Tv(`https://${t.host}/b`),Ev("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:xA(l,t.app.options.projectId))}class y0{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=LR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h9,this._maxUploadRetryTime=f9,this._requests=new Set,a!=null?this._bucket=Yn.makeFromBucketSpec(a,this._host):this._bucket=YE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yn.makeFromBucketSpec(this._url,e):this._bucket=YE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qa(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new A9(HR());{const c=j9(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const XE="@firebase/storage",QE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="storage";function Yd(t,e,n){return t=rn(t),fB(t,e,n)}function Xd(t){return t=rn(t),dB(t)}function Qd(t,e){return t=rn(t),yB(t,e)}function _B(t=Av(),e){t=rn(t);const s=Dd(t,iC).getImmediate({identifier:e}),a=vA("storage");return a&&bB(s,...a),s}function bB(t,e,n,s={}){vB(t,e,n,s)}function xB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new y0(n,s,a,e,Za)}function TB(){$a(new Kr(iC,xB,"PUBLIC").setMultipleInstances(!0)),cs(XE,QE,""),cs(XE,QE,"esm2020")}TB();const EB={apiKey:"AIzaSyA6ZwxrEPmpvA9j7HYX65qSa-AN4QrHSs8",authDomain:"thedecoratingvaranasi-27aeb.firebaseapp.com",projectId:"thedecoratingvaranasi-27aeb",storageBucket:"thedecoratingvaranasi-27aeb.firebasestorage.app",messagingSenderId:"806526508170",appId:"1:806526508170:web:37ea4a5deeffc7da33a173",measurementId:"G-PFXJQ1YS6L"},v0=wA(EB),Mg=c9(v0),as=VL(v0),Wd=_B(v0),sC=j.createContext({services:uA,products:hA,capturedMoments:[],testimonials:[],loading:!1,refreshData:async()=>{}}),Pi=()=>j.useContext(sC),wB=({children:t})=>{const[e,n]=j.useState(uA),[s,a]=j.useState(hA),[l,c]=j.useState([]),[f,d]=j.useState([]),[p,v]=j.useState(!0),b=async()=>{v(!0);try{const E=su(as,"services"),A=await Df(E),L=OL(as,"items"),M=await Df(L);if(!A.empty){const W=A.docs.map(ee=>{const re=ee.data();return{id:ee.id,title:re.service||re.title,description:re.description,image:re.image,features:re.tags||[],priceStart:re.priceStart||0,...re}});n(W)}if(!M.empty){const W=M.docs.map(ee=>{var N;const re=ee.data();return{id:ee.id,serviceId:((N=ee.ref.parent.parent)==null?void 0:N.id)||"",...re}});a(W)}const I=su(as,"captured_moments"),O=await Df(I);if(!O.empty){const W=O.docs.map(ee=>({id:ee.id,...ee.data()}));c(W)}const V=su(as,"testimonials"),k=await Df(V);if(!k.empty){const W=k.docs.map(ee=>({id:ee.id,...ee.data()}));d(W)}}catch(E){E.code==="permission-denied"?console.warn("Firestore permission denied. Falling back to static data. Ensure Firestore Security Rules allow public read access."):console.error("Error fetching data:",E)}finally{v(!1)}};return j.useEffect(()=>{b()},[]),y.jsx(sC.Provider,{value:{services:e,products:s,capturedMoments:l,testimonials:f,loading:p,refreshData:b},children:t})},SB=()=>{var z;const[t]=dD(),e=Py(),n=t.get("service"),s=t.get("package"),{services:a,products:l}=Pi(),[c,f]=j.useState({fullName:"",phone:"",email:"",serviceId:n||((z=a[0])==null?void 0:z.id)||"birthday",packageId:s||"",date:"",time:"",address:"",guests:50,message:""}),[d,p]=j.useState({}),[v,b]=j.useState(!1),[E,A]=j.useState(!1),[L,M]=j.useState(!1);j.useEffect(()=>{n&&f(P=>({...P,serviceId:n})),s&&f(P=>({...P,packageId:s}))},[n,s]);const I=()=>{const P={},H=/^[6-9]\d{9}$/,U=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(c.fullName.trim()?c.fullName.length<3&&(P.fullName="Name must be at least 3 characters"):P.fullName="Full Name is required",c.phone?H.test(c.phone)||(P.phone="Enter a valid 10-digit Indian number"):P.phone="Phone number is required",c.email&&!U.test(c.email)&&(P.email="Enter a valid email address"),!c.date)P.date="Event date is required";else{const Le=new Date(c.date),We=new Date;We.setHours(0,0,0,0),Le<We&&(P.date="Date cannot be in the past")}return c.address.trim()||(P.address="Venue address is required"),c.guests<5&&(P.guests="Minimum 5 guests required"),p(P),Object.keys(P).length===0},O=P=>{const{name:H,value:U}=P.target;f({...c,[H]:U}),d[H]&&p(Le=>({...Le,[H]:void 0}))},V=P=>{f({...c,serviceId:P.target.value,packageId:""})},k=g1.filter(P=>P.serviceId===c.serviceId),W=a.find(P=>P.id===c.serviceId),ee=l.find(P=>P.id===c.packageId),re=g1.find(P=>P.id===c.packageId),N=async P=>{if(P.preventDefault(),!I())return;b(!0),M(!0);let H="Location: Not shared by user";try{const ue=await new Promise((G,w)=>{navigator.geolocation.getCurrentPosition(G,w,{timeout:8e3,enableHighAccuracy:!0})}),{latitude:pe,longitude:Ce}=ue.coords;H=`Google Maps Location:
https://www.google.com/maps?q=${pe},${Ce}`}catch(ue){console.log("Location access denied or timed out",ue)}finally{M(!1)}const U=(ee==null?void 0:ee.name)||(re==null?void 0:re.name)||"Custom / Not Selected",Le=ee?`${ee.price.toLocaleString()}`:re?`${re.price.toLocaleString()}`:"Contact for pricing",We=`
New Booking - TheDecoratingVaranasi

Service: ${(W==null?void 0:W.title)||"General Inquiry"}

Product Details:
Product Name: ${U}
Price: ${Le}

Customer Details:
Name: ${c.fullName}
Phone: ${c.phone}
Preferred Date: ${c.date}
Address: ${c.address}

${H}

Additional Notes:
${c.message||"None"}
`.trim();A(!0),dA({particleCount:150,spread:70,origin:{y:.6},colors:["#7c3aed","#fbbf24","#ffffff"]});const te=`https://wa.me/${oA}?text=${encodeURIComponent(We)}`;setTimeout(()=>{window.open(te,"_blank"),b(!1)},1500)},C=()=>e(-1);if(E)return y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:y.jsxs(Ge.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl p-8 max-w-md w-full text-center shadow-2xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-500"}),y.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6 text-green-600",children:y.jsx(xw,{className:"w-10 h-10"})}),y.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900 mb-2",children:"Order Initiated!"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Opening WhatsApp with your order details and location..."}),y.jsx("button",{onClick:C,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-3 rounded-xl transition-colors",children:"Close"})]})});const D=P=>`
    w-full p-3 bg-gray-50 rounded-lg border outline-none transition-all
    ${d[P]?"border-red-500 focus:ring-2 focus:ring-red-200 bg-red-50":"border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20"}
  `;return y.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:y.jsxs(Ge.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col md:flex-row relative my-8",children:[y.jsx("button",{onClick:C,className:"absolute top-4 right-4 z-10 bg-white/80 p-2 rounded-full hover:bg-white transition-colors",children:y.jsx(Au,{className:"w-6 h-6 text-gray-600"})}),y.jsxs("div",{className:"w-full md:w-1/3 bg-gray-50 p-6 md:p-8 flex flex-col justify-between border-r border-gray-100",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-gray-400 uppercase tracking-wide mb-6",children:"Summary"}),ee?y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-primary/20 shadow-sm mb-6",children:[y.jsx("span",{className:"text-xs font-bold text-secondary uppercase",children:"Selected Item"}),y.jsx("div",{className:"font-bold text-gray-800 text-lg leading-tight mb-1",children:ee.name}),y.jsxs("div",{className:"text-primary font-bold text-xl",children:["",ee.price.toLocaleString()]}),ee.image&&y.jsx("img",{src:ee.image,className:"w-full h-32 object-cover rounded-lg mt-3",alt:"product"})]}):re?y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-primary/20 shadow-sm mb-6",children:[y.jsx("span",{className:"text-xs font-bold text-secondary uppercase",children:"Selected Package"}),y.jsx("div",{className:"font-bold text-gray-800",children:re.name}),y.jsxs("div",{className:"text-primary font-bold",children:["",re.price.toLocaleString()]})]}):W?y.jsxs("div",{className:"mb-6",children:[y.jsx("img",{src:W.image,alt:"Service",className:"w-full h-32 object-cover rounded-lg mb-4 shadow-md"}),y.jsx("h4",{className:"font-serif text-xl font-bold text-primary",children:W.title}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Starting @ ",W.priceStart]})]}):null]}),y.jsxs("div",{className:"mt-8 space-y-3",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-blue-50 p-3 rounded-lg border border-blue-100",children:[y.jsx(Ly,{className:"w-4 h-4 text-blue-500"}),y.jsx("span",{className:"text-xs",children:"Location will be attached to order"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[y.jsx(jg,{className:"w-4 h-4"}),y.jsx("span",{children:"Booking handled via WhatsApp"})]})]})]}),y.jsxs("div",{className:"w-full md:w-2/3 p-6 md:p-8",children:[y.jsx("h2",{className:"text-3xl font-serif font-bold text-gray-900 mb-6",children:"Complete Booking"}),y.jsxs("form",{onSubmit:N,className:"space-y-4",noValidate:!0,children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Full Name"}),y.jsx("input",{type:"text",name:"fullName",value:c.fullName,onChange:O,className:D("fullName"),placeholder:"John Doe"}),d.fullName&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Xo,{className:"w-3 h-3"})," ",d.fullName]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Phone (+91)"}),y.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:O,className:D("phone"),placeholder:"9936169852",maxLength:10}),d.phone&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Xo,{className:"w-3 h-3"})," ",d.phone]})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase",children:["Email Address ",y.jsx("span",{className:"text-gray-300 font-normal normal-case",children:"(Optional)"})]}),y.jsx("input",{type:"email",name:"email",value:c.email,onChange:O,className:D("email"),placeholder:"you@example.com"}),d.email&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Xo,{className:"w-3 h-3"})," ",d.email]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Service Type"}),y.jsx("select",{name:"serviceId",value:c.serviceId,onChange:V,className:D("serviceId"),disabled:!!s,children:a.map(P=>y.jsx("option",{value:P.id,children:P.title},P.id))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Package / Item"}),ee?y.jsx("div",{className:"w-full p-3 bg-gray-100 rounded-lg border border-gray-200 text-gray-600 truncate",children:ee.name}):y.jsxs("select",{name:"packageId",value:c.packageId,onChange:O,className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",children:[y.jsx("option",{value:"",children:"Select a package (Optional)"}),k.map(P=>y.jsxs("option",{value:P.id,children:[P.name," - ",P.price]},P.id))]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Event Date"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"date",name:"date",value:c.date,onChange:O,className:D("date"),min:new Date().toISOString().split("T")[0]}),y.jsx(ND,{className:"absolute right-3 top-3 text-gray-400 w-5 h-5 pointer-events-none"})]}),d.date&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Xo,{className:"w-3 h-3"})," ",d.date]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Guest Count"}),y.jsx("input",{type:"number",name:"guests",value:c.guests,onChange:O,className:D("guests"),min:"5"}),d.guests&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Xo,{className:"w-3 h-3"})," ",d.guests]})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Venue Address"}),y.jsx("input",{type:"text",name:"address",value:c.address,onChange:O,className:D("address"),placeholder:"Area, Street, City"}),d.address&&y.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[y.jsx(Xo,{className:"w-3 h-3"})," ",d.address]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Special Request / Message"}),y.jsx("textarea",{name:"message",value:c.message,onChange:O,className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none h-24 resize-none transition-all",placeholder:"Specific theme colors, timing constraints, etc."})]}),y.jsxs("div",{className:"pt-4",children:[y.jsx("button",{type:"submit",disabled:v,className:"w-full bg-primary hover:bg-purple-700 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transform active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:v?y.jsx("span",{className:"flex items-center gap-2",children:L?"Fetching Location...":"Opening WhatsApp..."}):y.jsxs(y.Fragment,{children:["Book via WhatsApp ",y.jsx(jg,{className:"w-5 h-5"})]})}),y.jsx("p",{className:"text-center text-xs text-gray-400 mt-3",children:'Clicking "Book" will request your location to help us find you easily.'})]})]})]})]})})},AB=({product:t,onQuickView:e})=>{const[n,s]=j.useState(!1);return y.jsxs(Ge.article,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{y:-8,scale:1.02},transition:{type:"spring",stiffness:300,damping:20},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),className:"group bg-white rounded-xl shadow-sm hover:shadow-2xl border border-gray-100 overflow-hidden flex flex-col relative",children:[t.discountText&&y.jsx(Ge.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-3 left-3 z-20 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-md shadow-lg",children:t.discountText}),y.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[y.jsx("img",{src:t.image,alt:t.name,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-110"}),y.jsxs("div",{className:`absolute inset-0 bg-black/40 backdrop-blur-[2px] transition-opacity duration-300 flex items-center justify-center gap-3 ${n?"opacity-100":"opacity-0"}`,children:[y.jsxs(Ge.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>e(t),className:"bg-white text-gray-900 px-4 py-2 rounded-full font-bold text-sm flex items-center gap-2 shadow-xl",children:[y.jsx(LD,{className:"w-4 h-4"})," View"]}),y.jsx(dt,{to:`/booking?service=${t.serviceId}&package=${t.id}`,children:y.jsxs(Ge.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"bg-primary text-white px-4 py-2 rounded-full font-bold text-sm flex items-center gap-2 shadow-xl",children:[y.jsx(Vg,{className:"w-4 h-4"})," Book"]})})]})]}),y.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[y.jsx("div",{className:"flex justify-between items-start mb-2",children:y.jsxs("div",{children:[y.jsx("h3",{className:"font-serif font-bold text-gray-900 group-hover:text-primary transition-colors line-clamp-1 text-lg",children:t.name}),y.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[y.jsxs("div",{className:"flex text-yellow-400 text-xs",children:["".repeat(Math.floor(t.rating)),y.jsx("span",{className:"text-gray-300",children:"".repeat(5-Math.floor(t.rating))})]}),y.jsxs("span",{className:"text-xs text-gray-400",children:["(",t.reviews,")"]})]})]})}),y.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:t.shortDescription}),y.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:t.tags.slice(0,3).map(a=>y.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider px-2 py-1 bg-gray-100 text-gray-600 rounded-sm",children:a},a))}),y.jsxs("div",{className:"mt-auto pt-3 border-t border-gray-50 flex items-center justify-between",children:[y.jsxs("div",{children:[t.oldPrice>t.price&&y.jsxs("span",{className:"text-xs text-gray-400 line-through mr-2",children:["",t.oldPrice.toLocaleString()]}),y.jsxs("span",{className:"text-xl font-bold text-primary",children:["",t.price.toLocaleString()]})]}),y.jsx(dt,{to:`/booking?service=${t.serviceId}&package=${t.id}`,className:"md:hidden",children:y.jsx("button",{className:"bg-primary/10 text-primary p-2 rounded-lg",children:y.jsx(Vg,{className:"w-5 h-5"})})})]})]})]})},RB=({product:t,onClose:e})=>t?y.jsx(Fa,{children:y.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[y.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),y.jsxs(Ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-h-[90vh]",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-20 bg-white/50 backdrop-blur-md p-2 rounded-full hover:bg-white transition-colors",children:y.jsx(Au,{className:"w-6 h-6 text-gray-800"})}),y.jsxs("div",{className:"w-full md:w-1/2 h-64 md:h-auto bg-gray-100 relative",children:[y.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute bottom-4 left-4 flex gap-2",children:y.jsxs("button",{className:"bg-white/90 backdrop-blur text-xs font-bold px-3 py-1.5 rounded-lg shadow-sm hover:bg-white flex items-center gap-1",children:[y.jsx(oM,{className:"w-3 h-3"})," Share"]})})]}),y.jsxs("div",{className:"w-full md:w-1/2 p-6 md:p-8 overflow-y-auto",children:[y.jsx("div",{className:"mb-1",children:y.jsx("span",{className:"text-primary font-bold text-xs uppercase tracking-wider",children:t.tags[0]||"Featured"})}),y.jsx("h2",{className:"text-3xl font-serif font-bold text-gray-900 mb-2",children:t.name}),y.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",t.price.toLocaleString()]}),t.oldPrice>t.price&&y.jsxs("span",{className:"text-gray-400 line-through mb-1",children:["",t.oldPrice.toLocaleString()]})]}),t.discountText&&y.jsxs("span",{className:"bg-green-100 text-green-700 font-bold px-2 py-1 rounded text-xs",children:["Save ",t.discountText]})]}),y.jsxs("div",{className:"space-y-4 mb-8",children:[y.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-line",children:t.fullDescription}),y.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-600",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(_w,{className:"w-4 h-4 text-green-500"}),y.jsx("span",{children:"Professional Setup"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(VD,{className:"w-4 h-4 text-blue-500"}),y.jsx("span",{children:"4-6 Hour Duration"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(cM,{className:"w-4 h-4 text-purple-500"}),y.jsx("span",{children:"Quality Guarantee"})]})]})]}),y.jsx("div",{className:"flex gap-4 sticky bottom-0 bg-white pt-4 border-t border-gray-100",children:y.jsx(dt,{to:`/booking?service=${t.serviceId}&package=${t.id}`,className:"flex-1",children:y.jsxs("button",{className:"w-full bg-primary hover:bg-purple-700 text-white font-bold py-3.5 rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2",children:[y.jsx(Vg,{className:"w-5 h-5"})," Book Now"]})})})]})]})]})}):null,WE=()=>{const{id:t}=wI(),{services:e,products:n}=Pi(),[s,a]=j.useState(null),[l,c]=j.useState("all"),[f,d]=j.useState("popular"),[p,v]=j.useState("");j.useEffect(()=>{window.scrollTo(0,0)},[t]);const b=e.find(M=>M.id===t),E=j.useMemo(()=>n.filter(M=>M.serviceId===t),[t,n]),A=j.useMemo(()=>{const M=new Set;return E.forEach(I=>I.tags.forEach(O=>M.add(O))),Array.from(M)},[E]),L=j.useMemo(()=>{let M=[...E];if(l!=="all"&&(M=M.filter(I=>I.tags.includes(l))),p){const I=p.toLowerCase();M=M.filter(O=>O.name.toLowerCase().includes(I)||O.shortDescription.toLowerCase().includes(I))}switch(f){case"price-asc":M.sort((I,O)=>I.price-O.price);break;case"price-desc":M.sort((I,O)=>O.price-I.price);break;case"newest":M=M.filter(I=>I.tags.includes("new")).concat(M.filter(I=>!I.tags.includes("new")));break;default:M.sort((I,O)=>O.rating-I.rating)}return M},[E,l,f,p]);return b?y.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20 pb-20",children:[y.jsxs("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-30 shadow-sm transition-all",children:[y.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-gray-900 mb-2",children:b.title}),y.jsx("p",{className:"text-gray-500 max-w-2xl",children:b.description})]}),y.jsxs("div",{className:"text-right hidden md:block",children:[y.jsx("div",{className:"text-sm text-gray-400",children:"Starting from"}),y.jsxs("div",{className:"text-2xl font-bold text-primary",children:["",b.priceStart.toLocaleString()]})]})]})}),y.jsx("div",{className:"border-t border-gray-100 bg-white px-4 py-3",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row gap-4 justify-between items-center",children:[y.jsxs("div",{className:"relative w-full md:w-64",children:[y.jsx(rM,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search items...",value:p,onChange:M=>v(M.target.value),className:"w-full pl-9 pr-4 py-2 bg-gray-100 border-none rounded-full text-sm focus:ring-2 focus:ring-primary/20 outline-none"})]}),y.jsxs("div",{className:"flex gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 no-scrollbar",children:[y.jsx("button",{onClick:()=>c("all"),className:`px-4 py-1.5 rounded-full text-sm font-bold whitespace-nowrap transition-colors ${l==="all"?"bg-black text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All Items"}),A.map(M=>y.jsx("button",{onClick:()=>c(M),className:`px-4 py-1.5 rounded-full text-sm font-bold whitespace-nowrap capitalize transition-colors ${l===M?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:M},M))]}),y.jsxs("div",{className:"relative group min-w-[140px]",children:[y.jsxs("select",{value:f,onChange:M=>d(M.target.value),className:"appearance-none w-full bg-white border border-gray-200 px-4 py-2 rounded-lg text-sm font-bold text-gray-700 cursor-pointer hover:border-primary focus:outline-none",children:[y.jsx("option",{value:"popular",children:"Most Popular"}),y.jsx("option",{value:"price-asc",children:"Price: Low to High"}),y.jsx("option",{value:"price-desc",children:"Price: High to Low"}),y.jsx("option",{value:"newest",children:"New Arrivals"})]}),y.jsx(bw,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]})})]}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[y.jsx(Ge.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:L.map(M=>y.jsx(AB,{product:M,onQuickView:a},M.id))}),L.length===0&&y.jsxs("div",{className:"text-center py-20 text-gray-400",children:[y.jsx("p",{children:"No items found matching your criteria."}),y.jsx("button",{onClick:()=>{c("all"),v("")},className:"mt-4 text-primary font-bold hover:underline",children:"Clear filters"})]})]}),y.jsx(RB,{product:s,onClose:()=>a(null)})]}):y.jsxs("div",{className:"p-20 text-center",children:["Service not found. ",y.jsx(dt,{to:"/",className:"text-primary underline",children:"Go Home"})]})},CB=({onBack:t,onSuccess:e})=>{const{capturedMoments:n,services:s,refreshData:a}=Pi(),[l,c]=j.useState(!1),[f,d]=j.useState(0),[p,v]=j.useState({name:"",type:"",imageUrl:""}),[b,E]=j.useState(null),A=async k=>{k.preventDefault(),c(!0),d(0);try{let W=p.imageUrl;if(b){const re=Qd(Wd,`captured_moments/${Date.now()}_${b.name}`),N=Yd(re,b);await new Promise((C,D)=>{N.on("state_changed",z=>d(z.bytesTransferred/z.totalBytes*100),D,async()=>{W=await Xd(N.snapshot.ref),C()})})}if(!W){alert("Please provide an image URL or upload a file."),c(!1);return}const ee={name:p.name,type:p.type||"General",imageUrl:W,timestamp:Sl()};await sR(su(as,"captured_moments"),ee),v({name:"",type:"",imageUrl:""}),E(null),d(0),await a(),alert("Moment captured successfully!")}catch(W){console.error(W),alert("Failed to save moment.")}finally{c(!1)}},[L,M]=j.useState(null),[I,O]=j.useState(null),V=async k=>{console.log("Deleting moment:",k),M(k),O(null);try{await iR(zu(as,"captured_moments",k)),await a()}catch(W){console.error(W),alert("Failed to delete.")}finally{M(null)}};return y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("button",{onClick:t,className:"text-gray-500 hover:text-gray-900 flex items-center gap-2 mb-6",children:[y.jsx(qa,{className:"w-4 h-4"})," Back to Dashboard"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsx("div",{children:y.jsxs("div",{className:"bg-white p-6 rounded-xl border shadow-sm mb-8",children:[y.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[y.jsx(vw,{className:"w-5 h-5 text-primary"}),"Add New Moment"]}),y.jsxs("form",{onSubmit:A,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Moment Name"}),y.jsx("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary outline-none",value:p.name,onChange:k=>v({...p,name:k.target.value}),placeholder:"e.g. Birthday Bash at Grand Hotel",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Service Type"}),y.jsxs("select",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary outline-none",value:p.type,onChange:k=>v({...p,type:k.target.value}),required:!0,children:[y.jsx("option",{value:"",children:"Select Service..."}),s.map(k=>y.jsx("option",{value:k.title,children:k.title},k.id)),y.jsx("option",{value:"General",children:"General/Other"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Photo"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"file",accept:"image/*",onChange:k=>{var W;return E(((W=k.target.files)==null?void 0:W[0])||null)},className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),y.jsx("div",{className:"text-center text-gray-400 text-xs",children:"- OR -"}),y.jsx("input",{type:"url",placeholder:"Paste Image URL",className:"w-full p-2 border rounded-lg text-sm",value:p.imageUrl,onChange:k=>v({...p,imageUrl:k.target.value})})]}),(b||p.imageUrl)&&y.jsx("div",{className:"mt-4 relative h-40 rounded-lg overflow-hidden bg-gray-100 border",children:y.jsx("img",{src:b?URL.createObjectURL(b):p.imageUrl,alt:"Preview",className:"w-full h-full object-contain"})}),l&&f>0&&y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:y.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]}),y.jsxs("button",{type:"submit",disabled:l,className:"w-full bg-primary text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 hover:bg-purple-700 transition-colors",children:[l?y.jsx(gl,{className:"animate-spin w-5 h-5"}):y.jsx(By,{className:"w-5 h-5"}),"Save Moment"]})]})]})}),y.jsx("div",{children:y.jsxs("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b bg-gray-50 font-bold text-gray-700",children:["Recent Moments (",n.length,")"]}),y.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:n.length===0?y.jsx("div",{className:"p-8 text-center text-gray-500",children:"No moments added yet."}):n.map(k=>y.jsxs("div",{className:"p-4 flex items-center gap-4 hover:bg-gray-50 transition-colors group",children:[y.jsx("img",{src:k.imageUrl,alt:k.name,className:"w-16 h-16 rounded-lg object-cover bg-gray-200"}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("h4",{className:"font-bold text-gray-900",children:k.name}),y.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:k.type})]}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{type:"button",onClick:()=>O(I===k.id?null:k.id),className:`text-gray-400 hover:text-red-500 p-2 transition-opacity disabled:opacity-50 ${I===k.id?"opacity-100 text-red-500":"opacity-0 group-hover:opacity-100"}`,title:"Delete",disabled:L===k.id,children:L===k.id?y.jsx(gl,{className:"w-5 h-5 animate-spin text-red-500"}):y.jsx(Rw,{className:"w-5 h-5"})}),I===k.id&&y.jsxs("div",{className:"absolute right-0 top-10 z-10 bg-white shadow-xl border border-gray-200 rounded-lg p-3 w-48 text-center animate-in fade-in zoom-in duration-200",children:[y.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-3",children:"Delete this moment?"}),y.jsxs("div",{className:"flex gap-2 justify-center",children:[y.jsx("button",{onClick:()=>O(null),className:"px-3 py-1.5 text-xs font-bold text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),y.jsx("button",{onClick:()=>V(k.id),className:"px-3 py-1.5 text-xs font-bold text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors",children:"Delete"})]}),y.jsx("div",{className:"absolute -top-1.5 right-3 w-3 h-3 bg-white border-t border-l border-gray-200 transform rotate-45"})]})]})]},k.id))})]})})]})]})},NB=({onBack:t,onSuccess:e})=>{const{testimonials:n,refreshData:s}=Pi(),[a,l]=j.useState(!1),[c,f]=j.useState(0),[d,p]=j.useState({name:"",rating:"5",message:"",imageUrl:""}),[v,b]=j.useState(null),E=async V=>{V.preventDefault(),l(!0),f(0);try{let k=d.imageUrl;if(v){const ee=Qd(Wd,`testimonials/${Date.now()}_${v.name}`),re=Yd(ee,v);await new Promise((N,C)=>{re.on("state_changed",D=>f(D.bytesTransferred/D.totalBytes*100),C,async()=>{k=await Xd(re.snapshot.ref),N()})})}k||(k=`https://ui-avatars.com/api/?name=${d.name}&background=random`);const W={name:d.name,rating:Number(d.rating),comment:d.message,image:k};await sR(su(as,"testimonials"),{...W,createdAt:Sl()}),p({name:"",rating:"5",message:"",imageUrl:""}),b(null),f(0),await s(),alert("Testimonial added successfully!")}catch(k){console.error(k),alert("Failed to save testimonial.")}finally{l(!1)}},[A,L]=j.useState(null),[M,I]=j.useState(null),O=async V=>{console.log("Deleting testimonial:",V),L(V),I(null);try{await iR(zu(as,"testimonials",V)),console.log("Document deleted, refreshing data..."),await s(),console.log("Data refreshed.")}catch(k){console.error("Error deleting testimonial:",k),alert("Failed to delete. Check console for details.")}finally{L(null)}};return y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("button",{onClick:t,className:"text-gray-500 hover:text-gray-900 flex items-center gap-2 mb-6",children:[y.jsx(qa,{className:"w-4 h-4"})," Back to Dashboard"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsx("div",{children:y.jsxs("div",{className:"bg-white p-6 rounded-xl border shadow-sm mb-8",children:[y.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[y.jsx(Ew,{className:"w-5 h-5 text-red-500"}),"Add Client Love"]}),y.jsxs("form",{onSubmit:E,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Client Name"}),y.jsx("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary outline-none",value:d.name,onChange:V=>p({...d,name:V.target.value}),placeholder:"e.g. Priya Sharma",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Rating"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("input",{type:"range",min:"1",max:"5",step:"0.5",className:"flex-grow accent-primary",value:d.rating,onChange:V=>p({...d,rating:V.target.value})}),y.jsxs("span",{className:"font-bold text-lg flex items-center gap-1 w-16",children:[d.rating," ",y.jsx(zy,{className:"w-4 h-4 text-yellow-500 fill-current"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Message"}),y.jsx("textarea",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary outline-none min-h-[100px]",value:d.message,onChange:V=>p({...d,message:V.target.value}),placeholder:"What did they say?",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Photo (Optional)"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"file",accept:"image/*",onChange:V=>{var k;return b(((k=V.target.files)==null?void 0:k[0])||null)},className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),y.jsx("div",{className:"text-center text-gray-400 text-xs",children:"- OR -"}),y.jsx("input",{type:"url",placeholder:"Paste Image URL",className:"w-full p-2 border rounded-lg text-sm",value:d.imageUrl,onChange:V=>p({...d,imageUrl:V.target.value})})]}),a&&c>0&&y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:y.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${c}%`}})})]}),y.jsxs("button",{type:"submit",disabled:a,className:"w-full bg-primary text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 hover:bg-purple-700 transition-colors",children:[a?y.jsx(gl,{className:"animate-spin w-5 h-5"}):y.jsx(By,{className:"w-5 h-5"}),"Save Review"]})]})]})}),y.jsx("div",{children:y.jsxs("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden h-full flex flex-col",children:[y.jsxs("div",{className:"p-4 border-b bg-gray-50 font-bold text-gray-700",children:["Recent Reviews (",n.length,")"]}),y.jsx("div",{className:"divide-y overflow-y-auto flex-grow",style:{maxHeight:"600px"},children:n.length===0?y.jsx("div",{className:"p-8 text-center text-gray-500",children:"No testimonials yet."}):n.map(V=>y.jsxs("div",{className:"p-4 flex gap-4 hover:bg-gray-50 transition-colors group relative",children:[y.jsx("img",{src:V.image,alt:V.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h4",{className:"font-bold text-gray-900",children:V.name}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{type:"button",onClick:()=>I(M===V.id?null:V.id),className:`text-gray-400 hover:text-red-500 p-1 transition-opacity disabled:opacity-50 ${M===V.id?"opacity-100 text-red-500":"opacity-0 group-hover:opacity-100"}`,title:"Delete",disabled:A===V.id,children:A===V.id?y.jsx(gl,{className:"w-4 h-4 animate-spin text-red-500"}):y.jsx(Rw,{className:"w-4 h-4"})}),M===V.id&&y.jsxs("div",{className:"absolute right-0 top-8 z-10 bg-white shadow-xl border border-gray-200 rounded-lg p-3 w-48 text-center animate-in fade-in zoom-in duration-200",children:[y.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-3",children:"Delete this review?"}),y.jsxs("div",{className:"flex gap-2 justify-center",children:[y.jsx("button",{onClick:()=>I(null),className:"px-3 py-1.5 text-xs font-bold text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),y.jsx("button",{onClick:()=>O(V.id),className:"px-3 py-1.5 text-xs font-bold text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors",children:"Delete"})]}),y.jsx("div",{className:"absolute -top-1.5 right-2 w-3 h-3 bg-white border-t border-l border-gray-200 transform rotate-45"})]})]})]}),y.jsx("div",{className:"flex text-yellow-500 text-xs mb-1",children:"".repeat(Math.round(V.rating))}),y.jsxs("p",{className:"text-gray-600 text-sm line-clamp-2 italic",children:['"',V.comment,'"']})]})]},V.id))})]})})]})]})},IB=()=>{const[t,e]=j.useState(null),[n,s]=j.useState(""),[a,l]=j.useState(""),[c,f]=j.useState(!1),[d,p]=j.useState(""),{services:v,refreshData:b}=Pi(),[E,A]=j.useState(null),[L,M]=j.useState("list");j.useEffect(()=>{const V=W5(Mg,k=>{e(k)});return()=>V()},[]);const I=async V=>{V.preventDefault(),f(!0),p("");try{await Y5(Mg,n,a),await b()}catch(k){p("Login failed: "+k.message)}finally{f(!1)}},O=()=>{Z5(Mg)};return t?y.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[y.jsxs("header",{className:"bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[y.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Dashboard"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:"text-sm text-gray-500 hidden md:inline",children:t.email}),y.jsx("button",{onClick:O,className:"text-red-500 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Logout",children:y.jsx(YD,{className:"w-5 h-5"})})]})]}),y.jsxs("main",{className:"flex-grow p-6 max-w-7xl mx-auto w-full",children:[L==="list"&&y.jsx(DB,{services:v,onAddService:()=>{A(null),M("service-form")},onEditService:V=>{A(V),M("service-form")},onManageMoments:()=>M("moments"),onManageTestimonials:()=>M("testimonials")}),L==="moments"&&y.jsx(CB,{onBack:()=>M("list"),onSuccess:()=>{b()}}),L==="testimonials"&&y.jsx(NB,{onBack:()=>M("list"),onSuccess:()=>{b()}}),L==="service-form"&&y.jsx(MB,{serviceId:E,onBack:()=>M("list"),onSuccess:()=>{b(),M("list")},onManageItems:V=>{A(V),M("item-form")}}),L==="item-form"&&E&&y.jsx(kB,{serviceId:E,onBack:()=>M("service-form"),onSuccess:()=>b()})]})]}):y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx($D,{className:"w-8 h-8 text-primary"})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Portal"}),y.jsx("p",{className:"text-gray-500 text-sm",children:"TheDecoratingVaranasi"})]}),y.jsxs("form",{onSubmit:I,className:"space-y-4",children:[y.jsx("input",{type:"email",placeholder:"Admin Email",value:n,onChange:V=>s(V.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary outline-none",required:!0}),y.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:V=>l(V.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary outline-none",required:!0}),d&&y.jsx("p",{className:"text-red-500 text-sm",children:d}),y.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary text-white py-3 rounded-lg font-bold hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:c?y.jsx(gl,{className:"animate-spin w-5 h-5"}):"Login"})]}),y.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:y.jsx(dt,{to:"/",className:"hover:text-primary",children:" Back to Website"})})]})})},DB=({services:t,onAddService:e,onEditService:n,onManageMoments:s,onManageTestimonials:a})=>y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Services"}),y.jsxs("button",{onClick:e,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2 font-bold hover:bg-purple-700 transition-colors",children:[y.jsx(Aw,{className:"w-5 h-5"})," Add Service"]})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("button",{onClick:s,className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all flex flex-col items-center justify-center gap-3 group",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-50 text-primary flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors",children:y.jsx(vw,{className:"w-6 h-6"})}),y.jsx("span",{className:"font-bold text-gray-800",children:"Captured Moments"})]}),y.jsxs("button",{onClick:a,className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all flex flex-col items-center justify-center gap-3 group",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-red-50 text-red-500 flex items-center justify-center group-hover:bg-red-500 group-hover:text-white transition-colors",children:y.jsx(Ew,{className:"w-6 h-6"})}),y.jsx("span",{className:"font-bold text-gray-800",children:"Client Love"})]})]}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-8 mb-4",children:"Service Management"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>y.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[y.jsxs("div",{className:"h-40 bg-gray-100 relative",children:[y.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute top-2 right-2 bg-white/90 px-2 py-1 rounded text-xs font-bold shadow-sm",children:l.id})]}),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:l.title}),y.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-2",children:l.description}),l.priceStart>0&&y.jsxs("p",{className:"text-sm font-bold text-primary mb-4",children:["Starts from ",l.priceStart.toLocaleString()]}),y.jsxs("button",{onClick:()=>n(l.id),className:"w-full border border-primary text-primary font-bold py-2 rounded-lg hover:bg-primary/5 transition-colors flex items-center justify-center gap-2",children:[y.jsx(fM,{className:"w-4 h-4"})," Manage"]})]})]},l.id))})]}),MB=({serviceId:t,onBack:e,onSuccess:n,onManageItems:s})=>{const{services:a}=Pi(),l=a.find(V=>V.id===t),[c,f]=j.useState({title:(l==null?void 0:l.title)||"",slug:(l==null?void 0:l.id)||"",description:(l==null?void 0:l.description)||"",tags:(l==null?void 0:l.features)||[],imageUrl:"",priceStart:(l==null?void 0:l.priceStart)||""}),[d,p]=j.useState(null),[v,b]=j.useState(!1),[E,A]=j.useState(""),L=["Balloon Arches","Themed Backdrops","Cake Table Decor"],M=V=>{f(k=>{const W=k.tags.includes(V)?k.tags.filter(ee=>ee!==V):[...k.tags,V];return{...k,tags:W}})},I=()=>{E&&!c.tags.includes(E)&&(f(V=>({...V,tags:[...V.tags,E]})),A(""))},O=async V=>{V.preventDefault(),b(!0);try{let k=c.imageUrl||(l==null?void 0:l.image)||"";if(d){const ee=Qd(Wd,`services/${c.slug}/hero_${Date.now()}`),re=await Yd(ee,d);k=await Xd(re.ref)}const W={service:c.title,slug:c.slug,description:c.description,tags:c.tags,image:k,priceStart:Number(c.priceStart)||0,updatedAt:Sl(),createdAt:(l==null?void 0:l.createdAt)||Sl()};await nR(zu(as,"services",c.slug),W,{merge:!0}),alert("Service Saved!"),n()}catch(k){console.error(k),alert("Error saving service")}finally{b(!1)}};return y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsxs("button",{onClick:e,className:"text-gray-500 hover:text-gray-900 flex items-center gap-2 mb-6",children:[y.jsx(qa,{className:"w-4 h-4"})," Back to Dashboard"]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-8",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Service":"New Service"}),t&&y.jsx("button",{onClick:()=>s(t),className:"bg-secondary text-white px-4 py-2 rounded-lg font-bold text-sm",children:"Manage Items"})]}),y.jsxs("form",{onSubmit:O,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Service Title"}),y.jsx("input",{className:"w-full p-3 border rounded-lg",value:c.title,onChange:V=>f({...c,title:V.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Slug (ID)"}),y.jsx("input",{className:"w-full p-3 border rounded-lg bg-gray-50",value:c.slug,onChange:V=>f({...c,slug:V.target.value.toLowerCase().replace(/\s+/g,"-")}),required:!0,disabled:!!t})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Starting Price"}),y.jsx("input",{type:"number",className:"w-full p-3 border rounded-lg",value:c.priceStart,onChange:V=>f({...c,priceStart:V.target.value}),placeholder:"0"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),y.jsx("textarea",{className:"w-full p-3 border rounded-lg h-32",value:c.description,onChange:V=>f({...c,description:V.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Features / Tags"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:c.tags.map(V=>y.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold flex items-center gap-2",children:[V,y.jsx("button",{type:"button",onClick:()=>M(V),className:"hover:text-red-500",children:""})]},V))}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:L.map(V=>c.tags.includes(V)?null:y.jsxs("button",{type:"button",onClick:()=>M(V),className:"px-3 py-1 rounded-full text-sm border border-gray-200 text-gray-600 hover:border-primary hover:text-primary transition-colors",children:["+ ",V]},V))}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:E,onChange:V=>A(V.target.value),placeholder:"Add extra tag...",className:"flex-grow p-2 border rounded",onKeyDown:V=>{V.key==="Enter"&&(V.preventDefault(),I())}}),y.jsx("button",{type:"button",onClick:I,className:"bg-gray-100 px-4 py-2 rounded font-bold hover:bg-gray-200 text-sm",children:"Add"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Hero Image"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("input",{type:"file",onChange:V=>{var k;return p(((k=V.target.files)==null?void 0:k[0])||null)},accept:"image/*"}),c.imageUrl&&!d&&y.jsx("img",{src:c.imageUrl,className:"w-16 h-16 rounded object-cover",alt:"Preview"}),!c.imageUrl&&(l==null?void 0:l.image)&&!d&&y.jsx("img",{src:l.image,alt:"Current",className:"w-16 h-16 object-cover rounded"})]}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{type:"text",placeholder:"Or paste image URL",className:"w-full p-2 border rounded text-sm",value:c.imageUrl,onChange:V=>f({...c,imageUrl:V.target.value})})})]}),y.jsx("div",{className:"pt-4 border-t flex justify-end",children:y.jsxs("button",{type:"submit",disabled:v,className:"bg-primary text-white px-8 py-3 rounded-lg font-bold hover:bg-purple-700 transition-all flex items-center gap-2",children:[v?y.jsx(gl,{className:"animate-spin"}):y.jsx(By,{className:"w-5 h-5"})," Save Service"]})})]})]})]})},PB=["bestseller","new","premium","same-day","budget"],kB=({serviceId:t,onBack:e,onSuccess:n})=>{const{products:s}=Pi(),a=s.filter(O=>O.serviceId===t),[l,c]=j.useState(null),[f,d]=j.useState({name:"",id:"",price:"",oldPrice:"",shortDesc:"",fullDesc:"",tags:[],stock:"",imageUrl:"",rating:"",reviews:""}),[p,v]=j.useState(null),[b,E]=j.useState(!1),[A,L]=j.useState(0);j.useEffect(()=>{l&&l.id?d({name:l.name,id:l.id,price:l.price,oldPrice:l.oldPrice||"",shortDesc:l.shortDescription,fullDesc:l.fullDescription,tags:l.tags||[],stock:l.stockQty||"",imageUrl:l.image||l.heroImage||"",rating:l.rating||"",reviews:l.reviewsCount||l.reviews||""}):d({name:"",id:"",price:"",oldPrice:"",shortDesc:"",fullDesc:"",tags:[],stock:"",imageUrl:"",rating:"",reviews:""})},[l]);const M=O=>{d(V=>{const k=V.tags.includes(O)?V.tags.filter(W=>W!==O):[...V.tags,O];return{...V,tags:k}})},I=async O=>{O.preventDefault(),E(!0),L(0),console.log("formData",f);try{let V=f.imageUrl||(l==null?void 0:l.image)||"";if(p){const C=Qd(Wd,`services/${t}/items/${f.id}_${Date.now()}`),D=Yd(C,p);await new Promise((z,P)=>{D.on("state_changed",H=>L(H.bytesTransferred/H.totalBytes*100),P,async()=>{V=await Xd(D.snapshot.ref),z()})})}const k=Number(f.price)||0,W=Number(f.oldPrice)||0,ee=W>k?Math.round((W-k)/W*100):0,re={id:f.id,name:f.name,image:V,heroImage:V,images:[V],price:k,oldPrice:W,discountPercent:ee,discountText:ee>0?`${ee}% OFF`:null,shortDescription:f.shortDesc,fullDescription:f.fullDesc,tags:f.tags,rating:f.rating===""?5:Number(f.rating),reviews:f.reviews===""?0:Number(f.reviews),reviewsCount:f.reviews===""?0:Number(f.reviews),stockQty:f.stock===""?10:Number(f.stock),updatedAt:Sl(),createdAt:(l==null?void 0:l.createdAt)||Sl(),currency:"INR",availability:"available",deliveryTimeEstimate:"24-48 hours"},N=zu(as,"services",t,"items",f.id);await nR(N,re,{merge:!0}),alert("Item Saved!"),n(),c(null),v(null)}catch(V){console.error(V),alert("Error saving item")}finally{E(!1)}};return l!==null?y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsxs("button",{onClick:()=>c(null),className:"text-gray-500 mb-6 flex gap-2",children:[y.jsx(qa,{className:"w-4 h-4"})," Back to Item List"]}),y.jsxs("div",{className:"bg-white p-8 rounded-xl border shadow-sm",children:[y.jsx("h2",{className:"text-xl font-bold mb-6",children:l.id?"Edit Item":"New Item"}),y.jsxs("form",{onSubmit:I,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"col-span-2 md:col-span-1",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Item Name"}),y.jsx("input",{className:"w-full p-2 border rounded",value:f.name,onChange:O=>d({...f,name:O.target.value}),required:!0})]}),y.jsxs("div",{className:"col-span-2 md:col-span-1",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Item ID (Slug)"}),y.jsx("input",{className:"w-full p-2 border rounded bg-gray-50",value:f.id,onChange:O=>d({...f,id:O.target.value}),required:!0,disabled:!!l.id})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Price"}),y.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:f.price,onChange:O=>d({...f,price:O.target.value}),required:!0,placeholder:"0"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Old Price"}),y.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:f.oldPrice,onChange:O=>d({...f,oldPrice:O.target.value}),placeholder:"0"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Rating (0-5)"}),y.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",className:"w-full p-2 border rounded",value:f.rating,onChange:O=>d({...f,rating:O.target.value}),placeholder:"5"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Reviews Count"}),y.jsx("input",{type:"number",min:"0",className:"w-full p-2 border rounded",value:f.reviews,onChange:O=>d({...f,reviews:O.target.value}),placeholder:"0"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Short Description"}),y.jsx("textarea",{className:"w-full p-2 border rounded h-20",value:f.shortDesc,onChange:O=>d({...f,shortDesc:O.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Full Description"}),y.jsx("textarea",{className:"w-full p-2 border rounded h-32",value:f.fullDesc,onChange:O=>d({...f,fullDesc:O.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tags"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:PB.map(O=>y.jsxs("button",{type:"button",onClick:()=>M(O),className:`px-3 py-1 rounded-full text-sm font-bold border transition-colors flex items-center gap-1 ${f.tags.includes(O)?"bg-primary text-white border-primary":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}`,children:[O,f.tags.includes(O)&&y.jsx(_w,{className:"w-3 h-3"})]},O))}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Select one or more tags for this product."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Item Image"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("input",{type:"file",onChange:O=>{var V;return v(((V=O.target.files)==null?void 0:V[0])||null)},accept:"image/*"}),y.jsx("input",{type:"file",onChange:O=>{var V;return v(((V=O.target.files)==null?void 0:V[0])||null)},accept:"image/*"}),f.imageUrl&&!p&&y.jsx("img",{src:f.imageUrl,className:"w-16 h-16 rounded object-cover",alt:"Preview"}),!f.imageUrl&&l.image&&!p&&y.jsx("img",{src:l.image,className:"w-16 h-16 rounded object-cover",alt:"Existing"})]}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{type:"text",placeholder:"Or paste image URL",className:"w-full p-2 border rounded text-sm",value:f.imageUrl,onChange:O=>d({...f,imageUrl:O.target.value})})}),b&&A>0&&y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:y.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${A}%`}})})]}),y.jsx("div",{className:"pt-4 border-t flex justify-end",children:y.jsx("button",{type:"submit",disabled:b,className:"bg-primary text-white px-6 py-2 rounded-lg font-bold flex gap-2",children:b?"Uploading...":"Save Item"})})]})]})]}):y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("button",{onClick:e,className:"text-gray-500 hover:text-gray-900 flex items-center gap-2 mb-6",children:[y.jsx(qa,{className:"w-4 h-4"})," Back to Service"]}),y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold",children:["Items for ",t]}),y.jsxs("button",{onClick:()=>c({}),className:"bg-primary text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2",children:[y.jsx(Aw,{className:"w-4 h-4"})," Add Item"]})]}),y.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:a.length===0?y.jsx("div",{className:"p-8 text-center text-gray-500",children:"No items found for this service. Add one!"}):y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-50 border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-4",children:"Image"}),y.jsx("th",{className:"p-4",children:"Name"}),y.jsx("th",{className:"p-4",children:"Price"}),y.jsx("th",{className:"p-4",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y",children:a.map(O=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"p-4",children:y.jsx("img",{src:O.image,alt:O.name,className:"w-12 h-12 rounded object-cover"})}),y.jsx("td",{className:"p-4 font-medium",children:O.name}),y.jsxs("td",{className:"p-4",children:["",O.price]}),y.jsx("td",{className:"p-4",children:y.jsx("button",{onClick:()=>c(O),className:"text-primary font-bold hover:underline",children:"Edit"})})]},O.id))})]})})]})},OB=()=>{const{capturedMoments:t,loading:e}=Pi(),[n,s]=j.useState("All"),[a,l]=j.useState(null),c=["All",...Array.from(new Set(t.map(d=>d.type)))],f=n==="All"?t:t.filter(d=>d.type===n);return e&&t.length===0?y.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-20 flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):y.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-20",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx(Ge.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-primary font-bold uppercase tracking-widest text-xs",children:"Our Portfolio"}),y.jsx(Ge.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-5xl font-serif font-bold text-gray-900 mt-2 mb-4",children:"Captured Moments"}),y.jsx(Ge.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.2},className:"w-20 h-1 bg-secondary mx-auto rounded-full"})]}),c.length>1&&y.jsx("div",{className:"flex justify-center mb-10",children:y.jsx("div",{className:"inline-flex flex-wrap justify-center gap-2 bg-white p-2 rounded-full shadow-sm border border-gray-100",children:c.map(d=>y.jsx("button",{onClick:()=>s(d),className:`px-5 py-2 rounded-full text-sm font-bold transition-all duration-300 ${n===d?"bg-primary text-white shadow-md":"text-gray-500 hover:text-gray-900 hover:bg-gray-50"}`,children:d},d))})}),y.jsx(Ge.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.jsx(Fa,{children:f.map(d=>y.jsxs(Ge.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"group relative aspect-[4/3] rounded-2xl overflow-hidden cursor-pointer shadow-md hover:shadow-xl",onClick:()=>l(d),children:[y.jsx("img",{src:d.imageUrl,alt:d.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),y.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6",children:[y.jsx("span",{className:"text-secondary text-xs font-bold uppercase tracking-wider mb-1",children:d.type}),y.jsxs("h3",{className:"text-white text-xl font-serif font-bold flex items-center justify-between",children:[d.name,y.jsx(yM,{className:"w-5 h-5 text-white/80"})]})]})]},d.id))})}),f.length===0&&y.jsxs("div",{className:"text-center py-20 text-gray-400",children:[y.jsx(zD,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),y.jsx("p",{children:"No photos in this category yet."})]})]}),y.jsx(Fa,{children:a&&y.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center p-4",onClick:()=>l(null),children:y.jsxs(Ge.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-5xl w-full max-h-[90vh] rounded-lg overflow-hidden",onClick:d=>d.stopPropagation(),children:[y.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 z-10 bg-black/50 text-white p-2 rounded-full hover:bg-white hover:text-black transition-colors",children:y.jsx(Au,{className:"w-6 h-6"})}),y.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-contain max-h-[85vh] rounded-lg"}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent text-white",children:y.jsx("h3",{className:"text-2xl font-serif font-bold",children:a.name})})]})})})]})},VB=()=>{const[t,e]=j.useState({name:"",phone:"",service:"General Inquiry",message:""}),[n,s]=j.useState(!1),[a,l]=j.useState(!1),c=d=>{e({...t,[d.target.name]:d.target.value})},f=d=>{d.preventDefault(),s(!0),setTimeout(()=>{l(!0),dA({particleCount:100,spread:70,origin:{y:.6},colors:["#7c3aed","#fbbf24"]});const p=`
New Inquiry from Website:
Name: ${t.name}
Phone: ${t.phone}
Interested In: ${t.service}
Message: ${t.message}
        `.trim(),v=`https://wa.me/${oA}?text=${encodeURIComponent(p)}`;setTimeout(()=>{window.open(v,"_blank"),s(!1),l(!1),e({name:"",phone:"",service:"General Inquiry",message:""})},1500)},800)};return y.jsxs("div",{className:"min-h-screen bg-white pt-20",children:[y.jsxs("div",{className:"bg-dark text-white py-20 px-4 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),y.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[y.jsx(Ge.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"text-4xl md:text-6xl font-serif font-bold mb-4",children:"Get in Touch"}),y.jsx(Ge.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"text-gray-300 text-lg",children:"Ready to plan your next celebration? We're here to help."})]})]}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20",children:[y.jsxs(Ge.div,{initial:{x:-50,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},children:[y.jsx("h2",{className:"text-3xl font-serif font-bold text-gray-900 mb-8",children:"Contact Information"}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 text-primary",children:y.jsx(Uy,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Phone & WhatsApp"}),y.jsx("p",{className:"text-gray-500 mb-1",children:"Available 9 AM - 9 PM"}),y.jsx("a",{href:"tel:+919250333876",className:"text-primary font-bold hover:underline text-lg",children:"+91 92503 33876"})]})]}),y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center flex-shrink-0 text-secondary",children:y.jsx(Sw,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Email Us"}),y.jsx("p",{className:"text-gray-500 mb-1",children:"For corporate & bulk inquiries"}),y.jsx("a",{href:"mailto:thedecoratingvaranasi@gmail.com",className:"text-primary font-bold hover:underline text-lg",children:"thedecoratingvaranasi@gmail.com"})]})]}),y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center flex-shrink-0 text-pink-500",children:y.jsx(Ly,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Visit Us"}),y.jsxs("p",{className:"text-gray-500 text-lg leading-relaxed",children:["Brahmanand Colony, Durgakund,",y.jsx("br",{}),"Varanasi, Uttar Pradesh 221005"]})]})]})]}),y.jsxs("div",{className:"mt-12",children:[y.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Follow Us"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("a",{href:"https://www.instagram.com/thedecoratingvaranasi/",target:"_blank",className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-gradient-to-tr hover:from-yellow-400 hover:via-red-500 hover:to-purple-500 hover:text-white transition-all shadow-sm hover:shadow-lg",children:y.jsx(ww,{className:"w-6 h-6"})}),y.jsx("a",{href:"https://www.facebook.com/p/The-Decorating-Varanasi-61579304051679/",target:"_blank",className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-blue-600 hover:text-white transition-all shadow-sm hover:shadow-lg",children:y.jsx(Tw,{className:"w-6 h-6"})})]})]})]}),y.jsx(Ge.div,{initial:{x:50,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},className:"bg-white rounded-3xl p-8 shadow-2xl border border-gray-100",children:a?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(xw,{className:"w-10 h-10 text-green-600"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Ready!"}),y.jsx("p",{className:"text-gray-500",children:"Redirecting to WhatsApp to send your message..."})]}):y.jsxs("form",{onSubmit:f,className:"space-y-6",children:[y.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900",children:"Send a Message"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Name"}),y.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,required:!0,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",placeholder:"John Doe"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Phone Number"}),y.jsx("input",{type:"number",name:"phone",value:t.phone,onChange:c,required:!0,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",placeholder:"9876543210"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Interested In"}),y.jsxs("select",{name:"service",value:t.service,onChange:c,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all appearance-none",children:[y.jsx("option",{children:"General Inquiry"}),y.jsx("option",{children:"Wedding Decoration"}),y.jsx("option",{children:"Birthday Party"}),y.jsx("option",{children:"Anniversary"}),y.jsx("option",{children:"Corporate Event"}),y.jsx("option",{children:"Other"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Message"}),y.jsx("textarea",{name:"message",value:t.message,onChange:c,required:!0,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all h-32 resize-none",placeholder:"Tell us about your event date, venue, and requirements..."})]}),y.jsx("button",{type:"submit",disabled:n,className:"w-full bg-primary hover:bg-purple-700 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 active:scale-95 transition-all flex items-center justify-center gap-2",children:n?"Opening WhatsApp...":y.jsxs(y.Fragment,{children:["Send to WhatsApp ",y.jsx(jg,{className:"w-5 h-5"})]})})]})})]})}),y.jsx(Ge.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},className:"w-full h-96 bg-gray-100",children:y.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3607.039607198162!2d82.99767677598822!3d25.27581162744383!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x398e33d4b6894c25%3A0x629c42c94a504383!2sDurgakund%2C%20Jawahar%20Nagar%20Colony%2C%20Bhelupur%2C%20Varanasi%2C%20Uttar%20Pradesh!5e0!3m2!1sen!2sin!4v1709825432000!5m2!1sen!2sin",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"grayscale hover:grayscale-0 transition-all duration-700"})})]})},jB=()=>{const{capturedMoments:t,services:e}=Pi(),[n,s]=j.useState("All"),a=n==="All"?t:t.filter(c=>c.type===n),l=["All",...Array.from(new Set(t.map(c=>c.type)))];return!t||t.length===0?null:y.jsx("section",{className:"py-20 bg-white px-4",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("span",{className:"text-primary font-bold uppercase tracking-widest text-xs",children:"Gallery"}),y.jsx("h2",{className:"text-3xl md:text-5xl font-serif font-bold text-gray-900 mt-2",children:"Captured Moments"}),y.jsx("div",{className:"w-20 h-1 bg-secondary mx-auto mt-6 rounded-full"})]}),l.length>1&&y.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:l.map(c=>y.jsx("button",{onClick:()=>s(c),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 ${n===c?"bg-primary text-white shadow-lg transform scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:c},c))}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map((c,f)=>y.jsxs(Ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f*.1},className:"group relative overflow-hidden rounded-xl aspect-[4/5] cursor-pointer",children:[y.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),y.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6",children:[y.jsx("span",{className:"text-secondary text-xs font-bold uppercase tracking-wider mb-2",children:c.type}),y.jsx("h3",{className:"text-white font-serif text-xl font-bold",children:c.name})]})]},c.id))})]})})},LB=({testimonial:t,onClose:e})=>y.jsx(Fa,{children:t&&y.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:e,children:y.jsxs(Ge.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-white rounded-2xl max-w-lg w-full overflow-hidden shadow-2xl relative",onClick:n=>n.stopPropagation(),children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors z-10",children:y.jsx(Au,{className:"w-5 h-5 text-gray-500"})}),y.jsxs("div",{className:"relative h-32 bg-primary/5",children:[y.jsx(nM,{className:"absolute top-6 left-6 w-12 h-12 text-primary/10"}),y.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2",children:y.jsx("img",{src:t.image,alt:t.name,className:"w-20 h-20 rounded-full border-4 border-white shadow-lg object-cover"})})]}),y.jsxs("div",{className:"pt-12 pb-8 px-8 text-center",children:[y.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-900 mb-1",children:t.name}),y.jsx("div",{className:"flex justify-center gap-1 mb-6",children:[...Array(5)].map((n,s)=>y.jsx(zy,{className:`w-4 h-4 ${s<t.rating?"text-yellow-400 fill-current":"text-gray-300"}`},s))}),y.jsxs("blockquote",{className:"text-gray-600 italic leading-relaxed text-lg",children:['"',t.comment,'"']})]})]})})}),UB=()=>{const{pathname:t}=_s();return j.useEffect(()=>{window.scrollTo(0,0)},[t]),null},BB=()=>y.jsxs("footer",{className:"bg-dark text-gray-300 py-16",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-12",children:[y.jsxs("div",{className:"col-span-1 md:col-span-2",children:[y.jsx("img",{src:cA,alt:lA,className:"h-12 w-auto object-contain mb-6 rounded-lg bg-white/10"}),y.jsx("p",{className:"text-sm leading-relaxed mb-6 max-w-sm",children:"Creating timeless memories through exquisite event styling. Based in the heart of Varanasi, we bring joy, color, and elegance to every celebration."}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("a",{href:"https://www.instagram.com/thedecoratingvaranasi/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors cursor-pointer",children:y.jsx(ww,{className:"w-5 h-5"})}),y.jsx("a",{href:"https://www.facebook.com/p/The-Decorating-Varanasi-61579304051679/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors cursor-pointer",children:y.jsx(Tw,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-bold mb-4 uppercase text-sm tracking-wider",children:"Quick Links"}),y.jsxs("ul",{className:"space-y-2 text-sm",children:[y.jsx("li",{children:y.jsx(dt,{to:"/",className:"hover:text-secondary transition-colors",children:"Home"})}),y.jsx("li",{children:y.jsx(dt,{to:"/services",className:"hover:text-secondary transition-colors",children:"All Services"})}),y.jsx("li",{children:y.jsx(dt,{to:"/gallery",className:"hover:text-secondary transition-colors",children:"Gallery"})}),y.jsx("li",{children:y.jsx(dt,{to:"/contact",className:"hover:text-secondary transition-colors",children:"Contact Us"})}),y.jsx("li",{children:y.jsx(dt,{to:"/booking",className:"hover:text-secondary transition-colors",children:"Book Now"})}),y.jsx("li",{children:y.jsx(dt,{to:"/admin",className:"hover:text-secondary transition-colors",children:"Admin Portal"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-bold mb-4 uppercase text-sm tracking-wider",children:"Contact"}),y.jsxs("ul",{className:"space-y-4 text-sm",children:[y.jsxs("li",{className:"flex items-center gap-3",children:[y.jsx(Uy,{className:"w-4 h-4 text-secondary"}),y.jsx("span",{children:"+91 92503 33876"})]}),y.jsxs("li",{className:"flex items-center gap-3",children:[y.jsx(Sw,{className:"w-4 h-4 text-secondary"}),y.jsx("span",{children:"thedecoratingvaranasi@gmail.com"})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx(Ly,{className:"w-4 h-4 text-secondary mt-1"}),y.jsx("span",{children:"Brahmanand Colony, Durgakund, Varanasi"})]})]})]})]}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 mt-12 pt-8 border-t border-gray-800 text-center text-xs text-gray-500",children:[" ",new Date().getFullYear()," TheDecoratingVaranasi. All rights reserved."]})]}),ZE=()=>{const{services:t,testimonials:e,loading:n}=Pi(),[s,a]=ew.useState(null);return n&&t.length===0?y.jsx("div",{className:"min-h-screen flex items-center justify-center text-primary",children:"Loading amazing things..."}):y.jsxs(y.Fragment,{children:[y.jsx(W4,{}),y.jsx("section",{id:"services",className:"py-20 bg-gray-50 px-4",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("span",{className:"text-primary font-bold uppercase tracking-widest text-xs",children:"Our Expertise"}),y.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-bold text-gray-900 mt-2",children:"Curated Experiences"}),y.jsx("div",{className:"w-20 h-1 bg-secondary mx-auto mt-6 rounded-full"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((l,c)=>y.jsx(fA,{service:l,index:c},l.id))})]})}),y.jsx("section",{className:"py-20 bg-white px-4",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsx("div",{className:"text-center mb-16",children:y.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-gray-900",children:"How It Works"})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{num:"01",title:"Choose Service",desc:"Browse our wide range of decoration themes."},{num:"02",title:"Customize",desc:"Add personal touches and specific requirements."},{num:"03",title:"Book Online",desc:"Fill the simple form to initiate the request."},{num:"04",title:"Confirm",desc:"Finalize details on WhatsApp with our expert."}].map((l,c)=>y.jsxs(Ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:c*.2},className:"text-center group",children:[y.jsx("div",{className:"w-16 h-16 rounded-2xl bg-purple-50 text-primary font-bold text-2xl flex items-center justify-center mx-auto mb-6 group-hover:bg-primary group-hover:text-white transition-colors",children:l.num}),y.jsx("h3",{className:"font-bold text-xl mb-2",children:l.title}),y.jsx("p",{className:"text-gray-500 text-sm",children:l.desc})]},c))})]})}),y.jsx(jB,{}),y.jsxs("section",{className:"py-20 bg-dark relative overflow-hidden px-4",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),y.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-white text-center mb-12",children:"Client Love"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(l=>y.jsxs(Ge.div,{whileHover:{y:-5},className:"bg-white/10 backdrop-blur-md p-6 rounded-2xl border border-white/10 cursor-pointer h-full hover:bg-white/15 transition-colors",onClick:()=>a(l),children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("img",{src:l.image,alt:l.name,className:"w-12 h-12 rounded-full border-2 border-secondary object-cover"}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-bold",children:l.name}),y.jsx("div",{className:"flex text-secondary text-xs",children:"".repeat(l.rating)})]})]}),y.jsxs("p",{className:"text-gray-300 italic line-clamp-4",children:['"',l.comment,'"']}),y.jsx("div",{className:"mt-4 text-xs font-bold text-secondary uppercase tracking-wider opacity-0 group-hover:opacity-100 transition-opacity",children:"Read Full Review"})]},l.id))})]})]}),y.jsx(LB,{testimonial:s,onClose:()=>a(null)})]})},zB=()=>{const{services:t}=Pi();return y.jsx("div",{className:"pt-20 px-4 min-h-screen bg-gray-50 pb-20",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsx("h1",{className:"text-4xl font-serif font-bold text-center mb-12 mt-10",children:"All Services"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,n)=>y.jsx(fA,{service:e,index:n},e.id))})]})})},FB=()=>y.jsx(wB,{children:y.jsxs(lD,{children:[y.jsx(UB,{}),y.jsx("div",{className:"flex flex-col min-h-screen",children:y.jsxs(eT,{children:[y.jsx(is,{path:"/admin",element:y.jsx(IB,{})}),y.jsx(is,{path:"*",element:y.jsxs(y.Fragment,{children:[y.jsx(Q4,{}),y.jsx("main",{className:"flex-grow",children:y.jsxs(eT,{children:[y.jsx(is,{path:"/",element:y.jsx(ZE,{})}),y.jsx(is,{path:"/services",element:y.jsx(zB,{})}),y.jsx(is,{path:"/gallery",element:y.jsx(OB,{})}),y.jsx(is,{path:"/contact",element:y.jsx(VB,{})}),y.jsx(is,{path:"/booking",element:y.jsxs(y.Fragment,{children:[y.jsx(ZE,{}),y.jsx(SB,{})]})}),y.jsx(is,{path:"/booking/:id",element:y.jsx(WE,{})}),y.jsx(is,{path:"/services/:id",element:y.jsx(WE,{})})]})}),y.jsx(BB,{}),y.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 p-3 md:hidden z-40 flex gap-2 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]",children:[y.jsxs("a",{href:"tel:+919250333876",className:"flex-1 bg-gray-100 text-gray-800 font-bold py-3 rounded-lg flex items-center justify-center gap-2",children:[y.jsx(Uy,{className:"w-4 h-4"})," Call"]}),y.jsx(dt,{to:"/booking",className:"flex-1 bg-primary text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2",children:"Book Now"})]})]})})]})})]})}),rC=document.getElementById("root");if(!rC)throw new Error("Could not find root element to mount to");const HB=$N.createRoot(rC);HB.render(y.jsx(ew.StrictMode,{children:y.jsx(FB,{})}));
